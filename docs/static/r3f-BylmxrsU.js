import{r as N,a as Yd,g as vi,R as In}from"./react-4ldeB94U.js";import{L as Ra,T as of,R as Xd,U as Qd,a as Kd,O as ko,P as hi,S as ks,b as Ua,N as Jd,A as qd,B as sf,M as $d,C as Ls,W as e1,c as t1,d as n1,e as r1,V as o1,f as kt,g as Gt,h as i1,i as s1,j as a1,k as l1,E as u1,l as mo,m as go,Q as Hu,n as Vu,o as Rs,p as yi,q as c1,r as f1,s as d1,t as h1,u as p1,F as m1,v as Ts,I as g1,w as v1,x as y1,y as x1,D as af,z as w1,G as Zu,H as S1,J as C1,K as _1,X as E1,Y as k1,Z as lf,_ as T1,$ as b1,a0 as P1,a1 as M1,a2 as L1,a3 as Gr,a4 as R1,a5 as Yu,a6 as Aa}from"./three-F_kIdB6E.js";var uf={exports:{}},Us={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1=N,A1=Symbol.for("react.element"),D1=Symbol.for("react.fragment"),I1=Object.prototype.hasOwnProperty,O1=U1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F1={key:!0,ref:!0,__self:!0,__source:!0};function cf(o,n,s){var l,i={},r=null,u=null;s!==void 0&&(r=""+s),n.key!==void 0&&(r=""+n.key),n.ref!==void 0&&(u=n.ref);for(l in n)I1.call(n,l)&&!F1.hasOwnProperty(l)&&(i[l]=n[l]);if(o&&o.defaultProps)for(l in n=o.defaultProps,n)i[l]===void 0&&(i[l]=n[l]);return{$$typeof:A1,type:o,key:r,ref:u,props:i,_owner:O1.current}}Us.Fragment=D1;Us.jsx=cf;Us.jsxs=cf;uf.exports=Us;var A=uf.exports,Xu={},ff,Qu=Yd;ff=Xu.createRoot=Qu.createRoot,Xu.hydrateRoot=Qu.hydrateRoot;const j1="modulepreload",z1=function(o){return"/hengkang.guthub.io/"+o},Ku={},u2=function(n,s,l){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),u=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.all(s.map(c=>{if(c=z1(c),c in Ku)return;Ku[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":j1,f||(d.as="script",d.crossOrigin=""),d.href=c,u&&d.setAttribute("nonce",u),document.head.appendChild(d),f)return new Promise((m,v)=>{d.addEventListener("load",m),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}return i.then(()=>n()).catch(r=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=r,window.dispatchEvent(u),!u.defaultPrevented)throw r})};function bs(){return bs=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var l in s)({}).hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},bs.apply(null,arguments)}var df={exports:{}},Yr={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Yr.ConcurrentRoot=1;Yr.ContinuousEventPriority=4;Yr.DefaultEventPriority=16;Yr.DiscreteEventPriority=1;Yr.IdleEventPriority=536870912;Yr.LegacyRoot=0;df.exports=Yr;var To=df.exports;function B1(o){let n;const s=new Set,l=(h,d)=>{const m=typeof h=="function"?h(n):h;if(m!==n){const v=n;n=d?m:Object.assign({},n,m),s.forEach(x=>x(n,v))}},i=()=>n,r=(h,d=i,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let v=d(n);function x(){const S=d(n);if(!m(v,S)){const _=v;h(v=S,_)}}return s.add(x),()=>s.delete(x)},f={setState:l,getState:i,subscribe:(h,d,m)=>d||m?r(h,d,m):(s.add(h),()=>s.delete(h)),destroy:()=>s.clear()};return n=o(l,i,f),f}const N1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ju=N1?N.useEffect:N.useLayoutEffect;function W1(o){const n=typeof o=="function"?B1(o):o,s=(l=n.getState,i=Object.is)=>{const[,r]=N.useReducer(w=>w+1,0),u=n.getState(),c=N.useRef(u),f=N.useRef(l),h=N.useRef(i),d=N.useRef(!1),m=N.useRef();m.current===void 0&&(m.current=l(u));let v,x=!1;(c.current!==u||f.current!==l||h.current!==i||d.current)&&(v=l(u),x=!i(m.current,v)),Ju(()=>{x&&(m.current=v),c.current=u,f.current=l,h.current=i,d.current=!1});const S=N.useRef(u);Ju(()=>{const w=()=>{try{const E=n.getState(),T=f.current(E);h.current(m.current,T)||(c.current=E,m.current=T,r())}catch{d.current=!0,r()}},C=n.subscribe(w);return n.getState()!==S.current&&w(),C},[]);const _=x?v:m.current;return N.useDebugValue(_),_};return Object.assign(s,n),s[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const l=[s,n];return{next(){const i=l.length<=0;return{value:l.shift(),done:i}}}},s}const G1=o=>typeof o=="object"&&typeof o.then=="function",ms=[];function H1(o,n,s=(l,i)=>l===i){if(o===n)return!0;if(!o||!n)return!1;const l=o.length;if(n.length!==l)return!1;for(let i=0;i<l;i++)if(!s(o[i],n[i]))return!1;return!0}function V1(o,n=null,s=!1,l={}){n===null&&(n=[o]);for(const r of ms)if(H1(n,r.keys,r.equal)){if(s)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return l.lifespan&&l.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,l.lifespan)),r.response;if(!s)throw r.promise}const i={keys:n,equal:l.equal,remove:()=>{const r=ms.indexOf(i);r!==-1&&ms.splice(r,1)},promise:(G1(o)?o:o(...n)).then(r=>{i.response=r,l.lifespan&&l.lifespan>0&&(i.timeout=setTimeout(i.remove,l.lifespan))}).catch(r=>i.error=r)};if(ms.push(i),!s)throw i.promise}const Z1=(o,n,s)=>V1(o,n,!1,s);var hf={exports:{}},pf={exports:{}},mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function n(X,G){var B=X.length;X.push(G);e:for(;0<B;){var b=B-1>>>1,F=X[b];if(0<i(F,G))X[b]=G,X[B]=F,B=b;else break e}}function s(X){return X.length===0?null:X[0]}function l(X){if(X.length===0)return null;var G=X[0],B=X.pop();if(B!==G){X[0]=B;e:for(var b=0,F=X.length,W=F>>>1;b<W;){var J=2*(b+1)-1,Z=X[J],ne=J+1,ee=X[ne];if(0>i(Z,B))ne<F&&0>i(ee,Z)?(X[b]=ee,X[ne]=B,b=ne):(X[b]=Z,X[J]=B,b=J);else if(ne<F&&0>i(ee,B))X[b]=ee,X[ne]=B,b=ne;else break e}}return G}function i(X,G){var B=X.sortIndex-G.sortIndex;return B!==0?B:X.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;o.unstable_now=function(){return r.now()}}else{var u=Date,c=u.now();o.unstable_now=function(){return u.now()-c}}var f=[],h=[],d=1,m=null,v=3,x=!1,S=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(X){for(var G=s(h);G!==null;){if(G.callback===null)l(h);else if(G.startTime<=X)l(h),G.sortIndex=G.expirationTime,n(f,G);else break;G=s(h)}}function P(X){if(_=!1,T(X),!S)if(s(f)!==null)S=!0,te(M);else{var G=s(h);G!==null&&fe(P,G.startTime-X)}}function M(X,G){S=!1,_&&(_=!1,C(z),z=-1),x=!0;var B=v;try{for(T(G),m=s(f);m!==null&&(!(m.expirationTime>G)||X&&!K());){var b=m.callback;if(typeof b=="function"){m.callback=null,v=m.priorityLevel;var F=b(m.expirationTime<=G);G=o.unstable_now(),typeof F=="function"?m.callback=F:m===s(f)&&l(f),T(G)}else l(f);m=s(f)}if(m!==null)var W=!0;else{var J=s(h);J!==null&&fe(P,J.startTime-G),W=!1}return W}finally{m=null,v=B,x=!1}}var L=!1,D=null,z=-1,V=5,I=-1;function K(){return!(o.unstable_now()-I<V)}function U(){if(D!==null){var X=o.unstable_now();I=X;var G=!0;try{G=D(!0,X)}finally{G?Q():(L=!1,D=null)}}else L=!1}var Q;if(typeof E=="function")Q=function(){E(U)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ae=Y.port2;Y.port1.onmessage=U,Q=function(){ae.postMessage(null)}}else Q=function(){w(U,0)};function te(X){D=X,L||(L=!0,Q())}function fe(X,G){z=w(function(){X(o.unstable_now())},G)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(X){X.callback=null},o.unstable_continueExecution=function(){S||x||(S=!0,te(M))},o.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<X?Math.floor(1e3/X):5},o.unstable_getCurrentPriorityLevel=function(){return v},o.unstable_getFirstCallbackNode=function(){return s(f)},o.unstable_next=function(X){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var B=v;v=G;try{return X()}finally{v=B}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(X,G){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var B=v;v=X;try{return G()}finally{v=B}},o.unstable_scheduleCallback=function(X,G,B){var b=o.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?b+B:b):B=b,X){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=B+F,X={id:d++,callback:G,priorityLevel:X,startTime:B,expirationTime:F,sortIndex:-1},B>b?(X.sortIndex=B,n(h,X),s(f)===null&&X===s(h)&&(_?(C(z),z=-1):_=!0,fe(P,B-b))):(X.sortIndex=F,n(f,X),S||x||(S=!0,te(M))),X},o.unstable_shouldYield=K,o.unstable_wrapCallback=function(X){var G=v;return function(){var B=v;v=G;try{return X.apply(this,arguments)}finally{v=B}}}})(mf);pf.exports=mf;var Ja=pf.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1=function(n){var s={},l=N,i=Ja,r=Object.assign;function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,f=Symbol.for("react.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),S=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}function D(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d:return"Fragment";case h:return"Portal";case v:return"Profiler";case m:return"StrictMode";case w:return"Suspense";case C:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E:return t=e.displayName||null,t!==null?t:D(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return D(e(t))}catch{}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(t);case 8:return t===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function V(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function I(e){if(V(e)!==e)throw Error(u(188))}function K(e){var t=e.alternate;if(!t){if(t=V(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,p=t;;){var g=a.return;if(g===null)break;var y=g.alternate;if(y===null){if(p=g.return,p!==null){a=p;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===a)return I(g),e;if(y===p)return I(g),t;y=y.sibling}throw Error(u(188))}if(a.return!==p.return)a=g,p=y;else{for(var k=!1,O=g.child;O;){if(O===a){k=!0,a=g,p=y;break}if(O===p){k=!0,p=g,a=y;break}O=O.sibling}if(!k){for(O=y.child;O;){if(O===a){k=!0,a=y,p=g;break}if(O===p){k=!0,p=y,a=g;break}O=O.sibling}if(!k)throw Error(u(189))}}if(a.alternate!==p)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function U(e){return e=K(e),e!==null?Q(e):null}function Q(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Q(e);if(t!==null)return t;e=e.sibling}return null}function Y(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var t=Y(e);if(t!==null)return t}e=e.sibling}return null}var ae=Array.isArray,te=n.getPublicInstance,fe=n.getRootHostContext,X=n.getChildHostContext,G=n.prepareForCommit,B=n.resetAfterCommit,b=n.createInstance,F=n.appendInitialChild,W=n.finalizeInitialChildren,J=n.prepareUpdate,Z=n.shouldSetTextContent,ne=n.createTextInstance,ee=n.scheduleTimeout,ie=n.cancelTimeout,de=n.noTimeout,we=n.isPrimaryRenderer,le=n.supportsMutation,se=n.supportsPersistence,Re=n.supportsHydration,Ie=n.getInstanceFromNode,ye=n.preparePortalMount,Ee=n.getCurrentEventPriority,Ue=n.detachDeletedInstance,ue=n.supportsMicrotasks,Te=n.scheduleMicrotask,xe=n.supportsTestSelectors,re=n.findFiberRoot,ze=n.getBoundingRect,me=n.getTextContent,_e=n.isHiddenSubtree,ge=n.matchAccessibilityRole,qe=n.setFocusIfFocusable,ke=n.setupIntersectionObserver,be=n.appendChild,De=n.appendChildToContainer,Ge=n.commitTextUpdate,it=n.commitMount,ut=n.commitUpdate,Ye=n.insertBefore,He=n.insertInContainerBefore,R=n.removeChild,oe=n.removeChildFromContainer,he=n.resetTextContent,Be=n.hideInstance,Ne=n.hideTextInstance,Me=n.unhideInstance,Xe=n.unhideTextInstance,zn=n.clearContainer,$e=n.cloneInstance,je=n.createContainerChildSet,et=n.appendChildToContainerChildSet,nt=n.finalizeContainerChildren,Fe=n.replaceContainerChildren,tt=n.cloneHiddenInstance,ht=n.cloneHiddenTextInstance,Mt=n.canHydrateInstance,yt=n.canHydrateTextInstance,ln=n.canHydrateSuspenseInstance,Bn=n.isSuspenseInstancePending,un=n.isSuspenseInstanceFallback,Zn=n.registerSuspenseInstanceRetry,cn=n.getNextHydratableSibling,Nn=n.getFirstHydratableChild,Ot=n.getFirstHydratableChildWithinContainer,nr=n.getFirstHydratableChildWithinSuspenseInstance,Ci=n.hydrateInstance,Ao=n.hydrateTextInstance,Os=n.hydrateSuspenseInstance,_i=n.getNextHydratableInstanceAfterSuspenseInstance,kr=n.commitHydratedContainer,Do=n.commitHydratedSuspenseInstance,Fs=n.clearSuspenseBoundary,Ei=n.clearSuspenseBoundaryFromContainer,Xr=n.shouldDeleteUnhydratedTailInstances,Io=n.didNotMatchHydratedContainerTextInstance,Oo=n.didNotMatchHydratedTextInstance,Pe;function Wn(e){if(Pe===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Pe=t&&t[1]||""}return`
`+Pe+e}var Fo=!1;function Yn(e,t){if(!e||Fo)return"";Fo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ce){var p=ce}Reflect.construct(e,[],t)}else{try{t.call()}catch(ce){p=ce}e.call(t.prototype)}else{try{throw Error()}catch(ce){p=ce}e()}}catch(ce){if(ce&&p&&typeof ce.stack=="string"){for(var g=ce.stack.split(`
`),y=p.stack.split(`
`),k=g.length-1,O=y.length-1;1<=k&&0<=O&&g[k]!==y[O];)O--;for(;1<=k&&0<=O;k--,O--)if(g[k]!==y[O]){if(k!==1||O!==1)do if(k--,O--,0>O||g[k]!==y[O]){var $=`
`+g[k].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=k&&0<=O);break}}}finally{Fo=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Wn(e):""}var Qr=Object.prototype.hasOwnProperty,Kr=[],Xn=-1;function fn(e){return{current:e}}function st(e){0>Xn||(e.current=Kr[Xn],Kr[Xn]=null,Xn--)}function at(e,t){Xn++,Kr[Xn]=e.current,e.current=t}var dn={},Tt=fn(dn),Lt=fn(!1),Qn=dn;function En(e,t){var a=e.type.contextTypes;if(!a)return dn;var p=e.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===t)return p.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in a)g[y]=t[y];return p&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=g),g}function Rt(e){return e=e.childContextTypes,e!=null}function Gn(){st(Lt),st(Tt)}function Jr(e,t,a){if(Tt.current!==dn)throw Error(u(168));at(Tt,t),at(Lt,a)}function qr(e,t,a){var p=e.stateNode;if(t=t.childContextTypes,typeof p.getChildContext!="function")return a;p=p.getChildContext();for(var g in p)if(!(g in t))throw Error(u(108,z(e)||"Unknown",g));return r({},a,p)}function pr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Qn=Tt.current,at(Tt,e),at(Lt,Lt.current),!0}function hn(e,t,a){var p=e.stateNode;if(!p)throw Error(u(169));a?(e=qr(e,t,Qn),p.__reactInternalMemoizedMergedChildContext=e,st(Lt),st(Tt),at(Tt,e)):st(Lt),at(Lt,a)}var pn=Math.clz32?Math.clz32:ki,$r=Math.log,Tr=Math.LN2;function ki(e){return e>>>=0,e===0?32:31-($r(e)/Tr|0)|0}var rr=64,or=4194304;function ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function br(e,t){var a=e.pendingLanes;if(a===0)return 0;var p=0,g=e.suspendedLanes,y=e.pingedLanes,k=a&268435455;if(k!==0){var O=k&~g;O!==0?p=ir(O):(y&=k,y!==0&&(p=ir(y)))}else k=a&~g,k!==0?p=ir(k):y!==0&&(p=ir(y));if(p===0)return 0;if(t!==0&&t!==p&&!(t&g)&&(g=p&-p,y=t&-t,g>=y||g===16&&(y&4194240)!==0))return t;if(p&4&&(p|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=p;0<t;)a=31-pn(t),g=1<<a,p|=e[a],t&=~g;return p}function Ti(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(e,t){for(var a=e.suspendedLanes,p=e.pingedLanes,g=e.expirationTimes,y=e.pendingLanes;0<y;){var k=31-pn(y),O=1<<k,$=g[k];$===-1?(!(O&a)||O&p)&&(g[k]=Ti(O,t)):$<=t&&(e.expiredLanes|=O),y&=~O}}function sr(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eo(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Kn(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=a}function mr(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var p=e.eventTimes;for(e=e.expirationTimes;0<a;){var g=31-pn(a),y=1<<g;t[g]=0,p[g]=-1,e[g]=-1,a&=~y}}function Jn(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var p=31-pn(a),g=1<<p;g&t|e[p]&t&&(e[p]|=t),a&=~g}}var Je=0;function zo(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ar=i.unstable_scheduleCallback,to=i.unstable_cancelCallback,Bo=i.unstable_shouldYield,bi=i.unstable_requestPaint,pt=i.unstable_now,Pr=i.unstable_ImmediatePriority,Pi=i.unstable_UserBlockingPriority,Xt=i.unstable_NormalPriority,No=i.unstable_IdlePriority,Mr=null,mn=null;function Wo(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Mr,e,void 0,(e.current.flags&128)===128)}catch{}}function Mi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:Mi,Qt=null,qn=!1,kn=!1;function Go(e){Qt===null?Qt=[e]:Qt.push(e)}function Ho(e){qn=!0,Go(e)}function tn(){if(!kn&&Qt!==null){kn=!0;var e=0,t=Je;try{var a=Qt;for(Je=1;e<a.length;e++){var p=a[e];do p=p(!0);while(p!==null)}Qt=null,qn=!1}catch(g){throw Qt!==null&&(Qt=Qt.slice(e+1)),ar(Pr,tn),g}finally{Je=t,kn=!1}}return null}var Lr=c.ReactCurrentBatchConfig;function Rr(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),p=Object.keys(t);if(a.length!==p.length)return!1;for(p=0;p<a.length;p++){var g=a[p];if(!Qr.call(t,g)||!gn(e[g],t[g]))return!1}return!0}function Ur(e){switch(e.tag){case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 2:case 15:return e=Yn(e.type,!1),e;case 11:return e=Yn(e.type.render,!1),e;case 1:return e=Yn(e.type,!0),e;default:return""}}function Kt(e,t){if(e&&e.defaultProps){t=r({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}var Ut=fn(null),no=null,Hn=null,gr=null;function ro(){gr=Hn=no=null}function Li(e,t,a){we?(at(Ut,t._currentValue),t._currentValue=a):(at(Ut,t._currentValue2),t._currentValue2=a)}function At(e){var t=Ut.current;st(Ut),we?e._currentValue=t:e._currentValue2=t}function Jt(e,t,a){for(;e!==null;){var p=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,p!==null&&(p.childLanes|=t)):p!==null&&(p.childLanes&t)!==t&&(p.childLanes|=t),e===a)break;e=e.return}}function xt(e,t){no=e,gr=Hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wn=!0),e.firstContext=null)}function wt(e){var t=we?e._currentValue:e._currentValue2;if(gr!==e)if(e={context:e,memoizedValue:t,next:null},Hn===null){if(no===null)throw Error(u(308));Hn=e,no.dependencies={lanes:0,firstContext:e}}else Hn=Hn.next=e;return t}var vn=null,vr=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t){var a=e.updateQueue;a!==null&&(a=a.shared,_t!==null&&e.mode&1&&!(Ke&2)?(e=a.interleaved,e===null?(t.next=t,vn===null?vn=[a]:vn.push(a)):(t.next=e.next,e.next=t),a.interleaved=t):(e=a.pending,e===null?t.next=t:(t.next=e.next,e.next=t),a.pending=t))}function Ri(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var p=t.lanes;p&=e.pendingLanes,a|=p,t.lanes=a,Jn(e,a)}}function yl(e,t){var a=e.updateQueue,p=e.alternate;if(p!==null&&(p=p.updateQueue,a===p)){var g=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var k={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?g=y=k:y=y.next=k,a=a.next}while(a!==null);y===null?g=y=t:y=y.next=t}else g=y=t;a={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:p.shared,effects:p.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Ui(e,t,a,p){var g=e.updateQueue;vr=!1;var y=g.firstBaseUpdate,k=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var $=O,ce=$.next;$.next=null,k===null?y=ce:k.next=ce,k=$;var Se=e.alternate;Se!==null&&(Se=Se.updateQueue,O=Se.lastBaseUpdate,O!==k&&(O===null?Se.firstBaseUpdate=ce:O.next=ce,Se.lastBaseUpdate=$))}if(y!==null){var Ve=g.baseState;k=0,Se=ce=$=null,O=y;do{var Oe=O.lane,ct=O.eventTime;if((p&Oe)===Oe){Se!==null&&(Se=Se.next={eventTime:ct,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ae=e,Wt=O;switch(Oe=t,ct=a,Wt.tag){case 1:if(Ae=Wt.payload,typeof Ae=="function"){Ve=Ae.call(ct,Ve,Oe);break e}Ve=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Wt.payload,Oe=typeof Ae=="function"?Ae.call(ct,Ve,Oe):Ae,Oe==null)break e;Ve=r({},Ve,Oe);break e;case 2:vr=!0}}O.callback!==null&&O.lane!==0&&(e.flags|=64,Oe=g.effects,Oe===null?g.effects=[O]:Oe.push(O))}else ct={eventTime:ct,lane:Oe,tag:O.tag,payload:O.payload,callback:O.callback,next:null},Se===null?(ce=Se=ct,$=Ve):Se=Se.next=ct,k|=Oe;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;Oe=O,O=Oe.next,Oe.next=null,g.lastBaseUpdate=Oe,g.shared.pending=null}}while(!0);if(Se===null&&($=Ve),g.baseState=$,g.firstBaseUpdate=ce,g.lastBaseUpdate=Se,t=g.shared.interleaved,t!==null){g=t;do k|=g.lane,g=g.next;while(g!==t)}else y===null&&(g.shared.lanes=0);ho|=k,e.lanes=k,e.memoizedState=Ve}}function xl(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var p=e[t],g=p.callback;if(g!==null){if(p.callback=null,p=a,typeof g!="function")throw Error(u(191,g));g.call(p)}}}var wl=new l.Component().refs;function zs(e,t,a,p){t=e.memoizedState,a=a(p,t),a=a==null?t:r({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ai={isMounted:function(e){return(e=e._reactInternals)?V(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var p=$t(),g=Sr(e),y=lr(p,g);y.payload=t,a!=null&&(y.callback=a),yr(e,y),t=Ln(e,g,p),t!==null&&Ri(t,e,g)},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var p=$t(),g=Sr(e),y=lr(p,g);y.tag=1,y.payload=t,a!=null&&(y.callback=a),yr(e,y),t=Ln(e,g,p),t!==null&&Ri(t,e,g)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=$t(),p=Sr(e),g=lr(a,p);g.tag=2,t!=null&&(g.callback=t),yr(e,g),t=Ln(e,p,a),t!==null&&Ri(t,e,p)}};function Sl(e,t,a,p,g,y,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(p,y,k):t.prototype&&t.prototype.isPureReactComponent?!Rr(a,p)||!Rr(g,y):!0}function Cl(e,t,a){var p=!1,g=dn,y=t.contextType;return typeof y=="object"&&y!==null?y=wt(y):(g=Rt(t)?Qn:Tt.current,p=t.contextTypes,y=(p=p!=null)?En(e,g):dn),t=new t(a,y),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ai,e.stateNode=t,t._reactInternals=e,p&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=y),t}function _l(e,t,a,p){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,p),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,p),t.state!==e&&Ai.enqueueReplaceState(t,t.state,null)}function Bs(e,t,a,p){var g=e.stateNode;g.props=a,g.state=e.memoizedState,g.refs=wl,js(e);var y=t.contextType;typeof y=="object"&&y!==null?g.context=wt(y):(y=Rt(t)?Qn:Tt.current,g.context=En(e,y)),g.state=e.memoizedState,y=t.getDerivedStateFromProps,typeof y=="function"&&(zs(e,t,y,a),g.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(t=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),t!==g.state&&Ai.enqueueReplaceState(g,g.state,null),Ui(e,a,g,p),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308)}var oo=[],io=0,Di=null,Ii=0,Tn=[],bn=0,Ar=null,ur=1,cr="";function Dr(e,t){oo[io++]=Ii,oo[io++]=Di,Di=e,Ii=t}function El(e,t,a){Tn[bn++]=ur,Tn[bn++]=cr,Tn[bn++]=Ar,Ar=e;var p=ur;e=cr;var g=32-pn(p)-1;p&=~(1<<g),a+=1;var y=32-pn(t)+g;if(30<y){var k=g-g%5;y=(p&(1<<k)-1).toString(32),p>>=k,g-=k,ur=1<<32-pn(t)+g|a<<g|p,cr=y+e}else ur=1<<y|a<<g|p,cr=e}function Ns(e){e.return!==null&&(Dr(e,1),El(e,1,0))}function Ws(e){for(;e===Di;)Di=oo[--io],oo[io]=null,Ii=oo[--io],oo[io]=null;for(;e===Ar;)Ar=Tn[--bn],Tn[bn]=null,cr=Tn[--bn],Tn[bn]=null,ur=Tn[--bn],Tn[bn]=null}var yn=null,xn=null,dt=!1,Vo=!1,Vn=null;function kl(e,t){var a=Rn(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function Tl(e,t){switch(e.tag){case 5:return t=Mt(t,e.type,e.pendingProps),t!==null?(e.stateNode=t,yn=e,xn=Nn(t),!0):!1;case 6:return t=yt(t,e.pendingProps),t!==null?(e.stateNode=t,yn=e,xn=null,!0):!1;case 13:if(t=ln(t),t!==null){var a=Ar!==null?{id:ur,overflow:cr}:null;return e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=Rn(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,yn=e,xn=null,!0}return!1;default:return!1}}function Gs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hs(e){if(dt){var t=xn;if(t){var a=t;if(!Tl(e,t)){if(Gs(e))throw Error(u(418));t=cn(a);var p=yn;t&&Tl(e,t)?kl(p,a):(e.flags=e.flags&-4097|2,dt=!1,yn=e)}}else{if(Gs(e))throw Error(u(418));e.flags=e.flags&-4097|2,dt=!1,yn=e}}}function bl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function Zo(e){if(!Re||e!==yn)return!1;if(!dt)return bl(e),dt=!0,!1;if(e.tag!==3&&(e.tag!==5||Xr(e.type)&&!Z(e.type,e.memoizedProps))){var t=xn;if(t){if(Gs(e)){for(e=xn;e;)e=cn(e);throw Error(u(418))}for(;t;)kl(e,t),t=cn(t)}}if(bl(e),e.tag===13){if(!Re)throw Error(u(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));xn=_i(e)}else xn=yn?cn(e.stateNode):null;return!0}function so(){Re&&(xn=yn=null,Vo=dt=!1)}function Vs(e){Vn===null?Vn=[e]:Vn.push(e)}function Yo(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(u(309));var p=a.stateNode}if(!p)throw Error(u(147,e));var g=p,y=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===y?t.ref:(t=function(k){var O=g.refs;O===wl&&(O=g.refs={}),k===null?delete O[y]:O[y]=k},t._stringRef=y,t)}if(typeof e!="string")throw Error(u(284));if(!a._owner)throw Error(u(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pl(e){var t=e._init;return t(e._payload)}function Ml(e){function t(H,j){if(e){var q=H.deletions;q===null?(H.deletions=[j],H.flags|=16):q.push(j)}}function a(H,j){if(!e)return null;for(;j!==null;)t(H,j),j=j.sibling;return null}function p(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function g(H,j){return H=_r(H,j),H.index=0,H.sibling=null,H}function y(H,j,q){return H.index=q,e?(q=H.alternate,q!==null?(q=q.index,q<j?(H.flags|=2,j):q):(H.flags|=2,j)):(H.flags|=1048576,j)}function k(H){return e&&H.alternate===null&&(H.flags|=2),H}function O(H,j,q,ve){return j===null||j.tag!==6?(j=Pa(q,H.mode,ve),j.return=H,j):(j=g(j,q),j.return=H,j)}function $(H,j,q,ve){var Le=q.type;return Le===d?Se(H,j,q.props.children,ve,q.key):j!==null&&(j.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===T&&Pl(Le)===j.type)?(ve=g(j,q.props),ve.ref=Yo(H,j,q),ve.return=H,ve):(ve=hs(q.type,q.key,q.props,null,H.mode,ve),ve.ref=Yo(H,j,q),ve.return=H,ve)}function ce(H,j,q,ve){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Ma(q,H.mode,ve),j.return=H,j):(j=g(j,q.children||[]),j.return=H,j)}function Se(H,j,q,ve,Le){return j===null||j.tag!==7?(j=Nr(q,H.mode,ve,Le),j.return=H,j):(j=g(j,q),j.return=H,j)}function Ve(H,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Pa(""+j,H.mode,q),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case f:return q=hs(j.type,j.key,j.props,null,H.mode,q),q.ref=Yo(H,null,j),q.return=H,q;case h:return j=Ma(j,H.mode,q),j.return=H,j;case T:var ve=j._init;return Ve(H,ve(j._payload),q)}if(ae(j)||L(j))return j=Nr(j,H.mode,q,null),j.return=H,j;Oi(H,j)}return null}function Oe(H,j,q,ve){var Le=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Le!==null?null:O(H,j,""+q,ve);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===Le?$(H,j,q,ve):null;case h:return q.key===Le?ce(H,j,q,ve):null;case T:return Le=q._init,Oe(H,j,Le(q._payload),ve)}if(ae(q)||L(q))return Le!==null?null:Se(H,j,q,ve,null);Oi(H,q)}return null}function ct(H,j,q,ve,Le){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return H=H.get(q)||null,O(j,H,""+ve,Le);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case f:return H=H.get(ve.key===null?q:ve.key)||null,$(j,H,ve,Le);case h:return H=H.get(ve.key===null?q:ve.key)||null,ce(j,H,ve,Le);case T:var Qe=ve._init;return ct(H,j,q,Qe(ve._payload),Le)}if(ae(ve)||L(ve))return H=H.get(q)||null,Se(j,H,ve,Le,null);Oi(j,ve)}return null}function Ae(H,j,q,ve){for(var Le=null,Qe=null,Ze=j,rt=j=0,It=null;Ze!==null&&rt<q.length;rt++){Ze.index>rt?(It=Ze,Ze=null):It=Ze.sibling;var ot=Oe(H,Ze,q[rt],ve);if(ot===null){Ze===null&&(Ze=It);break}e&&Ze&&ot.alternate===null&&t(H,Ze),j=y(ot,j,rt),Qe===null?Le=ot:Qe.sibling=ot,Qe=ot,Ze=It}if(rt===q.length)return a(H,Ze),dt&&Dr(H,rt),Le;if(Ze===null){for(;rt<q.length;rt++)Ze=Ve(H,q[rt],ve),Ze!==null&&(j=y(Ze,j,rt),Qe===null?Le=Ze:Qe.sibling=Ze,Qe=Ze);return dt&&Dr(H,rt),Le}for(Ze=p(H,Ze);rt<q.length;rt++)It=ct(Ze,H,rt,q[rt],ve),It!==null&&(e&&It.alternate!==null&&Ze.delete(It.key===null?rt:It.key),j=y(It,j,rt),Qe===null?Le=It:Qe.sibling=It,Qe=It);return e&&Ze.forEach(function(Er){return t(H,Er)}),dt&&Dr(H,rt),Le}function Wt(H,j,q,ve){var Le=L(q);if(typeof Le!="function")throw Error(u(150));if(q=Le.call(q),q==null)throw Error(u(151));for(var Qe=Le=null,Ze=j,rt=j=0,It=null,ot=q.next();Ze!==null&&!ot.done;rt++,ot=q.next()){Ze.index>rt?(It=Ze,Ze=null):It=Ze.sibling;var Er=Oe(H,Ze,ot.value,ve);if(Er===null){Ze===null&&(Ze=It);break}e&&Ze&&Er.alternate===null&&t(H,Ze),j=y(Er,j,rt),Qe===null?Le=Er:Qe.sibling=Er,Qe=Er,Ze=It}if(ot.done)return a(H,Ze),dt&&Dr(H,rt),Le;if(Ze===null){for(;!ot.done;rt++,ot=q.next())ot=Ve(H,ot.value,ve),ot!==null&&(j=y(ot,j,rt),Qe===null?Le=ot:Qe.sibling=ot,Qe=ot);return dt&&Dr(H,rt),Le}for(Ze=p(H,Ze);!ot.done;rt++,ot=q.next())ot=ct(Ze,H,rt,ot.value,ve),ot!==null&&(e&&ot.alternate!==null&&Ze.delete(ot.key===null?rt:ot.key),j=y(ot,j,rt),Qe===null?Le=ot:Qe.sibling=ot,Qe=ot);return e&&Ze.forEach(function(Zd){return t(H,Zd)}),dt&&Dr(H,rt),Le}function Un(H,j,q,ve){if(typeof q=="object"&&q!==null&&q.type===d&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:e:{for(var Le=q.key,Qe=j;Qe!==null;){if(Qe.key===Le){if(Le=q.type,Le===d){if(Qe.tag===7){a(H,Qe.sibling),j=g(Qe,q.props.children),j.return=H,H=j;break e}}else if(Qe.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===T&&Pl(Le)===Qe.type){a(H,Qe.sibling),j=g(Qe,q.props),j.ref=Yo(H,Qe,q),j.return=H,H=j;break e}a(H,Qe);break}else t(H,Qe);Qe=Qe.sibling}q.type===d?(j=Nr(q.props.children,H.mode,ve,q.key),j.return=H,H=j):(ve=hs(q.type,q.key,q.props,null,H.mode,ve),ve.ref=Yo(H,j,q),ve.return=H,H=ve)}return k(H);case h:e:{for(Qe=q.key;j!==null;){if(j.key===Qe)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){a(H,j.sibling),j=g(j,q.children||[]),j.return=H,H=j;break e}else{a(H,j);break}else t(H,j);j=j.sibling}j=Ma(q,H.mode,ve),j.return=H,H=j}return k(H);case T:return Qe=q._init,Un(H,j,Qe(q._payload),ve)}if(ae(q))return Ae(H,j,q,ve);if(L(q))return Wt(H,j,q,ve);Oi(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(a(H,j.sibling),j=g(j,q),j.return=H,H=j):(a(H,j),j=Pa(q,H.mode,ve),j.return=H,H=j),k(H)):a(H,j)}return Un}var ao=Ml(!0),Ll=Ml(!1),Xo={},Pn=fn(Xo),Qo=fn(Xo),lo=fn(Xo);function $n(e){if(e===Xo)throw Error(u(174));return e}function Zs(e,t){at(lo,t),at(Qo,e),at(Pn,Xo),e=fe(t),st(Pn),at(Pn,e)}function uo(){st(Pn),st(Qo),st(lo)}function Rl(e){var t=$n(lo.current),a=$n(Pn.current);t=X(a,e.type,t),a!==t&&(at(Qo,e),at(Pn,t))}function Ys(e){Qo.current===e&&(st(Pn),st(Qo))}var mt=fn(0);function Fi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bn(a)||un(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xs=[];function Qs(){for(var e=0;e<Xs.length;e++){var t=Xs[e];we?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Xs.length=0}var ji=c.ReactCurrentDispatcher,Mn=c.ReactCurrentBatchConfig,co=0,vt=null,zt=null,Dt=null,zi=!1,Ko=!1,Jo=0,vd=0;function Bt(){throw Error(u(321))}function Ks(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!gn(e[a],t[a]))return!1;return!0}function Js(e,t,a,p,g,y){if(co=y,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ji.current=e===null||e.memoizedState===null?Sd:Cd,e=a(p,g),Ko){y=0;do{if(Ko=!1,Jo=0,25<=y)throw Error(u(301));y+=1,Dt=zt=null,t.updateQueue=null,ji.current=_d,e=a(p,g)}while(Ko)}if(ji.current=Hi,t=zt!==null&&zt.next!==null,co=0,Dt=zt=vt=null,zi=!1,t)throw Error(u(300));return e}function qs(){var e=Jo!==0;return Jo=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?vt.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function er(){if(zt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=Dt===null?vt.memoizedState:Dt.next;if(t!==null)Dt=t,zt=e;else{if(e===null)throw Error(u(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Dt===null?vt.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function Ir(e,t){return typeof t=="function"?t(e):t}function Bi(e){var t=er(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var p=zt,g=p.baseQueue,y=a.pending;if(y!==null){if(g!==null){var k=g.next;g.next=y.next,y.next=k}p.baseQueue=g=y,a.pending=null}if(g!==null){y=g.next,p=p.baseState;var O=k=null,$=null,ce=y;do{var Se=ce.lane;if((co&Se)===Se)$!==null&&($=$.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),p=ce.hasEagerState?ce.eagerState:e(p,ce.action);else{var Ve={lane:Se,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};$===null?(O=$=Ve,k=p):$=$.next=Ve,vt.lanes|=Se,ho|=Se}ce=ce.next}while(ce!==null&&ce!==y);$===null?k=p:$.next=O,gn(p,t.memoizedState)||(wn=!0),t.memoizedState=p,t.baseState=k,t.baseQueue=$,a.lastRenderedState=p}if(e=a.interleaved,e!==null){g=e;do y=g.lane,vt.lanes|=y,ho|=y,g=g.next;while(g!==e)}else g===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Ni(e){var t=er(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var p=a.dispatch,g=a.pending,y=t.memoizedState;if(g!==null){a.pending=null;var k=g=g.next;do y=e(y,k.action),k=k.next;while(k!==g);gn(y,t.memoizedState)||(wn=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),a.lastRenderedState=y}return[y,p]}function Ul(){}function Al(e,t){var a=vt,p=er(),g=t(),y=!gn(p.memoizedState,g);if(y&&(p.memoizedState=g,wn=!0),p=p.queue,$o(Ol.bind(null,a,p,e),[e]),p.getSnapshot!==t||y||Dt!==null&&Dt.memoizedState.tag&1){if(a.flags|=2048,qo(9,Il.bind(null,a,p,g,t),void 0,null),_t===null)throw Error(u(349));co&30||Dl(a,t,g)}return g}function Dl(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Il(e,t,a,p){t.value=a,t.getSnapshot=p,Fl(t)&&Ln(e,1,-1)}function Ol(e,t,a){return a(function(){Fl(t)&&Ln(e,1,-1)})}function Fl(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!gn(e,a)}catch{return!0}}function $s(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},t.queue=e,e=e.dispatch=wd.bind(null,vt,e),[t.memoizedState,e]}function qo(e,t,a,p){return e={tag:e,create:t,destroy:a,deps:p,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(p=a.next,a.next=e,e.next=p,t.lastEffect=e)),e}function jl(){return er().memoizedState}function Wi(e,t,a,p){var g=fr();vt.flags|=e,g.memoizedState=qo(1|t,a,void 0,p===void 0?null:p)}function Gi(e,t,a,p){var g=er();p=p===void 0?null:p;var y=void 0;if(zt!==null){var k=zt.memoizedState;if(y=k.destroy,p!==null&&Ks(p,k.deps)){g.memoizedState=qo(t,a,y,p);return}}vt.flags|=e,g.memoizedState=qo(1|t,a,y,p)}function ea(e,t){return Wi(8390656,8,e,t)}function $o(e,t){return Gi(2048,8,e,t)}function zl(e,t){return Gi(4,2,e,t)}function Bl(e,t){return Gi(4,4,e,t)}function Nl(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wl(e,t,a){return a=a!=null?a.concat([e]):null,Gi(4,4,Nl.bind(null,t,e),a)}function ta(){}function Gl(e,t){var a=er();t=t===void 0?null:t;var p=a.memoizedState;return p!==null&&t!==null&&Ks(t,p[1])?p[0]:(a.memoizedState=[e,t],e)}function Hl(e,t){var a=er();t=t===void 0?null:t;var p=a.memoizedState;return p!==null&&t!==null&&Ks(t,p[1])?p[0]:(e=e(),a.memoizedState=[e,t],e)}function yd(e,t){var a=Je;Je=a!==0&&4>a?a:4,e(!0);var p=Mn.transition;Mn.transition={};try{e(!1),t()}finally{Je=a,Mn.transition=p}}function Vl(){return er().memoizedState}function xd(e,t,a){var p=Sr(e);a={lane:p,action:a,hasEagerState:!1,eagerState:null,next:null},Zl(e)?Yl(t,a):(Xl(e,t,a),a=$t(),e=Ln(e,p,a),e!==null&&Ql(e,t,p))}function wd(e,t,a){var p=Sr(e),g={lane:p,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zl(e))Yl(t,g);else{Xl(e,t,g);var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var k=t.lastRenderedState,O=y(k,a);if(g.hasEagerState=!0,g.eagerState=O,gn(O,k))return}catch{}finally{}a=$t(),e=Ln(e,p,a),e!==null&&Ql(e,t,p)}}function Zl(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function Yl(e,t){Ko=zi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Xl(e,t,a){_t!==null&&e.mode&1&&!(Ke&2)?(e=t.interleaved,e===null?(a.next=a,vn===null?vn=[t]:vn.push(t)):(a.next=e.next,e.next=a),t.interleaved=a):(e=t.pending,e===null?a.next=a:(a.next=e.next,e.next=a),t.pending=a)}function Ql(e,t,a){if(a&4194240){var p=t.lanes;p&=e.pendingLanes,a|=p,t.lanes=a,Jn(e,a)}}var Hi={readContext:wt,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},Sd={readContext:wt,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:ea,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Wi(4194308,4,Nl.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wi(4,2,e,t)},useMemo:function(e,t){var a=fr();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var p=fr();return t=a!==void 0?a(t):t,p.memoizedState=p.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},p.queue=e,e=e.dispatch=xd.bind(null,vt,e),[p.memoizedState,e]},useRef:function(e){var t=fr();return e={current:e},t.memoizedState=e},useState:$s,useDebugValue:ta,useDeferredValue:function(e){var t=$s(e),a=t[0],p=t[1];return ea(function(){var g=Mn.transition;Mn.transition={};try{p(e)}finally{Mn.transition=g}},[e]),a},useTransition:function(){var e=$s(!1),t=e[0];return e=yd.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var p=vt,g=fr();if(dt){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),_t===null)throw Error(u(349));co&30||Dl(p,t,a)}g.memoizedState=a;var y={value:a,getSnapshot:t};return g.queue=y,ea(Ol.bind(null,p,y,e),[e]),p.flags|=2048,qo(9,Il.bind(null,p,y,a,t),void 0,null),a},useId:function(){var e=fr(),t=_t.identifierPrefix;if(dt){var a=cr,p=ur;a=(p&~(1<<32-pn(p)-1)).toString(32)+a,t=":"+t+"R"+a,a=Jo++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=vd++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cd={readContext:wt,useCallback:Gl,useContext:wt,useEffect:$o,useImperativeHandle:Wl,useInsertionEffect:zl,useLayoutEffect:Bl,useMemo:Hl,useReducer:Bi,useRef:jl,useState:function(){return Bi(Ir)},useDebugValue:ta,useDeferredValue:function(e){var t=Bi(Ir),a=t[0],p=t[1];return $o(function(){var g=Mn.transition;Mn.transition={};try{p(e)}finally{Mn.transition=g}},[e]),a},useTransition:function(){var e=Bi(Ir)[0],t=er().memoizedState;return[e,t]},useMutableSource:Ul,useSyncExternalStore:Al,useId:Vl,unstable_isNewReconciler:!1},_d={readContext:wt,useCallback:Gl,useContext:wt,useEffect:$o,useImperativeHandle:Wl,useInsertionEffect:zl,useLayoutEffect:Bl,useMemo:Hl,useReducer:Ni,useRef:jl,useState:function(){return Ni(Ir)},useDebugValue:ta,useDeferredValue:function(e){var t=Ni(Ir),a=t[0],p=t[1];return $o(function(){var g=Mn.transition;Mn.transition={};try{p(e)}finally{Mn.transition=g}},[e]),a},useTransition:function(){var e=Ni(Ir)[0],t=er().memoizedState;return[e,t]},useMutableSource:Ul,useSyncExternalStore:Al,useId:Vl,unstable_isNewReconciler:!1};function na(e,t){try{var a="",p=t;do a+=Ur(p),p=p.return;while(p);var g=a}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:e,source:t,stack:g}}function ra(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var Ed=typeof WeakMap=="function"?WeakMap:Map;function Kl(e,t,a){a=lr(-1,a),a.tag=3,a.payload={element:null};var p=t.value;return a.callback=function(){ss||(ss=!0,Sa=p),ra(e,t)},a}function Jl(e,t,a){a=lr(-1,a),a.tag=3;var p=e.type.getDerivedStateFromError;if(typeof p=="function"){var g=t.value;a.payload=function(){return p(g)},a.callback=function(){ra(e,t)}}var y=e.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){ra(e,t),typeof p!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var k=t.stack;this.componentDidCatch(t.value,{componentStack:k!==null?k:""})}),a}function ql(e,t,a){var p=e.pingCache;if(p===null){p=e.pingCache=new Ed;var g=new Set;p.set(t,g)}else g=p.get(t),g===void 0&&(g=new Set,p.set(t,g));g.has(a)||(g.add(a),e=jd.bind(null,e,t,a),t.then(e,e))}function $l(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eu(e,t,a,p,g){return e.mode&1?(e.flags|=65536,e.lanes=g,e):(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=lr(-1,1),t.tag=2,yr(a,t))),a.lanes|=1),e)}function tr(e){e.flags|=4}function tu(e,t){if(e!==null&&e.child===t.child)return!0;if(t.flags&16)return!1;for(e=t.child;e!==null;){if(e.flags&12854||e.subtreeFlags&12854)return!1;e=e.sibling}return!0}var ei,ti,Vi,Zi;if(le)ei=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)F(e,a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ti=function(){},Vi=function(e,t,a,p,g){if(e=e.memoizedProps,e!==p){var y=t.stateNode,k=$n(Pn.current);a=J(y,a,e,p,g,k),(t.updateQueue=a)&&tr(t)}},Zi=function(e,t,a,p){a!==p&&tr(t)};else if(se){ei=function(e,t,a,p){for(var g=t.child;g!==null;){if(g.tag===5){var y=g.stateNode;a&&p&&(y=tt(y,g.type,g.memoizedProps,g)),F(e,y)}else if(g.tag===6)y=g.stateNode,a&&p&&(y=ht(y,g.memoizedProps,g)),F(e,y);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)y=g.child,y!==null&&(y.return=g),ei(e,g,!0,!0);else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===t)break;for(;g.sibling===null;){if(g.return===null||g.return===t)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};var nu=function(e,t,a,p){for(var g=t.child;g!==null;){if(g.tag===5){var y=g.stateNode;a&&p&&(y=tt(y,g.type,g.memoizedProps,g)),et(e,y)}else if(g.tag===6)y=g.stateNode,a&&p&&(y=ht(y,g.memoizedProps,g)),et(e,y);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)y=g.child,y!==null&&(y.return=g),nu(e,g,!0,!0);else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===t)break;for(;g.sibling===null;){if(g.return===null||g.return===t)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};ti=function(e,t){var a=t.stateNode;if(!tu(e,t)){e=a.containerInfo;var p=je(e);nu(p,t,!1,!1),a.pendingChildren=p,tr(t),nt(e,p)}},Vi=function(e,t,a,p,g){var y=e.stateNode,k=e.memoizedProps;if((e=tu(e,t))&&k===p)t.stateNode=y;else{var O=t.stateNode,$=$n(Pn.current),ce=null;k!==p&&(ce=J(O,a,k,p,g,$)),e&&ce===null?t.stateNode=y:(y=$e(y,ce,a,k,p,t,e,O),W(y,a,p,g,$)&&tr(t),t.stateNode=y,e?tr(t):ei(y,t,!1,!1))}},Zi=function(e,t,a,p){a!==p?(e=$n(lo.current),a=$n(Pn.current),t.stateNode=ne(p,e,a,t),tr(t)):t.stateNode=e.stateNode}}else ti=function(){},Vi=function(){},Zi=function(){};function ni(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:p.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,p=0;if(t)for(var g=e.child;g!==null;)a|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)a|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=p,e.childLanes=a,t}function kd(e,t,a){var p=t.pendingProps;switch(Ws(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Rt(t.type)&&Gn(),Nt(t),null;case 3:return p=t.stateNode,uo(),st(Lt),st(Tt),Qs(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(e===null||e.child===null)&&(Zo(t)?tr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(Ea(Vn),Vn=null))),ti(e,t),Nt(t),null;case 5:Ys(t),a=$n(lo.current);var g=t.type;if(e!==null&&t.stateNode!=null)Vi(e,t,g,p,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!p){if(t.stateNode===null)throw Error(u(166));return Nt(t),null}if(e=$n(Pn.current),Zo(t)){if(!Re)throw Error(u(175));e=Ci(t.stateNode,t.type,t.memoizedProps,a,e,t,!Vo),t.updateQueue=e,e!==null&&tr(t)}else{var y=b(g,p,a,e,t);ei(y,t,!1,!1),t.stateNode=y,W(y,g,p,a,e)&&tr(t)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)Zi(e,t,e.memoizedProps,p);else{if(typeof p!="string"&&t.stateNode===null)throw Error(u(166));if(e=$n(lo.current),a=$n(Pn.current),Zo(t)){if(!Re)throw Error(u(176));if(e=t.stateNode,p=t.memoizedProps,(a=Ao(e,p,t,!Vo))&&(g=yn,g!==null))switch(y=(g.mode&1)!==0,g.tag){case 3:Io(g.stateNode.containerInfo,e,p,y);break;case 5:Oo(g.type,g.memoizedProps,g.stateNode,e,p,y)}a&&tr(t)}else t.stateNode=ne(p,e,a,t)}return Nt(t),null;case 13:if(st(mt),p=t.memoizedState,dt&&xn!==null&&t.mode&1&&!(t.flags&128)){for(e=xn;e;)e=cn(e);return so(),t.flags|=98560,t}if(p!==null&&p.dehydrated!==null){if(p=Zo(t),e===null){if(!p)throw Error(u(318));if(!Re)throw Error(u(344));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Os(e,t)}else so(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;return Nt(t),null}return Vn!==null&&(Ea(Vn),Vn=null),t.flags&128?(t.lanes=a,t):(p=p!==null,a=!1,e===null?Zo(t):a=e.memoizedState!==null,p&&!a&&(t.child.flags|=8192,t.mode&1&&(e===null||mt.current&1?bt===0&&(bt=3):Ta())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return uo(),ti(e,t),e===null&&ye(t.stateNode.containerInfo),Nt(t),null;case 10:return At(t.type._context),Nt(t),null;case 17:return Rt(t.type)&&Gn(),Nt(t),null;case 19:if(st(mt),g=t.memoizedState,g===null)return Nt(t),null;if(p=(t.flags&128)!==0,y=g.rendering,y===null)if(p)ni(g,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=Fi(e),y!==null){for(t.flags|=128,ni(g,!1),e=y.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=a,p=t.child;p!==null;)a=p,g=e,a.flags&=14680066,y=a.alternate,y===null?(a.childLanes=0,a.lanes=g,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=y.childLanes,a.lanes=y.lanes,a.child=y.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=y.memoizedProps,a.memoizedState=y.memoizedState,a.updateQueue=y.updateQueue,a.type=y.type,g=y.dependencies,a.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),p=p.sibling;return at(mt,mt.current&1|2),t.child}e=e.sibling}g.tail!==null&&pt()>wa&&(t.flags|=128,p=!0,ni(g,!1),t.lanes=4194304)}else{if(!p)if(e=Fi(y),e!==null){if(t.flags|=128,p=!0,e=e.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),ni(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!dt)return Nt(t),null}else 2*pt()-g.renderingStartTime>wa&&a!==1073741824&&(t.flags|=128,p=!0,ni(g,!1),t.lanes=4194304);g.isBackwards?(y.sibling=t.child,t.child=y):(e=g.last,e!==null?e.sibling=y:t.child=y,g.last=y)}return g.tail!==null?(t=g.tail,g.rendering=t,g.tail=t.sibling,g.renderingStartTime=pt(),t.sibling=null,e=mt.current,at(mt,p?e&1|2:e&1),t):(Nt(t),null);case 22:case 23:return ka(),p=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==p&&(t.flags|=8192),p&&t.mode&1?Sn&1073741824&&(Nt(t),le&&t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(u(156,t.tag))}var Td=c.ReactCurrentOwner,wn=!1;function qt(e,t,a,p){t.child=e===null?Ll(t,null,a,p):ao(t,e.child,a,p)}function ru(e,t,a,p,g){a=a.render;var y=t.ref;return xt(t,g),p=Js(e,t,a,p,y,g),a=qs(),e!==null&&!wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,dr(e,t,g)):(dt&&a&&Ns(t),t.flags|=1,qt(e,t,p,g),t.child)}function ou(e,t,a,p,g){if(e===null){var y=a.type;return typeof y=="function"&&!ba(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=y,iu(e,t,y,p,g)):(e=hs(a.type,null,p,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,!(e.lanes&g)){var k=y.memoizedProps;if(a=a.compare,a=a!==null?a:Rr,a(k,p)&&e.ref===t.ref)return dr(e,t,g)}return t.flags|=1,e=_r(y,p),e.ref=t.ref,e.return=t,t.child=e}function iu(e,t,a,p,g){if(e!==null&&Rr(e.memoizedProps,p)&&e.ref===t.ref)if(wn=!1,(e.lanes&g)!==0)e.flags&131072&&(wn=!0);else return t.lanes=e.lanes,dr(e,t,g);return oa(e,t,a,p,g)}function su(e,t,a){var p=t.pendingProps,g=p.children,y=e!==null?e.memoizedState:null;if(p.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null},at(fo,Sn),Sn|=a;else if(a&1073741824)t.memoizedState={baseLanes:0,cachePool:null},p=y!==null?y.baseLanes:a,at(fo,Sn),Sn|=p;else return e=y!==null?y.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,at(fo,Sn),Sn|=e,null;else y!==null?(p=y.baseLanes|a,t.memoizedState=null):p=a,at(fo,Sn),Sn|=p;return qt(e,t,g,a),t.child}function au(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function oa(e,t,a,p,g){var y=Rt(a)?Qn:Tt.current;return y=En(t,y),xt(t,g),a=Js(e,t,a,p,y,g),p=qs(),e!==null&&!wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,dr(e,t,g)):(dt&&p&&Ns(t),t.flags|=1,qt(e,t,a,g),t.child)}function lu(e,t,a,p,g){if(Rt(a)){var y=!0;pr(t)}else y=!1;if(xt(t,g),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),Cl(t,a,p),Bs(t,a,p,g),p=!0;else if(e===null){var k=t.stateNode,O=t.memoizedProps;k.props=O;var $=k.context,ce=a.contextType;typeof ce=="object"&&ce!==null?ce=wt(ce):(ce=Rt(a)?Qn:Tt.current,ce=En(t,ce));var Se=a.getDerivedStateFromProps,Ve=typeof Se=="function"||typeof k.getSnapshotBeforeUpdate=="function";Ve||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(O!==p||$!==ce)&&_l(t,k,p,ce),vr=!1;var Oe=t.memoizedState;k.state=Oe,Ui(t,p,k,g),$=t.memoizedState,O!==p||Oe!==$||Lt.current||vr?(typeof Se=="function"&&(zs(t,a,Se,p),$=t.memoizedState),(O=vr||Sl(t,a,O,p,Oe,$,ce))?(Ve||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(t.flags|=4194308)):(typeof k.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=p,t.memoizedState=$),k.props=p,k.state=$,k.context=ce,p=O):(typeof k.componentDidMount=="function"&&(t.flags|=4194308),p=!1)}else{k=t.stateNode,vl(e,t),O=t.memoizedProps,ce=t.type===t.elementType?O:Kt(t.type,O),k.props=ce,Ve=t.pendingProps,Oe=k.context,$=a.contextType,typeof $=="object"&&$!==null?$=wt($):($=Rt(a)?Qn:Tt.current,$=En(t,$));var ct=a.getDerivedStateFromProps;(Se=typeof ct=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(O!==Ve||Oe!==$)&&_l(t,k,p,$),vr=!1,Oe=t.memoizedState,k.state=Oe,Ui(t,p,k,g);var Ae=t.memoizedState;O!==Ve||Oe!==Ae||Lt.current||vr?(typeof ct=="function"&&(zs(t,a,ct,p),Ae=t.memoizedState),(ce=vr||Sl(t,a,ce,p,Oe,Ae,$)||!1)?(Se||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,Ae,$),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,Ae,$)),typeof k.componentDidUpdate=="function"&&(t.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof k.componentDidUpdate!="function"||O===e.memoizedProps&&Oe===e.memoizedState||(t.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&Oe===e.memoizedState||(t.flags|=1024),t.memoizedProps=p,t.memoizedState=Ae),k.props=p,k.state=Ae,k.context=$,p=ce):(typeof k.componentDidUpdate!="function"||O===e.memoizedProps&&Oe===e.memoizedState||(t.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&Oe===e.memoizedState||(t.flags|=1024),p=!1)}return ia(e,t,a,p,y,g)}function ia(e,t,a,p,g,y){au(e,t);var k=(t.flags&128)!==0;if(!p&&!k)return g&&hn(t,a,!1),dr(e,t,y);p=t.stateNode,Td.current=t;var O=k&&typeof a.getDerivedStateFromError!="function"?null:p.render();return t.flags|=1,e!==null&&k?(t.child=ao(t,e.child,null,y),t.child=ao(t,null,O,y)):qt(e,t,O,y),t.memoizedState=p.state,g&&hn(t,a,!0),t.child}function uu(e){var t=e.stateNode;t.pendingContext?Jr(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jr(e,t.context,!1),Zs(e,t.containerInfo)}function cu(e,t,a,p,g){return so(),Vs(g),t.flags|=256,qt(e,t,a,p),t.child}var Yi={dehydrated:null,treeContext:null,retryLane:0};function Xi(e){return{baseLanes:e,cachePool:null}}function fu(e,t,a){var p=t.pendingProps,g=mt.current,y=!1,k=(t.flags&128)!==0,O;if((O=k)||(O=e!==null&&e.memoizedState===null?!1:(g&2)!==0),O?(y=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(g|=1),at(mt,g&1),e===null)return Hs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?un(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=p.children,e=p.fallback,y?(p=t.mode,y=t.child,g={mode:"hidden",children:g},!(p&1)&&y!==null?(y.childLanes=0,y.pendingProps=g):y=ps(g,p,0,null),e=Nr(e,p,a,null),y.return=t,e.return=t,y.sibling=e,t.child=y,t.child.memoizedState=Xi(a),t.memoizedState=Yi,e):sa(t,g));if(g=e.memoizedState,g!==null){if(O=g.dehydrated,O!==null){if(k)return t.flags&256?(t.flags&=-257,Qi(e,t,a,Error(u(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(y=p.fallback,g=t.mode,p=ps({mode:"visible",children:p.children},g,0,null),y=Nr(y,g,a,null),y.flags|=2,p.return=t,y.return=t,p.sibling=y,t.child=p,t.mode&1&&ao(t,e.child,null,a),t.child.memoizedState=Xi(a),t.memoizedState=Yi,y);if(!(t.mode&1))t=Qi(e,t,a,null);else if(un(O))t=Qi(e,t,a,Error(u(419)));else if(p=(a&e.childLanes)!==0,wn||p){if(p=_t,p!==null){switch(a&-a){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}p=y&(p.suspendedLanes|a)?0:y,p!==0&&p!==g.retryLane&&(g.retryLane=p,Ln(e,p,-1))}Ta(),t=Qi(e,t,a,Error(u(421)))}else Bn(O)?(t.flags|=128,t.child=e.child,t=zd.bind(null,e),Zn(O,t),t=null):(a=g.treeContext,Re&&(xn=nr(O),yn=t,dt=!0,Vn=null,Vo=!1,a!==null&&(Tn[bn++]=ur,Tn[bn++]=cr,Tn[bn++]=Ar,ur=a.id,cr=a.overflow,Ar=t)),t=sa(t,t.pendingProps.children),t.flags|=4096);return t}return y?(p=hu(e,t,p.children,p.fallback,a),y=t.child,g=e.child.memoizedState,y.memoizedState=g===null?Xi(a):{baseLanes:g.baseLanes|a,cachePool:null},y.childLanes=e.childLanes&~a,t.memoizedState=Yi,p):(a=du(e,t,p.children,a),t.memoizedState=null,a)}return y?(p=hu(e,t,p.children,p.fallback,a),y=t.child,g=e.child.memoizedState,y.memoizedState=g===null?Xi(a):{baseLanes:g.baseLanes|a,cachePool:null},y.childLanes=e.childLanes&~a,t.memoizedState=Yi,p):(a=du(e,t,p.children,a),t.memoizedState=null,a)}function sa(e,t){return t=ps({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function du(e,t,a,p){var g=e.child;return e=g.sibling,a=_r(g,{mode:"visible",children:a}),!(t.mode&1)&&(a.lanes=p),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a}function hu(e,t,a,p,g){var y=t.mode;e=e.child;var k=e.sibling,O={mode:"hidden",children:a};return!(y&1)&&t.child!==e?(a=t.child,a.childLanes=0,a.pendingProps=O,t.deletions=null):(a=_r(e,O),a.subtreeFlags=e.subtreeFlags&14680064),k!==null?p=_r(k,p):(p=Nr(p,y,g,null),p.flags|=2),p.return=t,a.return=t,a.sibling=p,t.child=a,p}function Qi(e,t,a,p){return p!==null&&Vs(p),ao(t,e.child,null,a),e=sa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pu(e,t,a){e.lanes|=t;var p=e.alternate;p!==null&&(p.lanes|=t),Jt(e.return,t,a)}function aa(e,t,a,p,g){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:p,tail:a,tailMode:g}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=p,y.tail=a,y.tailMode=g)}function mu(e,t,a){var p=t.pendingProps,g=p.revealOrder,y=p.tail;if(qt(e,t,p.children,a),p=mt.current,p&2)p=p&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pu(e,a,t);else if(e.tag===19)pu(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}p&=1}if(at(mt,p),!(t.mode&1))t.memoizedState=null;else switch(g){case"forwards":for(a=t.child,g=null;a!==null;)e=a.alternate,e!==null&&Fi(e)===null&&(g=a),a=a.sibling;a=g,a===null?(g=t.child,t.child=null):(g=a.sibling,a.sibling=null),aa(t,!1,g,a,y);break;case"backwards":for(a=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Fi(e)===null){t.child=g;break}e=g.sibling,g.sibling=a,a=g,g=e}aa(t,!0,a,null,y);break;case"together":aa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dr(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ho|=t.lanes,!(a&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=_r(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=_r(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function bd(e,t,a){switch(t.tag){case 3:uu(t),so();break;case 5:Rl(t);break;case 1:Rt(t.type)&&pr(t);break;case 4:Zs(t,t.stateNode.containerInfo);break;case 10:Li(t,t.type._context,t.memoizedProps.value);break;case 13:var p=t.memoizedState;if(p!==null)return p.dehydrated!==null?(at(mt,mt.current&1),t.flags|=128,null):a&t.child.childLanes?fu(e,t,a):(at(mt,mt.current&1),e=dr(e,t,a),e!==null?e.sibling:null);at(mt,mt.current&1);break;case 19:if(p=(a&t.childLanes)!==0,e.flags&128){if(p)return mu(e,t,a);t.flags|=128}var g=t.memoizedState;if(g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(mt,mt.current),p)break;return null;case 22:case 23:return t.lanes=0,su(e,t,a)}return dr(e,t,a)}function Pd(e,t){switch(Ws(t),t.tag){case 1:return Rt(t.type)&&Gn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uo(),st(Lt),st(Tt),Qs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ys(t),null;case 13:if(st(mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(mt),null;case 4:return uo(),null;case 10:return At(t.type._context),null;case 22:case 23:return ka(),null;case 24:return null;default:return null}}var Ki=!1,Or=!1,Md=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ji(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(p){on(e,t,p)}else a.current=null}function la(e,t,a){try{a()}catch(p){on(e,t,p)}}var gu=!1;function Ld(e,t){for(G(e.containerInfo),pe=t;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var a=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(a!==null){var p=a.memoizedProps,g=a.memoizedState,y=e.stateNode,k=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Kt(e.type,p),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:le&&zn(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(O){on(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return a=gu,gu=!1,a}function Fr(e,t,a){var p=t.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&e)===e){var y=g.destroy;g.destroy=void 0,y!==void 0&&la(t,a,y)}g=g.next}while(g!==p)}}function ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var p=a.create;a.destroy=p()}a=a.next}while(a!==t)}}function ua(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=te(a);break;default:e=a}typeof t=="function"?t(e):t.current=e}}function vu(e,t,a){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Mr,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var p=e=e.next;do{var g=p,y=g.destroy;g=g.tag,y!==void 0&&(g&2||g&4)&&la(t,a,y),p=p.next}while(p!==e)}break;case 1:if(Ji(t,a),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(k){on(t,a,k)}break;case 5:Ji(t,a);break;case 4:le?_u(e,t,a):se&&se&&(t=t.stateNode.containerInfo,a=je(t),Fe(t,a))}}function yu(e,t,a){for(var p=t;;)if(vu(e,p,a),p.child===null||le&&p.tag===4){if(p===t)break;for(;p.sibling===null;){if(p.return===null||p.return===t)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else p.child.return=p,p=p.child}function xu(e){var t=e.alternate;t!==null&&(e.alternate=null,xu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wu(e){return e.tag===5||e.tag===3||e.tag===4}function Su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e){if(le){e:{for(var t=e.return;t!==null;){if(wu(t))break e;t=t.return}throw Error(u(160))}var a=t;switch(a.tag){case 5:t=a.stateNode,a.flags&32&&(he(t),a.flags&=-33),a=Su(e),fa(e,a,t);break;case 3:case 4:t=a.stateNode.containerInfo,a=Su(e),ca(e,a,t);break;default:throw Error(u(161))}}}function ca(e,t,a){var p=e.tag;if(p===5||p===6)e=e.stateNode,t?He(a,e,t):De(a,e);else if(p!==4&&(e=e.child,e!==null))for(ca(e,t,a),e=e.sibling;e!==null;)ca(e,t,a),e=e.sibling}function fa(e,t,a){var p=e.tag;if(p===5||p===6)e=e.stateNode,t?Ye(a,e,t):be(a,e);else if(p!==4&&(e=e.child,e!==null))for(fa(e,t,a),e=e.sibling;e!==null;)fa(e,t,a),e=e.sibling}function _u(e,t,a){for(var p=t,g=!1,y,k;;){if(!g){g=p.return;e:for(;;){if(g===null)throw Error(u(160));switch(y=g.stateNode,g.tag){case 5:k=!1;break e;case 3:y=y.containerInfo,k=!0;break e;case 4:y=y.containerInfo,k=!0;break e}g=g.return}g=!0}if(p.tag===5||p.tag===6)yu(e,p,a),k?oe(y,p.stateNode):R(y,p.stateNode);else if(p.tag===18)k?Ei(y,p.stateNode):Fs(y,p.stateNode);else if(p.tag===4){if(p.child!==null){y=p.stateNode.containerInfo,k=!0,p.child.return=p,p=p.child;continue}}else if(vu(e,p,a),p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break;for(;p.sibling===null;){if(p.return===null||p.return===t)return;p=p.return,p.tag===4&&(g=!1)}p.sibling.return=p.return,p=p.sibling}}function da(e,t){if(le){switch(t.tag){case 0:case 11:case 14:case 15:Fr(3,t,t.return),ri(3,t),Fr(5,t,t.return);return;case 1:return;case 5:var a=t.stateNode;if(a!=null){var p=t.memoizedProps;e=e!==null?e.memoizedProps:p;var g=t.type,y=t.updateQueue;t.updateQueue=null,y!==null&&ut(a,y,g,e,p,t)}return;case 6:if(t.stateNode===null)throw Error(u(162));a=t.memoizedProps,Ge(t.stateNode,e!==null?e.memoizedProps:a,a);return;case 3:Re&&e!==null&&e.memoizedState.isDehydrated&&kr(t.stateNode.containerInfo);return;case 12:return;case 13:qi(t);return;case 19:qi(t);return;case 17:return}throw Error(u(163))}switch(t.tag){case 0:case 11:case 14:case 15:Fr(3,t,t.return),ri(3,t),Fr(5,t,t.return);return;case 12:return;case 13:qi(t);return;case 19:qi(t);return;case 3:Re&&e!==null&&e.memoizedState.isDehydrated&&kr(t.stateNode.containerInfo);break;case 22:case 23:return}e:if(se){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Fe(t.containerInfo,t.pendingChildren);break e}throw Error(u(163))}}function qi(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Md),t.forEach(function(p){var g=Bd.bind(null,e,p);a.has(p)||(a.add(p),p.then(g,g))})}}function Rd(e,t){for(pe=t;pe!==null;){t=pe;var a=t.deletions;if(a!==null)for(var p=0;p<a.length;p++){var g=a[p];try{var y=e;le?_u(y,g,t):yu(y,g,t);var k=g.alternate;k!==null&&(k.return=null),g.return=null}catch(Le){on(g,t,Le)}}if(a=t.child,t.subtreeFlags&12854&&a!==null)a.return=t,pe=a;else for(;pe!==null;){t=pe;try{var O=t.flags;if(O&32&&le&&he(t.stateNode),O&512){var $=t.alternate;if($!==null){var ce=$.ref;ce!==null&&(typeof ce=="function"?ce(null):ce.current=null)}}if(O&8192)switch(t.tag){case 13:if(t.memoizedState!==null){var Se=t.alternate;(Se===null||Se.memoizedState===null)&&(xa=pt())}break;case 22:var Ve=t.memoizedState!==null,Oe=t.alternate,ct=Oe!==null&&Oe.memoizedState!==null;if(a=t,le){e:if(p=a,g=Ve,y=null,le)for(var Ae=p;;){if(Ae.tag===5){if(y===null){y=Ae;var Wt=Ae.stateNode;g?Be(Wt):Me(Ae.stateNode,Ae.memoizedProps)}}else if(Ae.tag===6){if(y===null){var Un=Ae.stateNode;g?Ne(Un):Xe(Un,Ae.memoizedProps)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===p)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===p)break;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===p)break e;y===Ae&&(y=null),Ae=Ae.return}y===Ae&&(y=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}if(Ve&&!ct&&a.mode&1){pe=a;for(var H=a.child;H!==null;){for(a=pe=H;pe!==null;){p=pe;var j=p.child;switch(p.tag){case 0:case 11:case 14:case 15:Fr(4,p,p.return);break;case 1:Ji(p,p.return);var q=p.stateNode;if(typeof q.componentWillUnmount=="function"){var ve=p.return;try{q.props=p.memoizedProps,q.state=p.memoizedState,q.componentWillUnmount()}catch(Le){on(p,ve,Le)}}break;case 5:Ji(p,p.return);break;case 22:if(p.memoizedState!==null){Tu(a);continue}}j!==null?(j.return=p,pe=j):Tu(a)}H=H.sibling}}}switch(O&4102){case 2:Cu(t),t.flags&=-3;break;case 6:Cu(t),t.flags&=-3,da(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,da(t.alternate,t);break;case 4:da(t.alternate,t)}}catch(Le){on(t,t.return,Le)}if(a=t.sibling,a!==null){a.return=t.return,pe=a;break}pe=t.return}}}function Ud(e,t,a){pe=e,Eu(e)}function Eu(e,t,a){for(var p=(e.mode&1)!==0;pe!==null;){var g=pe,y=g.child;if(g.tag===22&&p){var k=g.memoizedState!==null||Ki;if(!k){var O=g.alternate,$=O!==null&&O.memoizedState!==null||Or;O=Ki;var ce=Or;if(Ki=k,(Or=$)&&!ce)for(pe=g;pe!==null;)k=pe,$=k.child,k.tag===22&&k.memoizedState!==null?bu(g):$!==null?($.return=k,pe=$):bu(g);for(;y!==null;)pe=y,Eu(y),y=y.sibling;pe=g,Ki=O,Or=ce}ku(e)}else g.subtreeFlags&8772&&y!==null?(y.return=g,pe=y):ku(e)}}function ku(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var a=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Or||ri(5,t);break;case 1:var p=t.stateNode;if(t.flags&4&&!Or)if(a===null)p.componentDidMount();else{var g=t.elementType===t.type?a.memoizedProps:Kt(t.type,a.memoizedProps);p.componentDidUpdate(g,a.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var y=t.updateQueue;y!==null&&xl(t,y,p);break;case 3:var k=t.updateQueue;if(k!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=te(t.child.stateNode);break;case 1:a=t.child.stateNode}xl(t,k,a)}break;case 5:var O=t.stateNode;a===null&&t.flags&4&&it(O,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(Re&&t.memoizedState===null){var $=t.alternate;if($!==null){var ce=$.memoizedState;if(ce!==null){var Se=ce.dehydrated;Se!==null&&Do(Se)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(u(163))}Or||t.flags&512&&ua(t)}catch(Ve){on(t,t.return,Ve)}}if(t===e){pe=null;break}if(a=t.sibling,a!==null){a.return=t.return,pe=a;break}pe=t.return}}function Tu(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,pe=a;break}pe=t.return}}function bu(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{ri(4,t)}catch($){on(t,a,$)}break;case 1:var p=t.stateNode;if(typeof p.componentDidMount=="function"){var g=t.return;try{p.componentDidMount()}catch($){on(t,g,$)}}var y=t.return;try{ua(t)}catch($){on(t,y,$)}break;case 5:var k=t.return;try{ua(t)}catch($){on(t,k,$)}}}catch($){on(t,t.return,$)}if(t===e){pe=null;break}var O=t.sibling;if(O!==null){O.return=t.return,pe=O;break}pe=t.return}}var $i=0,es=1,ts=2,ns=3,rs=4;if(typeof Symbol=="function"&&Symbol.for){var oi=Symbol.for;$i=oi("selector.component"),es=oi("selector.has_pseudo_class"),ts=oi("selector.role"),ns=oi("selector.test_id"),rs=oi("selector.text")}function ha(e){var t=Ie(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(u(364));return t}if(e=re(e),e===null)throw Error(u(362));return e.stateNode.current}function pa(e,t){switch(t.$$typeof){case $i:if(e.type===t.value)return!0;break;case es:e:{t=t.value,e=[e,0];for(var a=0;a<e.length;){var p=e[a++],g=e[a++],y=t[g];if(p.tag!==5||!_e(p)){for(;y!=null&&pa(p,y);)g++,y=t[g];if(g===t.length){t=!0;break e}else for(p=p.child;p!==null;)e.push(p,g),p=p.sibling}}t=!1}return t;case ts:if(e.tag===5&&ge(e.stateNode,t.value))return!0;break;case rs:if((e.tag===5||e.tag===6)&&(e=me(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case ns:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(u(365))}return!1}function ma(e){switch(e.$$typeof){case $i:return"<"+(D(e.value)||"Unknown")+">";case es:return":has("+(ma(e)||"")+")";case ts:return'[role="'+e.value+'"]';case rs:return'"'+e.value+'"';case ns:return'[data-testname="'+e.value+'"]';default:throw Error(u(365))}}function Pu(e,t){var a=[];e=[e,0];for(var p=0;p<e.length;){var g=e[p++],y=e[p++],k=t[y];if(g.tag!==5||!_e(g)){for(;k!=null&&pa(g,k);)y++,k=t[y];if(y===t.length)a.push(g);else for(g=g.child;g!==null;)e.push(g,y),g=g.sibling}}return a}function ga(e,t){if(!xe)throw Error(u(363));e=ha(e),e=Pu(e,t),t=[],e=Array.from(e);for(var a=0;a<e.length;){var p=e[a++];if(p.tag===5)_e(p)||t.push(p.stateNode);else for(p=p.child;p!==null;)e.push(p),p=p.sibling}return t}var Ad=Math.ceil,os=c.ReactCurrentDispatcher,va=c.ReactCurrentOwner,St=c.ReactCurrentBatchConfig,Ke=0,_t=null,Et=null,Ft=0,Sn=0,fo=fn(0),bt=0,ii=null,ho=0,is=0,ya=0,si=null,nn=null,xa=0,wa=1/0;function po(){wa=pt()+500}var ss=!1,Sa=null,xr=null,as=!1,wr=null,ls=0,ai=0,Ca=null,us=-1,cs=0;function $t(){return Ke&6?pt():us!==-1?us:us=pt()}function Sr(e){return e.mode&1?Ke&2&&Ft!==0?Ft&-Ft:Lr.transition!==null?(cs===0&&(e=rr,rr<<=1,!(rr&4194240)&&(rr=64),cs=e),cs):(e=Je,e!==0?e:Ee()):1}function Ln(e,t,a){if(50<ai)throw ai=0,Ca=null,Error(u(185));var p=fs(e,t);return p===null?null:(Kn(p,t,a),(!(Ke&2)||p!==_t)&&(p===_t&&(!(Ke&2)&&(is|=t),bt===4&&Cr(p,Ft)),rn(p,a),t===1&&Ke===0&&!(e.mode&1)&&(po(),qn&&tn())),p)}function fs(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}function rn(e,t){var a=e.callbackNode;jo(e,t);var p=br(e,e===_t?Ft:0);if(p===0)a!==null&&to(a),e.callbackNode=null,e.callbackPriority=0;else if(t=p&-p,e.callbackPriority!==t){if(a!=null&&to(a),t===1)e.tag===0?Ho(Lu.bind(null,e)):Go(Lu.bind(null,e)),ue?Te(function(){Ke===0&&tn()}):ar(Pr,tn),a=null;else{switch(zo(p)){case 1:a=Pr;break;case 4:a=Pi;break;case 16:a=Xt;break;case 536870912:a=No;break;default:a=Xt}a=zu(a,Mu.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function Mu(e,t){if(us=-1,cs=0,Ke&6)throw Error(u(327));var a=e.callbackNode;if(Br()&&e.callbackNode!==a)return null;var p=br(e,e===_t?Ft:0);if(p===0)return null;if(p&30||p&e.expiredLanes||t)t=ds(e,p);else{t=p;var g=Ke;Ke|=2;var y=Au();(_t!==e||Ft!==t)&&(po(),jr(e,t));do try{Od();break}catch(O){Uu(e,O)}while(!0);ro(),os.current=y,Ke=g,Et!==null?t=0:(_t=null,Ft=0,t=bt)}if(t!==0){if(t===2&&(g=sr(e),g!==0&&(p=g,t=_a(e,g))),t===1)throw a=ii,jr(e,0),Cr(e,p),rn(e,pt()),a;if(t===6)Cr(e,p);else{if(g=e.current.alternate,!(p&30)&&!Dd(g)&&(t=ds(e,p),t===2&&(y=sr(e),y!==0&&(p=y,t=_a(e,y))),t===1))throw a=ii,jr(e,0),Cr(e,p),rn(e,pt()),a;switch(e.finishedWork=g,e.finishedLanes=p,t){case 0:case 1:throw Error(u(345));case 2:zr(e,nn);break;case 3:if(Cr(e,p),(p&130023424)===p&&(t=xa+500-pt(),10<t)){if(br(e,0)!==0)break;if(g=e.suspendedLanes,(g&p)!==p){$t(),e.pingedLanes|=e.suspendedLanes&g;break}e.timeoutHandle=ee(zr.bind(null,e,nn),t);break}zr(e,nn);break;case 4:if(Cr(e,p),(p&4194240)===p)break;for(t=e.eventTimes,g=-1;0<p;){var k=31-pn(p);y=1<<k,k=t[k],k>g&&(g=k),p&=~y}if(p=g,p=pt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Ad(p/1960))-p,10<p){e.timeoutHandle=ee(zr.bind(null,e,nn),p);break}zr(e,nn);break;case 5:zr(e,nn);break;default:throw Error(u(329))}}}return rn(e,pt()),e.callbackNode===a?Mu.bind(null,e):null}function _a(e,t){var a=si;return e.current.memoizedState.isDehydrated&&(jr(e,t).flags|=256),e=ds(e,t),e!==2&&(t=nn,nn=a,t!==null&&Ea(t)),e}function Ea(e){nn===null?nn=e:nn.push.apply(nn,e)}function Dd(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var p=0;p<a.length;p++){var g=a[p],y=g.getSnapshot;g=g.value;try{if(!gn(y(),g))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cr(e,t){for(t&=~ya,t&=~is,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-pn(t),p=1<<a;e[a]=-1,t&=~p}}function Lu(e){if(Ke&6)throw Error(u(327));Br();var t=br(e,0);if(!(t&1))return rn(e,pt()),null;var a=ds(e,t);if(e.tag!==0&&a===2){var p=sr(e);p!==0&&(t=p,a=_a(e,p))}if(a===1)throw a=ii,jr(e,0),Cr(e,t),rn(e,pt()),a;if(a===6)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zr(e,nn),rn(e,pt()),null}function Ru(e){wr!==null&&wr.tag===0&&!(Ke&6)&&Br();var t=Ke;Ke|=1;var a=St.transition,p=Je;try{if(St.transition=null,Je=1,e)return e()}finally{Je=p,St.transition=a,Ke=t,!(Ke&6)&&tn()}}function ka(){Sn=fo.current,st(fo)}function jr(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==de&&(e.timeoutHandle=de,ie(a)),Et!==null)for(a=Et.return;a!==null;){var p=a;switch(Ws(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Gn();break;case 3:uo(),st(Lt),st(Tt),Qs();break;case 5:Ys(p);break;case 4:uo();break;case 13:st(mt);break;case 19:st(mt);break;case 10:At(p.type._context);break;case 22:case 23:ka()}a=a.return}if(_t=e,Et=e=_r(e.current,null),Ft=Sn=t,bt=0,ii=null,ya=is=ho=0,nn=si=null,vn!==null){for(t=0;t<vn.length;t++)if(a=vn[t],p=a.interleaved,p!==null){a.interleaved=null;var g=p.next,y=a.pending;if(y!==null){var k=y.next;y.next=g,p.next=k}a.pending=p}vn=null}return e}function Uu(e,t){do{var a=Et;try{if(ro(),ji.current=Hi,zi){for(var p=vt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}zi=!1}if(co=0,Dt=zt=vt=null,Ko=!1,Jo=0,va.current=null,a===null||a.return===null){bt=1,ii=t,Et=null;break}e:{var y=e,k=a.return,O=a,$=t;if(t=Ft,O.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ce=$,Se=O,Ve=Se.tag;if(!(Se.mode&1)&&(Ve===0||Ve===11||Ve===15)){var Oe=Se.alternate;Oe?(Se.updateQueue=Oe.updateQueue,Se.memoizedState=Oe.memoizedState,Se.lanes=Oe.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var ct=$l(k);if(ct!==null){ct.flags&=-257,eu(ct,k,O,y,t),ct.mode&1&&ql(y,ce,t),t=ct,$=ce;var Ae=t.updateQueue;if(Ae===null){var Wt=new Set;Wt.add($),t.updateQueue=Wt}else Ae.add($);break e}else{if(!(t&1)){ql(y,ce,t),Ta();break e}$=Error(u(426))}}else if(dt&&O.mode&1){var Un=$l(k);if(Un!==null){!(Un.flags&65536)&&(Un.flags|=256),eu(Un,k,O,y,t),Vs($);break e}}y=$,bt!==4&&(bt=2),si===null?si=[y]:si.push(y),$=na($,O),O=k;do{switch(O.tag){case 3:O.flags|=65536,t&=-t,O.lanes|=t;var H=Kl(O,$,t);yl(O,H);break e;case 1:y=$;var j=O.type,q=O.stateNode;if(!(O.flags&128)&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(xr===null||!xr.has(q)))){O.flags|=65536,t&=-t,O.lanes|=t;var ve=Jl(O,y,t);yl(O,ve);break e}}O=O.return}while(O!==null)}Iu(a)}catch(Le){t=Le,Et===a&&a!==null&&(Et=a=a.return);continue}break}while(!0)}function Au(){var e=os.current;return os.current=Hi,e===null?Hi:e}function Ta(){(bt===0||bt===3||bt===2)&&(bt=4),_t===null||!(ho&268435455)&&!(is&268435455)||Cr(_t,Ft)}function ds(e,t){var a=Ke;Ke|=2;var p=Au();_t===e&&Ft===t||jr(e,t);do try{Id();break}catch(g){Uu(e,g)}while(!0);if(ro(),Ke=a,os.current=p,Et!==null)throw Error(u(261));return _t=null,Ft=0,bt}function Id(){for(;Et!==null;)Du(Et)}function Od(){for(;Et!==null&&!Bo();)Du(Et)}function Du(e){var t=ju(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?Iu(e):Et=t,va.current=null}function Iu(e){var t=e;do{var a=t.alternate;if(e=t.return,t.flags&32768){if(a=Pd(a,t),a!==null){a.flags&=32767,Et=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,Et=null;return}}else if(a=kd(a,t,Sn),a!==null){Et=a;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);bt===0&&(bt=5)}function zr(e,t){var a=Je,p=St.transition;try{St.transition=null,Je=1,Fd(e,t,a)}finally{St.transition=p,Je=a}return null}function Fd(e,t,a){do Br();while(wr!==null);if(Ke&6)throw Error(u(327));var p=e.finishedWork,g=e.finishedLanes;if(p===null)return null;if(e.finishedWork=null,e.finishedLanes=0,p===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var y=p.lanes|p.childLanes;if(mr(e,y),e===_t&&(Et=_t=null,Ft=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||as||(as=!0,zu(Xt,function(){return Br(),null})),y=(p.flags&15990)!==0,p.subtreeFlags&15990||y){y=St.transition,St.transition=null;var k=Je;Je=1;var O=Ke;Ke|=4,va.current=null,Ld(e,p),Rd(e,p),B(e.containerInfo),e.current=p,Ud(p),bi(),Ke=O,Je=k,St.transition=y}else e.current=p;if(as&&(as=!1,wr=e,ls=g),y=e.pendingLanes,y===0&&(xr=null),Wo(p.stateNode),rn(e,pt()),t!==null)for(a=e.onRecoverableError,p=0;p<t.length;p++)a(t[p]);if(ss)throw ss=!1,e=Sa,Sa=null,e;return ls&1&&e.tag!==0&&Br(),y=e.pendingLanes,y&1?e===Ca?ai++:(ai=0,Ca=e):ai=0,tn(),null}function Br(){if(wr!==null){var e=zo(ls),t=St.transition,a=Je;try{if(St.transition=null,Je=16>e?16:e,wr===null)var p=!1;else{if(e=wr,wr=null,ls=0,Ke&6)throw Error(u(331));var g=Ke;for(Ke|=4,pe=e.current;pe!==null;){var y=pe,k=y.child;if(pe.flags&16){var O=y.deletions;if(O!==null){for(var $=0;$<O.length;$++){var ce=O[$];for(pe=ce;pe!==null;){var Se=pe;switch(Se.tag){case 0:case 11:case 15:Fr(8,Se,y)}var Ve=Se.child;if(Ve!==null)Ve.return=Se,pe=Ve;else for(;pe!==null;){Se=pe;var Oe=Se.sibling,ct=Se.return;if(xu(Se),Se===ce){pe=null;break}if(Oe!==null){Oe.return=ct,pe=Oe;break}pe=ct}}}var Ae=y.alternate;if(Ae!==null){var Wt=Ae.child;if(Wt!==null){Ae.child=null;do{var Un=Wt.sibling;Wt.sibling=null,Wt=Un}while(Wt!==null)}}pe=y}}if(y.subtreeFlags&2064&&k!==null)k.return=y,pe=k;else e:for(;pe!==null;){if(y=pe,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Fr(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,pe=H;break e}pe=y.return}}var j=e.current;for(pe=j;pe!==null;){k=pe;var q=k.child;if(k.subtreeFlags&2064&&q!==null)q.return=k,pe=q;else e:for(k=j;pe!==null;){if(O=pe,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:ri(9,O)}}catch(Le){on(O,O.return,Le)}if(O===k){pe=null;break e}var ve=O.sibling;if(ve!==null){ve.return=O.return,pe=ve;break e}pe=O.return}}if(Ke=g,tn(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Mr,e)}catch{}p=!0}return p}finally{Je=a,St.transition=t}}return!1}function Ou(e,t,a){t=na(a,t),t=Kl(e,t,1),yr(e,t),t=$t(),e=fs(e,1),e!==null&&(Kn(e,1,t),rn(e,t))}function on(e,t,a){if(e.tag===3)Ou(e,e,a);else for(;t!==null;){if(t.tag===3){Ou(t,e,a);break}else if(t.tag===1){var p=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(xr===null||!xr.has(p))){e=na(a,e),e=Jl(t,e,1),yr(t,e),e=$t(),t=fs(t,1),t!==null&&(Kn(t,1,e),rn(t,e));break}}t=t.return}}function jd(e,t,a){var p=e.pingCache;p!==null&&p.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&a,_t===e&&(Ft&a)===a&&(bt===4||bt===3&&(Ft&130023424)===Ft&&500>pt()-xa?jr(e,0):ya|=a),rn(e,t)}function Fu(e,t){t===0&&(e.mode&1?(t=or,or<<=1,!(or&130023424)&&(or=4194304)):t=1);var a=$t();e=fs(e,t),e!==null&&(Kn(e,t,a),rn(e,a))}function zd(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Fu(e,a)}function Bd(e,t){var a=0;switch(e.tag){case 13:var p=e.stateNode,g=e.memoizedState;g!==null&&(a=g.retryLane);break;case 19:p=e.stateNode;break;default:throw Error(u(314))}p!==null&&p.delete(t),Fu(e,a)}var ju;ju=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)wn=!0;else{if(!(e.lanes&a)&&!(t.flags&128))return wn=!1,bd(e,t,a);wn=!!(e.flags&131072)}else wn=!1,dt&&t.flags&1048576&&El(t,Ii,t.index);switch(t.lanes=0,t.tag){case 2:var p=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var g=En(t,Tt.current);xt(t,a),g=Js(null,t,p,e,g,a);var y=qs();return t.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(p)?(y=!0,pr(t)):y=!1,t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,js(t),g.updater=Ai,t.stateNode=g,g._reactInternals=t,Bs(t,p,e,a),t=ia(null,t,p,!0,y,a)):(t.tag=0,dt&&y&&Ns(t),qt(null,t,g,a),t=t.child),t;case 16:p=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,g=p._init,p=g(p._payload),t.type=p,g=t.tag=Wd(p),e=Kt(p,e),g){case 0:t=oa(null,t,p,e,a);break e;case 1:t=lu(null,t,p,e,a);break e;case 11:t=ru(null,t,p,e,a);break e;case 14:t=ou(null,t,p,Kt(p.type,e),a);break e}throw Error(u(306,p,""))}return t;case 0:return p=t.type,g=t.pendingProps,g=t.elementType===p?g:Kt(p,g),oa(e,t,p,g,a);case 1:return p=t.type,g=t.pendingProps,g=t.elementType===p?g:Kt(p,g),lu(e,t,p,g,a);case 3:e:{if(uu(t),e===null)throw Error(u(387));p=t.pendingProps,y=t.memoizedState,g=y.element,vl(e,t),Ui(t,p,null,a);var k=t.memoizedState;if(p=k.element,Re&&y.isDehydrated)if(y={element:p,isDehydrated:!1,cache:k.cache,transitions:k.transitions},t.updateQueue.baseState=y,t.memoizedState=y,t.flags&256){g=Error(u(423)),t=cu(e,t,p,a,g);break e}else if(p!==g){g=Error(u(424)),t=cu(e,t,p,a,g);break e}else for(Re&&(xn=Ot(t.stateNode.containerInfo),yn=t,dt=!0,Vn=null,Vo=!1),a=Ll(t,null,p,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(so(),p===g){t=dr(e,t,a);break e}qt(e,t,p,a)}t=t.child}return t;case 5:return Rl(t),e===null&&Hs(t),p=t.type,g=t.pendingProps,y=e!==null?e.memoizedProps:null,k=g.children,Z(p,g)?k=null:y!==null&&Z(p,y)&&(t.flags|=32),au(e,t),qt(e,t,k,a),t.child;case 6:return e===null&&Hs(t),null;case 13:return fu(e,t,a);case 4:return Zs(t,t.stateNode.containerInfo),p=t.pendingProps,e===null?t.child=ao(t,null,p,a):qt(e,t,p,a),t.child;case 11:return p=t.type,g=t.pendingProps,g=t.elementType===p?g:Kt(p,g),ru(e,t,p,g,a);case 7:return qt(e,t,t.pendingProps,a),t.child;case 8:return qt(e,t,t.pendingProps.children,a),t.child;case 12:return qt(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(p=t.type._context,g=t.pendingProps,y=t.memoizedProps,k=g.value,Li(t,p,k),y!==null)if(gn(y.value,k)){if(y.children===g.children&&!Lt.current){t=dr(e,t,a);break e}}else for(y=t.child,y!==null&&(y.return=t);y!==null;){var O=y.dependencies;if(O!==null){k=y.child;for(var $=O.firstContext;$!==null;){if($.context===p){if(y.tag===1){$=lr(-1,a&-a),$.tag=2;var ce=y.updateQueue;if(ce!==null){ce=ce.shared;var Se=ce.pending;Se===null?$.next=$:($.next=Se.next,Se.next=$),ce.pending=$}}y.lanes|=a,$=y.alternate,$!==null&&($.lanes|=a),Jt(y.return,a,t),O.lanes|=a;break}$=$.next}}else if(y.tag===10)k=y.type===t.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(u(341));k.lanes|=a,O=k.alternate,O!==null&&(O.lanes|=a),Jt(k,a,t),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===t){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}qt(e,t,g.children,a),t=t.child}return t;case 9:return g=t.type,p=t.pendingProps.children,xt(t,a),g=wt(g),p=p(g),t.flags|=1,qt(e,t,p,a),t.child;case 14:return p=t.type,g=Kt(p,t.pendingProps),g=Kt(p.type,g),ou(e,t,p,g,a);case 15:return iu(e,t,t.type,t.pendingProps,a);case 17:return p=t.type,g=t.pendingProps,g=t.elementType===p?g:Kt(p,g),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Rt(p)?(e=!0,pr(t)):e=!1,xt(t,a),Cl(t,p,g),Bs(t,p,g,a),ia(null,t,p,!0,e,a);case 19:return mu(e,t,a);case 22:return su(e,t,a)}throw Error(u(156,t.tag))};function zu(e,t){return ar(e,t)}function Nd(e,t,a,p){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,a,p){return new Nd(e,t,a,p)}function ba(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wd(e){if(typeof e=="function")return ba(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_)return 11;if(e===E)return 14}return 2}function _r(e,t){var a=e.alternate;return a===null?(a=Rn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function hs(e,t,a,p,g,y){var k=2;if(p=e,typeof e=="function")ba(e)&&(k=1);else if(typeof e=="string")k=5;else e:switch(e){case d:return Nr(a.children,g,y,t);case m:k=8,g|=8;break;case v:return e=Rn(12,a,t,g|2),e.elementType=v,e.lanes=y,e;case w:return e=Rn(13,a,t,g),e.elementType=w,e.lanes=y,e;case C:return e=Rn(19,a,t,g),e.elementType=C,e.lanes=y,e;case P:return ps(a,g,y,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:k=10;break e;case S:k=9;break e;case _:k=11;break e;case E:k=14;break e;case T:k=16,p=null;break e}throw Error(u(130,e==null?e:typeof e,""))}return t=Rn(k,a,t,g),t.elementType=e,t.type=p,t.lanes=y,t}function Nr(e,t,a,p){return e=Rn(7,e,p,t),e.lanes=a,e}function ps(e,t,a,p){return e=Rn(22,e,p,t),e.elementType=P,e.lanes=a,e.stateNode={},e}function Pa(e,t,a){return e=Rn(6,e,null,t),e.lanes=a,e}function Ma(e,t,a){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gd(e,t,a,p,g){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=de,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=p,this.onRecoverableError=g,Re&&(this.mutableSourceEagerHydrationData=null)}function Bu(e,t,a,p,g,y,k,O,$){return e=new Gd(e,t,a,O,$),t===1?(t=1,y===!0&&(t|=8)):t=0,y=Rn(3,null,null,t),e.current=y,y.stateNode=e,y.memoizedState={element:p,isDehydrated:a,cache:null,transitions:null},js(y),e}function Nu(e){if(!e)return dn;e=e._reactInternals;e:{if(V(e)!==e||e.tag!==1)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(u(171))}if(e.tag===1){var a=e.type;if(Rt(a))return qr(e,a,t)}return t}function Wu(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=U(t),e===null?null:e.stateNode}function Gu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function La(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function Hd(e){return e=U(e),e===null?null:e.stateNode}function Vd(){return null}return s.attemptContinuousHydration=function(e){if(e.tag===13){var t=$t();Ln(e,134217728,t),La(e,134217728)}},s.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=$t(),a=Sr(e);Ln(e,a,t),La(e,a)}},s.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=ir(t.pendingLanes);a!==0&&(Jn(t,a|1),rn(t,pt()),!(Ke&6)&&(po(),tn()))}break;case 13:var p=$t();Ru(function(){return Ln(e,1,p)}),La(e,1)}},s.batchedUpdates=function(e,t){var a=Ke;Ke|=1;try{return e(t)}finally{Ke=a,Ke===0&&(po(),qn&&tn())}},s.createComponentSelector=function(e){return{$$typeof:$i,value:e}},s.createContainer=function(e,t,a,p,g,y,k){return Bu(e,t,!1,null,a,p,g,y,k)},s.createHasPseudoClassSelector=function(e){return{$$typeof:es,value:e}},s.createHydrationContainer=function(e,t,a,p,g,y,k,O,$){return e=Bu(a,p,!0,e,g,y,k,O,$),e.context=Nu(null),a=e.current,p=$t(),g=Sr(a),y=lr(p,g),y.callback=t??null,yr(a,y),e.current.lanes=g,Kn(e,g,p),rn(e,p),e},s.createPortal=function(e,t,a){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:p==null?null:""+p,children:e,containerInfo:t,implementation:a}},s.createRoleSelector=function(e){return{$$typeof:ts,value:e}},s.createTestNameSelector=function(e){return{$$typeof:ns,value:e}},s.createTextSelector=function(e){return{$$typeof:rs,value:e}},s.deferredUpdates=function(e){var t=Je,a=St.transition;try{return St.transition=null,Je=16,e()}finally{Je=t,St.transition=a}},s.discreteUpdates=function(e,t,a,p,g){var y=Je,k=St.transition;try{return St.transition=null,Je=1,e(t,a,p,g)}finally{Je=y,St.transition=k,Ke===0&&po()}},s.findAllNodes=ga,s.findBoundingRects=function(e,t){if(!xe)throw Error(u(363));t=ga(e,t),e=[];for(var a=0;a<t.length;a++)e.push(ze(t[a]));for(t=e.length-1;0<t;t--){a=e[t];for(var p=a.x,g=p+a.width,y=a.y,k=y+a.height,O=t-1;0<=O;O--)if(t!==O){var $=e[O],ce=$.x,Se=ce+$.width,Ve=$.y,Oe=Ve+$.height;if(p>=ce&&y>=Ve&&g<=Se&&k<=Oe){e.splice(t,1);break}else if(p!==ce||a.width!==$.width||Oe<y||Ve>k){if(!(y!==Ve||a.height!==$.height||Se<p||ce>g)){ce>p&&($.width+=ce-p,$.x=p),Se<g&&($.width=g-ce),e.splice(t,1);break}}else{Ve>y&&($.height+=Ve-y,$.y=y),Oe<k&&($.height=k-Ve),e.splice(t,1);break}}}return e},s.findHostInstance=Wu,s.findHostInstanceWithNoPortals=function(e){return e=K(e),e=e!==null?Y(e):null,e===null?null:e.stateNode},s.findHostInstanceWithWarning=function(e){return Wu(e)},s.flushControlled=function(e){var t=Ke;Ke|=1;var a=St.transition,p=Je;try{St.transition=null,Je=1,e()}finally{Je=p,St.transition=a,Ke=t,Ke===0&&(po(),tn())}},s.flushPassiveEffects=Br,s.flushSync=Ru,s.focusWithin=function(e,t){if(!xe)throw Error(u(363));for(e=ha(e),t=Pu(e,t),t=Array.from(t),e=0;e<t.length;){var a=t[e++];if(!_e(a)){if(a.tag===5&&qe(a.stateNode))return!0;for(a=a.child;a!==null;)t.push(a),a=a.sibling}}return!1},s.getCurrentUpdatePriority=function(){return Je},s.getFindAllNodesFailureDescription=function(e,t){if(!xe)throw Error(u(363));var a=0,p=[];e=[ha(e),0];for(var g=0;g<e.length;){var y=e[g++],k=e[g++],O=t[k];if((y.tag!==5||!_e(y))&&(pa(y,O)&&(p.push(ma(O)),k++,k>a&&(a=k)),k<t.length))for(y=y.child;y!==null;)e.push(y,k),y=y.sibling}if(a<t.length){for(e=[];a<t.length;a++)e.push(ma(t[a]));return`findAllNodes was able to match part of the selector:
  `+(p.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},s.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return te(e.child.stateNode);default:return e.child.stateNode}},s.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:Hd,findFiberByHostInstance:e.findFiberByHostInstance||Vd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Mr=t.inject(e),mn=t}catch{}e=!!t.checkDCE}}return e},s.isAlreadyRendering=function(){return!1},s.observeVisibleRects=function(e,t,a,p){if(!xe)throw Error(u(363));e=ga(e,t);var g=ke(e,a,p).disconnect;return{disconnect:function(){g()}}},s.registerMutableSourceForHydration=function(e,t){var a=t._getVersion;a=a(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,a]:e.mutableSourceEagerHydrationData.push(t,a)},s.runWithPriority=function(e,t){var a=Je;try{return Je=e,t()}finally{Je=a}},s.shouldError=function(){return null},s.shouldSuspend=function(){return!1},s.updateContainer=function(e,t,a,p){var g=t.current,y=$t(),k=Sr(g);return a=Nu(a),t.context===null?t.context=a:t.pendingContext=a,t=lr(y,k),t.payload={element:e},p=p===void 0?null:p,p!==null&&(t.callback=p),yr(g,t),e=Ln(g,k,y),e!==null&&Ri(e,g,k),k},s};hf.exports=Y1;var X1=hf.exports;const Q1=vi(X1),ll={},K1=o=>void Object.assign(ll,o);function J1(o,n){function s(d,{args:m=[],attach:v,...x},S){let _=`${d[0].toUpperCase()}${d.slice(1)}`,w;if(d==="primitive"){if(x.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const C=x.object;w=Co(C,{type:d,root:S,attach:v,primitive:!0})}else{const C=ll[_];if(!C)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");w=Co(new C(...m),{type:d,root:S,attach:v,memoizedProps:{args:m}})}return w.__r3f.attach===void 0&&(w instanceof sf?w.__r3f.attach="geometry":w instanceof $d&&(w.__r3f.attach="material")),_!=="inject"&&Oa(w,x),w}function l(d,m){let v=!1;if(m){var x,S;(x=m.__r3f)!=null&&x.attach?Ia(d,m,m.__r3f.attach):m.isObject3D&&d.isObject3D&&(d.add(m),v=!0),v||(S=d.__r3f)==null||S.objects.push(m),m.__r3f||Co(m,{}),m.__r3f.parent=d,$a(m),_o(m)}}function i(d,m,v){let x=!1;if(m){var S,_;if((S=m.__r3f)!=null&&S.attach)Ia(d,m,m.__r3f.attach);else if(m.isObject3D&&d.isObject3D){m.parent=d,m.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:m});const w=d.children.filter(E=>E!==m),C=w.indexOf(v);d.children=[...w.slice(0,C),m,...w.slice(C)],x=!0}x||(_=d.__r3f)==null||_.objects.push(m),m.__r3f||Co(m,{}),m.__r3f.parent=d,$a(m),_o(m)}}function r(d,m,v=!1){d&&[...d].forEach(x=>u(m,x,v))}function u(d,m,v){if(m){var x,S,_;if(m.__r3f&&(m.__r3f.parent=null),(x=d.__r3f)!=null&&x.objects&&(d.__r3f.objects=d.__r3f.objects.filter(P=>P!==m)),(S=m.__r3f)!=null&&S.attach)nc(d,m,m.__r3f.attach);else if(m.isObject3D&&d.isObject3D){var w;d.remove(m),(w=m.__r3f)!=null&&w.root&&ih(Ss(m),m)}const E=(_=m.__r3f)==null?void 0:_.primitive,T=!E&&(v===void 0?m.dispose!==null:v);if(!E){var C;r((C=m.__r3f)==null?void 0:C.objects,m,T),r(m.children,m,T)}if(delete m.__r3f,T&&m.dispose&&m.type!=="Scene"){const P=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Ja.unstable_scheduleCallback(Ja.unstable_IdlePriority,P):P()}_o(d)}}function c(d,m,v,x){var S;const _=(S=d.__r3f)==null?void 0:S.parent;if(!_)return;const w=s(m,v,d.__r3f.root);if(d.children){for(const C of d.children)C.__r3f&&l(w,C);d.children=d.children.filter(C=>!C.__r3f)}d.__r3f.objects.forEach(C=>l(w,C)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||u(_,d),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),l(_,w),w.raycast&&w.__r3f.eventCount&&Ss(w).getState().internal.interaction.push(w),[x,x.alternate].forEach(C=>{C!==null&&(C.stateNode=w,C.ref&&(typeof C.ref=="function"?C.ref(w):C.ref.current=w))})}const f=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Q1({createInstance:s,removeChild:u,appendChild:l,appendInitialChild:l,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,m)=>{if(!m)return;const v=d.getState().scene;v.__r3f&&(v.__r3f.root=d,l(v,m))},removeChildFromContainer:(d,m)=>{m&&u(d.getState().scene,m)},insertInContainerBefore:(d,m,v)=>{if(!m||!v)return;const x=d.getState().scene;x.__r3f&&i(x,m,v)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var m;return!!((m=d==null?void 0:d.__r3f)!=null?m:{}).handlers},prepareUpdate(d,m,v,x){var S;if(((S=d==null?void 0:d.__r3f)!=null?S:{}).primitive&&x.object&&x.object!==d)return[!0];{const{args:w=[],children:C,...E}=x,{args:T=[],children:P,...M}=v;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((D,z)=>D!==T[z]))return[!0];const L=Cf(d,E,M,!0);return L.changes.length?[!1,L]:null}},commitUpdate(d,[m,v],x,S,_,w){m?c(d,x,_,w):Oa(d,v)},commitMount(d,m,v,x){var S;const _=(S=d.__r3f)!=null?S:{};d.raycast&&_.handlers&&_.eventCount&&Ss(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Co(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var m;const{attach:v,parent:x}=(m=d.__r3f)!=null?m:{};v&&x&&nc(x,d,v),d.isObject3D&&(d.visible=!1),_o(d)},unhideInstance(d,m){var v;const{attach:x,parent:S}=(v=d.__r3f)!=null?v:{};x&&S&&Ia(S,d,x),(d.isObject3D&&m.visible==null||m.visible)&&(d.visible=!0),_o(d)},createTextInstance:f,hideTextInstance:f,unhideTextInstance:f,getCurrentEventPriority:()=>n?n():To.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ft.fun(performance.now)?performance.now:ft.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ft.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ft.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Oa}}var qu,$u;const Da=o=>"colorSpace"in o||"outputColorSpace"in o,gf=()=>{var o;return(o=ll.ColorManagement)!=null?o:null},vf=o=>o&&o.isOrthographicCamera,q1=o=>o&&o.hasOwnProperty("current"),xi=typeof window<"u"&&((qu=window.document)!=null&&qu.createElement||(($u=window.navigator)==null?void 0:$u.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function yf(o){const n=N.useRef(o);return xi(()=>void(n.current=o),[o]),n}function $1({set:o}){return xi(()=>(o(new Promise(()=>null)),()=>o(!1)),[o]),null}class xf extends N.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}}xf.getDerivedStateFromError=()=>({error:!0});const wf="__default",ec=new Map,eh=o=>o&&!!o.memoized&&!!o.changes;function Sf(o){var n;const s=typeof window<"u"?(n=window.devicePixelRatio)!=null?n:2:1;return Array.isArray(o)?Math.min(Math.max(o[0],s),o[1]):o}const li=o=>{var n;return(n=o.__r3f)==null?void 0:n.root.getState()};function Ss(o){let n=o.__r3f.root;for(;n.getState().previousRoot;)n=n.getState().previousRoot;return n}const ft={obj:o=>o===Object(o)&&!ft.arr(o)&&typeof o!="function",fun:o=>typeof o=="function",str:o=>typeof o=="string",num:o=>typeof o=="number",boo:o=>typeof o=="boolean",und:o=>o===void 0,arr:o=>Array.isArray(o),equ(o,n,{arrays:s="shallow",objects:l="reference",strict:i=!0}={}){if(typeof o!=typeof n||!!o!=!!n)return!1;if(ft.str(o)||ft.num(o)||ft.boo(o))return o===n;const r=ft.obj(o);if(r&&l==="reference")return o===n;const u=ft.arr(o);if(u&&s==="reference")return o===n;if((u||r)&&o===n)return!0;let c;for(c in o)if(!(c in n))return!1;if(r&&s==="shallow"&&l==="shallow"){for(c in i?n:o)if(!ft.equ(o[c],n[c],{strict:i,objects:"reference"}))return!1}else for(c in i?n:o)if(o[c]!==n[c])return!1;if(ft.und(c)){if(u&&o.length===0&&n.length===0||r&&Object.keys(o).length===0&&Object.keys(n).length===0)return!0;if(o!==n)return!1}return!0}};function th(o){o.dispose&&o.type!=="Scene"&&o.dispose();for(const n in o)n.dispose==null||n.dispose(),delete o[n]}function Co(o,n){const s=o;return s.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...n},o}function qa(o,n){let s=o;if(n.includes("-")){const l=n.split("-"),i=l.pop();return s=l.reduce((r,u)=>r[u],o),{target:s,key:i}}else return{target:s,key:n}}const tc=/-\d+$/;function Ia(o,n,s){if(ft.str(s)){if(tc.test(s)){const r=s.replace(tc,""),{target:u,key:c}=qa(o,r);Array.isArray(u[c])||(u[c]=[])}const{target:l,key:i}=qa(o,s);n.__r3f.previousAttach=l[i],l[i]=n}else n.__r3f.previousAttach=s(o,n)}function nc(o,n,s){var l,i;if(ft.str(s)){const{target:r,key:u}=qa(o,s),c=n.__r3f.previousAttach;c===void 0?delete r[u]:r[u]=c}else(l=n.__r3f)==null||l.previousAttach==null||l.previousAttach(o,n);(i=n.__r3f)==null||delete i.previousAttach}function Cf(o,{children:n,key:s,ref:l,...i},{children:r,key:u,ref:c,...f}={},h=!1){const d=o.__r3f,m=Object.entries(i),v=[];if(h){const S=Object.keys(f);for(let _=0;_<S.length;_++)i.hasOwnProperty(S[_])||m.unshift([S[_],wf+"remove"])}m.forEach(([S,_])=>{var w;if((w=o.__r3f)!=null&&w.primitive&&S==="object"||ft.equ(_,f[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return v.push([S,_,!0,[]]);let C=[];S.includes("-")&&(C=S.split("-")),v.push([S,_,!1,C]);for(const E in i){const T=i[E];E.startsWith(`${S}-`)&&v.push([E,T,!1,E.split("-")])}});const x={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(x.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(x.attach=d.memoizedProps.attach),{memoized:x,changes:v}}const nh=typeof process<"u"&&!1;function Oa(o,n){var s;const l=o.__r3f,i=l==null?void 0:l.root,r=i==null||i.getState==null?void 0:i.getState(),{memoized:u,changes:c}=eh(n)?n:Cf(o,n),f=l==null?void 0:l.eventCount;o.__r3f&&(o.__r3f.memoizedProps=u);for(let d=0;d<c.length;d++){let[m,v,x,S]=c[d];if(Da(o)){const E="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?E:T):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?E:T)}let _=o,w=_[m];if(S.length&&(w=S.reduce((C,E)=>C[E],o),!(w&&w.set))){const[C,...E]=S.reverse();_=E.reverse().reduce((T,P)=>T[P],o),m=C}if(v===wf+"remove")if(_.constructor){let C=ec.get(_.constructor);C||(C=new _.constructor,ec.set(_.constructor,C)),v=C[m]}else v=0;if(x&&l)v?l.handlers[m]=v:delete l.handlers[m],l.eventCount=Object.keys(l.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Ra)){if(Array.isArray(v))w.fromArray?w.fromArray(v):w.set(...v);else if(w.copy&&v&&v.constructor&&(nh?w.constructor.name===v.constructor.name:w.constructor===v.constructor))w.copy(v);else if(v!==void 0){const C=w instanceof Ls;!C&&w.setScalar?w.setScalar(v):w instanceof Ra&&v instanceof Ra?w.mask=v.mask:w.set(v),!gf()&&r&&!r.linear&&C&&w.convertSRGBToLinear()}}else if(_[m]=v,_[m]instanceof of&&_[m].format===Xd&&_[m].type===Qd&&r){const C=_[m];Da(C)&&Da(r.gl)?C.colorSpace=r.gl.outputColorSpace:C.encoding=r.gl.outputEncoding}_o(o)}if(l&&l.parent&&o.raycast&&f!==l.eventCount){const d=Ss(o).getState().internal,m=d.interaction.indexOf(o);m>-1&&d.interaction.splice(m,1),l.eventCount&&d.interaction.push(o)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(s=o.__r3f)!=null&&s.parent&&$a(o),o}function _o(o){var n,s;const l=(n=o.__r3f)==null||(s=n.root)==null||s.getState==null?void 0:s.getState();l&&l.internal.frames===0&&l.invalidate()}function $a(o){o.onUpdate==null||o.onUpdate(o)}function rh(o,n){o.manual||(vf(o)?(o.left=n.width/-2,o.right=n.width/2,o.top=n.height/2,o.bottom=n.height/-2):o.aspect=n.width/n.height,o.updateProjectionMatrix(),o.updateMatrixWorld())}function gs(o){return(o.eventObject||o.object).uuid+"/"+o.index+o.instanceId}function oh(){var o;const n=typeof self<"u"&&self||typeof window<"u"&&window;if(!n)return To.DefaultEventPriority;switch((o=n.event)==null?void 0:o.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return To.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return To.ContinuousEventPriority;default:return To.DefaultEventPriority}}function _f(o,n,s,l){const i=s.get(n);i&&(s.delete(n),s.size===0&&(o.delete(l),i.target.releasePointerCapture(l)))}function ih(o,n){const{internal:s}=o.getState();s.interaction=s.interaction.filter(l=>l!==n),s.initialHits=s.initialHits.filter(l=>l!==n),s.hovered.forEach((l,i)=>{(l.eventObject===n||l.object===n)&&s.hovered.delete(i)}),s.capturedMap.forEach((l,i)=>{_f(s.capturedMap,n,l,i)})}function sh(o){function n(f){const{internal:h}=o.getState(),d=f.offsetX-h.initialClick[0],m=f.offsetY-h.initialClick[1];return Math.round(Math.sqrt(d*d+m*m))}function s(f){return f.filter(h=>["Move","Over","Enter","Out","Leave"].some(d=>{var m;return(m=h.__r3f)==null?void 0:m.handlers["onPointer"+d]}))}function l(f,h){const d=o.getState(),m=new Set,v=[],x=h?h(d.internal.interaction):d.internal.interaction;for(let C=0;C<x.length;C++){const E=li(x[C]);E&&(E.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(f,d);function S(C){const E=li(C);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var T;E.events.compute==null||E.events.compute(f,E,(T=E.previousRoot)==null?void 0:T.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(C,!0):[]}let _=x.flatMap(S).sort((C,E)=>{const T=li(C.object),P=li(E.object);return!T||!P?C.distance-E.distance:P.events.priority-T.events.priority||C.distance-E.distance}).filter(C=>{const E=gs(C);return m.has(E)?!1:(m.add(E),!0)});d.events.filter&&(_=d.events.filter(_,d));for(const C of _){let E=C.object;for(;E;){var w;(w=E.__r3f)!=null&&w.eventCount&&v.push({...C,eventObject:E}),E=E.parent}}if("pointerId"in f&&d.internal.capturedMap.has(f.pointerId))for(let C of d.internal.capturedMap.get(f.pointerId).values())m.has(gs(C.intersection))||v.push(C.intersection);return v}function i(f,h,d,m){const v=o.getState();if(f.length){const x={stopped:!1};for(const S of f){const _=li(S.object)||v,{raycaster:w,pointer:C,camera:E,internal:T}=_,P=new kt(C.x,C.y,0).unproject(E),M=I=>{var K,U;return(K=(U=T.capturedMap.get(I))==null?void 0:U.has(S.eventObject))!=null?K:!1},L=I=>{const K={intersection:S,target:h.target};T.capturedMap.has(I)?T.capturedMap.get(I).set(S.eventObject,K):T.capturedMap.set(I,new Map([[S.eventObject,K]])),h.target.setPointerCapture(I)},D=I=>{const K=T.capturedMap.get(I);K&&_f(T.capturedMap,S.eventObject,K,I)};let z={};for(let I in h){let K=h[I];typeof K!="function"&&(z[I]=K)}let V={...S,...z,pointer:C,intersections:f,stopped:x.stopped,delta:d,unprojectedPoint:P,ray:w.ray,camera:E,stopPropagation(){const I="pointerId"in h&&T.capturedMap.get(h.pointerId);if((!I||I.has(S.eventObject))&&(V.stopped=x.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(K=>K.eventObject===S.eventObject))){const K=f.slice(0,f.indexOf(S));r([...K,S])}},target:{hasPointerCapture:M,setPointerCapture:L,releasePointerCapture:D},currentTarget:{hasPointerCapture:M,setPointerCapture:L,releasePointerCapture:D},nativeEvent:h};if(m(V),x.stopped===!0)break}}return f}function r(f){const{internal:h}=o.getState();for(const d of h.hovered.values())if(!f.length||!f.find(m=>m.object===d.object&&m.index===d.index&&m.instanceId===d.instanceId)){const v=d.eventObject.__r3f,x=v==null?void 0:v.handlers;if(h.hovered.delete(gs(d)),v!=null&&v.eventCount){const S={...d,intersections:f};x.onPointerOut==null||x.onPointerOut(S),x.onPointerLeave==null||x.onPointerLeave(S)}}}function u(f,h){for(let d=0;d<h.length;d++){const m=h[d].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(f)}}function c(f){switch(f){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return h=>{const{internal:d}=o.getState();"pointerId"in h&&d.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(h.pointerId)&&(d.capturedMap.delete(h.pointerId),r([]))})}}return function(d){const{onPointerMissed:m,internal:v}=o.getState();v.lastEvent.current=d;const x=f==="onPointerMove",S=f==="onClick"||f==="onContextMenu"||f==="onDoubleClick",w=l(d,x?s:void 0),C=S?n(d):0;f==="onPointerDown"&&(v.initialClick=[d.offsetX,d.offsetY],v.initialHits=w.map(T=>T.eventObject)),S&&!w.length&&C<=2&&(u(d,v.interaction),m&&m(d)),x&&r(w);function E(T){const P=T.eventObject,M=P.__r3f,L=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(x){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const D=gs(T),z=v.hovered.get(D);z?z.stopped&&T.stopPropagation():(v.hovered.set(D,T),L.onPointerOver==null||L.onPointerOver(T),L.onPointerEnter==null||L.onPointerEnter(T))}L.onPointerMove==null||L.onPointerMove(T)}else{const D=L[f];D?(!S||v.initialHits.includes(P))&&(u(d,v.interaction.filter(z=>!v.initialHits.includes(z))),D(T)):S&&v.initialHits.includes(P)&&u(d,v.interaction.filter(z=>!v.initialHits.includes(z)))}}i(w,d,C,E)}}return{handlePointer:c}}const Ef=o=>!!(o!=null&&o.render),kf=N.createContext(null),ah=(o,n)=>{const s=W1((c,f)=>{const h=new kt,d=new kt,m=new kt;function v(C=f().camera,E=d,T=f().size){const{width:P,height:M,top:L,left:D}=T,z=P/M;E instanceof kt?m.copy(E):m.set(...E);const V=C.getWorldPosition(h).distanceTo(m);if(vf(C))return{width:P/C.zoom,height:M/C.zoom,top:L,left:D,factor:1,distance:V,aspect:z};{const I=C.fov*Math.PI/180,K=2*Math.tan(I/2)*V,U=K*(P/M);return{width:U,height:K,top:L,left:D,factor:P/U,distance:V,aspect:z}}}let x;const S=C=>c(E=>({performance:{...E.performance,current:C}})),_=new Gt;return{set:c,get:f,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(C=1)=>o(f(),C),advance:(C,E)=>n(C,E,f()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new i1,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const C=f();x&&clearTimeout(x),C.performance.current!==C.performance.min&&S(C.performance.min),x=setTimeout(()=>S(f().performance.max),C.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:C=>c(E=>({...E,events:{...E.events,...C}})),setSize:(C,E,T,P,M)=>{const L=f().camera,D={width:C,height:E,top:P||0,left:M||0,updateStyle:T};c(z=>({size:D,viewport:{...z.viewport,...v(L,d,D)}}))},setDpr:C=>c(E=>{const T=Sf(C);return{viewport:{...E.viewport,dpr:T,initialDpr:E.viewport.initialDpr||T}}}),setFrameloop:(C="always")=>{const E=f().clock;E.stop(),E.elapsedTime=0,C!=="never"&&(E.start(),E.elapsedTime=0),c(()=>({frameloop:C}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(C,E,T)=>{const P=f().internal;return P.priority=P.priority+(E>0?1:0),P.subscribers.push({ref:C,priority:E,store:T}),P.subscribers=P.subscribers.sort((M,L)=>M.priority-L.priority),()=>{const M=f().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(E>0?1:0),M.subscribers=M.subscribers.filter(L=>L.ref!==C))}}}}}),l=s.getState();let i=l.size,r=l.viewport.dpr,u=l.camera;return s.subscribe(()=>{const{camera:c,size:f,viewport:h,gl:d,set:m}=s.getState();if(f.width!==i.width||f.height!==i.height||h.dpr!==r){var v;i=f,r=h.dpr,rh(c,f),d.setPixelRatio(h.dpr);const x=(v=f.updateStyle)!=null?v:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(f.width,f.height,x)}c!==u&&(u=c,m(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(c)}})))}),s.subscribe(c=>o(c)),s};function ul(o,n){const s={callback:o};return n.add(s),()=>void n.delete(s)}let vs,Tf=new Set,bf=new Set,Pf=new Set;const lh=o=>ul(o,Tf),uh=o=>ul(o,bf),ch=o=>ul(o,Pf);function Fa(o,n){if(o.size)for(const{callback:s}of o.values())s(n)}function ui(o,n){switch(o){case"before":return Fa(Tf,n);case"after":return Fa(bf,n);case"tail":return Fa(Pf,n)}}let ja,za;function Ba(o,n,s){let l=n.clock.getDelta();for(n.frameloop==="never"&&typeof o=="number"&&(l=o-n.clock.elapsedTime,n.clock.oldTime=n.clock.elapsedTime,n.clock.elapsedTime=o),ja=n.internal.subscribers,vs=0;vs<ja.length;vs++)za=ja[vs],za.ref.current(za.store.getState(),l,s);return!n.internal.priority&&n.gl.render&&n.gl.render(n.scene,n.camera),n.internal.frames=Math.max(0,n.internal.frames-1),n.frameloop==="always"?1:n.internal.frames}function fh(o){let n=!1,s=!1,l,i,r;function u(h){i=requestAnimationFrame(u),n=!0,l=0,ui("before",h),s=!0;for(const m of o.values()){var d;r=m.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((d=r.gl.xr)!=null&&d.isPresenting)&&(l+=Ba(h,r))}if(s=!1,ui("after",h),l===0)return ui("tail",h),n=!1,cancelAnimationFrame(i)}function c(h,d=1){var m;if(!h)return o.forEach(v=>c(v.store.getState(),d));(m=h.gl.xr)!=null&&m.isPresenting||!h.internal.active||h.frameloop==="never"||(d>1?h.internal.frames=Math.min(60,h.internal.frames+d):s?h.internal.frames=2:h.internal.frames=1,n||(n=!0,requestAnimationFrame(u)))}function f(h,d=!0,m,v){if(d&&ui("before",h),m)Ba(h,m,v);else for(const x of o.values())Ba(h,x.store.getState());d&&ui("after",h)}return{loop:u,invalidate:c,advance:f}}function Mf(){const o=N.useContext(kf);if(!o)throw new Error("R3F: Hooks can only be used within the Canvas component!");return o}function Ht(o=s=>s,n){return Mf()(o,n)}function cl(o,n=0){const s=Mf(),l=s.getState().internal.subscribe,i=yf(o);return xi(()=>l(i,n,s),[n,l,s]),null}const Mo=new Map,{invalidate:rc,advance:oc}=fh(Mo),{reconciler:Ps,applyProps:vo}=J1(Mo,oh),yo={objects:"shallow",strict:!1},dh=(o,n)=>{const s=typeof o=="function"?o(n):o;return Ef(s)?s:new e1({powerPreference:"high-performance",canvas:n,antialias:!0,alpha:!0,...o})};function hh(o,n){const s=typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement;if(n){const{width:l,height:i,top:r,left:u,updateStyle:c=s}=n;return{width:l,height:i,top:r,left:u,updateStyle:c}}else if(typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement&&o.parentElement){const{width:l,height:i,top:r,left:u}=o.parentElement.getBoundingClientRect();return{width:l,height:i,top:r,left:u,updateStyle:s}}else if(typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas)return{width:o.width,height:o.height,top:0,left:0,updateStyle:s};return{width:0,height:0,top:0,left:0}}function ph(o){const n=Mo.get(o),s=n==null?void 0:n.fiber,l=n==null?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,r=l||ah(rc,oc),u=s||Ps.createContainer(r,To.ConcurrentRoot,null,!1,null,"",i,null);n||Mo.set(o,{fiber:u,store:r});let c,f=!1,h;return{configure(d={}){let{gl:m,size:v,scene:x,events:S,onCreated:_,shadows:w=!1,linear:C=!1,flat:E=!1,legacy:T=!1,orthographic:P=!1,frameloop:M="always",dpr:L=[1,2],performance:D,raycaster:z,camera:V,onPointerMissed:I}=d,K=r.getState(),U=K.gl;K.gl||K.set({gl:U=dh(m,o)});let Q=K.raycaster;Q||K.set({raycaster:Q=new Kd});const{params:Y,...ae}=z||{};if(ft.equ(ae,Q,yo)||vo(Q,{...ae}),ft.equ(Y,Q.params,yo)||vo(Q,{params:{...Q.params,...Y}}),!K.camera||K.camera===h&&!ft.equ(h,V,yo)){h=V;const B=V instanceof t1,b=B?V:P?new ko(0,0,0,0,.1,1e3):new hi(75,0,.1,1e3);B||(b.position.z=5,V&&(vo(b,V),("aspect"in V||"left"in V||"right"in V||"bottom"in V||"top"in V)&&(b.manual=!0,b.updateProjectionMatrix())),!K.camera&&!(V!=null&&V.rotation)&&b.lookAt(0,0,0)),K.set({camera:b}),Q.camera=b}if(!K.scene){let B;x instanceof ks?B=x:(B=new ks,x&&vo(B,x)),K.set({scene:Co(B)})}if(!K.xr){var te;const B=(W,J)=>{const Z=r.getState();Z.frameloop!=="never"&&oc(W,!0,Z,J)},b=()=>{const W=r.getState();W.gl.xr.enabled=W.gl.xr.isPresenting,W.gl.xr.setAnimationLoop(W.gl.xr.isPresenting?B:null),W.gl.xr.isPresenting||rc(W)},F={connect(){const W=r.getState().gl;W.xr.addEventListener("sessionstart",b),W.xr.addEventListener("sessionend",b)},disconnect(){const W=r.getState().gl;W.xr.removeEventListener("sessionstart",b),W.xr.removeEventListener("sessionend",b)}};typeof((te=U.xr)==null?void 0:te.addEventListener)=="function"&&F.connect(),K.set({xr:F})}if(U.shadowMap){const B=U.shadowMap.enabled,b=U.shadowMap.type;if(U.shadowMap.enabled=!!w,ft.boo(w))U.shadowMap.type=Ua;else if(ft.str(w)){var fe;const F={basic:n1,percentage:r1,soft:Ua,variance:o1};U.shadowMap.type=(fe=F[w])!=null?fe:Ua}else ft.obj(w)&&Object.assign(U.shadowMap,w);(B!==U.shadowMap.enabled||b!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const X=gf();X&&("enabled"in X?X.enabled=!T:"legacyMode"in X&&(X.legacyMode=T)),f||vo(U,{outputEncoding:C?3e3:3001,toneMapping:E?Jd:qd}),K.legacy!==T&&K.set(()=>({legacy:T})),K.linear!==C&&K.set(()=>({linear:C})),K.flat!==E&&K.set(()=>({flat:E})),m&&!ft.fun(m)&&!Ef(m)&&!ft.equ(m,U,yo)&&vo(U,m),S&&!K.events.handlers&&K.set({events:S(r)});const G=hh(o,v);return ft.equ(G,K.size,yo)||K.setSize(G.width,G.height,G.updateStyle,G.top,G.left),L&&K.viewport.dpr!==Sf(L)&&K.setDpr(L),K.frameloop!==M&&K.setFrameloop(M),K.onPointerMissed||K.set({onPointerMissed:I}),D&&!ft.equ(D,K.performance,yo)&&K.set(B=>({performance:{...B.performance,...D}})),c=_,f=!0,this},render(d){return f||this.configure(),Ps.updateContainer(A.jsx(mh,{store:r,children:d,onCreated:c,rootElement:o}),u,null,()=>{}),r},unmount(){Lf(o)}}}function mh({store:o,children:n,onCreated:s,rootElement:l}){return xi(()=>{const i=o.getState();i.set(r=>({internal:{...r.internal,active:!0}})),s&&s(i),o.getState().events.connected||i.events.connect==null||i.events.connect(l)},[]),A.jsx(kf.Provider,{value:o,children:n})}function Lf(o,n){const s=Mo.get(o),l=s==null?void 0:s.fiber;if(l){const i=s==null?void 0:s.store.getState();i&&(i.internal.active=!1),Ps.updateContainer(null,l,null,()=>{i&&setTimeout(()=>{try{var r,u,c,f;i.events.disconnect==null||i.events.disconnect(),(r=i.gl)==null||(u=r.renderLists)==null||u.dispose==null||u.dispose(),(c=i.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(f=i.gl)!=null&&f.xr&&i.xr.disconnect(),th(i),Mo.delete(o)}catch{}},500)})}}Ps.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});const Na={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function gh(o){const{handlePointer:n}=sh(o);return{priority:1,enabled:!0,compute(s,l,i){l.pointer.set(s.offsetX/l.size.width*2-1,-(s.offsetY/l.size.height)*2+1),l.raycaster.setFromCamera(l.pointer,l.camera)},connected:void 0,handlers:Object.keys(Na).reduce((s,l)=>({...s,[l]:n(l)}),{}),update:()=>{var s;const{events:l,internal:i}=o.getState();(s=i.lastEvent)!=null&&s.current&&l.handlers&&l.handlers.onPointerMove(i.lastEvent.current)},connect:s=>{var l;const{set:i,events:r}=o.getState();r.disconnect==null||r.disconnect(),i(u=>({events:{...u.events,connected:s}})),Object.entries((l=r.handlers)!=null?l:[]).forEach(([u,c])=>{const[f,h]=Na[u];s.addEventListener(f,c,{passive:h})})},disconnect:()=>{const{set:s,events:l}=o.getState();if(l.connected){var i;Object.entries((i=l.handlers)!=null?i:[]).forEach(([r,u])=>{if(l&&l.connected instanceof HTMLElement){const[c]=Na[r];l.connected.removeEventListener(c,u)}}),s(r=>({events:{...r.events,connected:void 0}}))}}}}function el(o,n,s){var l,i,r,u,c;n==null&&(n=100);function f(){var d=Date.now()-u;d<n&&d>=0?l=setTimeout(f,n-d):(l=null,s||(c=o.apply(r,i),r=i=null))}var h=function(){r=this,i=arguments,u=Date.now();var d=s&&!l;return l||(l=setTimeout(f,n)),d&&(c=o.apply(r,i),r=i=null),c};return h.clear=function(){l&&(clearTimeout(l),l=null)},h.flush=function(){l&&(c=o.apply(r,i),r=i=null,clearTimeout(l),l=null)},h}el.debounce=el;var vh=el;const ic=vi(vh);var yh=Object.defineProperty,xh=Object.defineProperties,wh=Object.getOwnPropertyDescriptors,sc=Object.getOwnPropertySymbols,Sh=Object.prototype.hasOwnProperty,Ch=Object.prototype.propertyIsEnumerable,ac=(o,n,s)=>n in o?yh(o,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[n]=s,lc=(o,n)=>{for(var s in n||(n={}))Sh.call(n,s)&&ac(o,s,n[s]);if(sc)for(var s of sc(n))Ch.call(n,s)&&ac(o,s,n[s]);return o},_h=(o,n)=>xh(o,wh(n)),uc,cc;typeof window<"u"&&((uc=window.document)!=null&&uc.createElement||((cc=window.navigator)==null?void 0:cc.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function Rf(o,n,s){if(!o)return;if(s(o)===!0)return o;let l=o.child;for(;l;){const i=Rf(l,n,s);if(i)return i;l=l.sibling}}function Uf(o){try{return Object.defineProperties(o,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return o}}const fc=console.error;console.error=function(){const o=[...arguments].join("");if(o!=null&&o.startsWith("Warning:")&&o.includes("useContext")){console.error=fc;return}return fc.apply(this,arguments)};const fl=Uf(N.createContext(null));class Af extends N.Component{render(){return N.createElement(fl.Provider,{value:this._reactInternals},this.props.children)}}function Eh(){const o=N.useContext(fl);if(o===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const n=N.useId();return N.useMemo(()=>{for(const l of[o,o==null?void 0:o.alternate]){if(!l)continue;const i=Rf(l,!1,r=>{let u=r.memoizedState;for(;u;){if(u.memoizedState===n)return!0;u=u.next}});if(i)return i}},[o,n])}function kh(){const o=Eh(),[n]=N.useState(()=>new Map);n.clear();let s=o;for(;s;){if(s.type&&typeof s.type=="object"){const i=s.type._context===void 0&&s.type.Provider===s.type?s.type:s.type._context;i&&i!==fl&&!n.has(i)&&n.set(i,N.useContext(Uf(i)))}s=s.return}return n}function Th(){const o=kh();return N.useMemo(()=>Array.from(o.keys()).reduce((n,s)=>l=>N.createElement(n,null,N.createElement(s.Provider,_h(lc({},l),{value:o.get(s)}))),n=>N.createElement(Af,lc({},n))),[o])}function bh({debounce:o,scroll:n,polyfill:s,offsetSize:l}={debounce:0,scroll:!1,offsetSize:!1}){const i=s||typeof window<"u"&&window.ResizeObserver,[r,u]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return r.width=1280,r.height=800,[()=>{},r,()=>{}];const c=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r}),f=o?typeof o=="number"?o:o.scroll:null,h=o?typeof o=="number"?o:o.resize:null,d=N.useRef(!1);N.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[m,v,x]=N.useMemo(()=>{const C=()=>{if(!c.current.element)return;const{left:E,top:T,width:P,height:M,bottom:L,right:D,x:z,y:V}=c.current.element.getBoundingClientRect(),I={left:E,top:T,width:P,height:M,bottom:L,right:D,x:z,y:V};c.current.element instanceof HTMLElement&&l&&(I.height=c.current.element.offsetHeight,I.width=c.current.element.offsetWidth),Object.freeze(I),d.current&&!Rh(c.current.lastBounds,I)&&u(c.current.lastBounds=I)};return[C,h?ic(C,h):C,f?ic(C,f):C]},[u,l,f,h]);function S(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(C=>C.removeEventListener("scroll",x,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function _(){c.current.element&&(c.current.resizeObserver=new i(x),c.current.resizeObserver.observe(c.current.element),n&&c.current.scrollContainers&&c.current.scrollContainers.forEach(C=>C.addEventListener("scroll",x,{capture:!0,passive:!0})))}const w=C=>{!C||C===c.current.element||(S(),c.current.element=C,c.current.scrollContainers=Df(C),_())};return Mh(x,!!n),Ph(v),N.useEffect(()=>{S(),_()},[n,x,v]),N.useEffect(()=>S,[]),[w,r,m]}function Ph(o){N.useEffect(()=>{const n=o;return window.addEventListener("resize",n),()=>void window.removeEventListener("resize",n)},[o])}function Mh(o,n){N.useEffect(()=>{if(n){const s=o;return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",s,!0)}},[o,n])}function Df(o){const n=[];if(!o||o===document.body)return n;const{overflow:s,overflowX:l,overflowY:i}=window.getComputedStyle(o);return[s,l,i].some(r=>r==="auto"||r==="scroll")&&n.push(o),[...n,...Df(o.parentElement)]}const Lh=["x","y","top","bottom","left","right","width","height"],Rh=(o,n)=>Lh.every(s=>o[s]===n[s]),Uh=N.forwardRef(function({children:n,fallback:s,resize:l,style:i,gl:r,events:u=gh,eventSource:c,eventPrefix:f,shadows:h,linear:d,flat:m,legacy:v,orthographic:x,frameloop:S,dpr:_,performance:w,raycaster:C,camera:E,scene:T,onPointerMissed:P,onCreated:M,...L},D){N.useMemo(()=>K1(s1),[]);const z=Th(),[V,I]=bh({scroll:!0,debounce:{scroll:50,resize:0},...l}),K=N.useRef(null),U=N.useRef(null);N.useImperativeHandle(D,()=>K.current);const Q=yf(P),[Y,ae]=N.useState(!1),[te,fe]=N.useState(!1);if(Y)throw Y;if(te)throw te;const X=N.useRef(null);xi(()=>{const B=K.current;I.width>0&&I.height>0&&B&&(X.current||(X.current=ph(B)),X.current.configure({gl:r,events:u,shadows:h,linear:d,flat:m,legacy:v,orthographic:x,frameloop:S,dpr:_,performance:w,raycaster:C,camera:E,scene:T,size:I,onPointerMissed:(...b)=>Q.current==null?void 0:Q.current(...b),onCreated:b=>{b.events.connect==null||b.events.connect(c?q1(c)?c.current:c:U.current),f&&b.setEvents({compute:(F,W)=>{const J=F[f+"X"],Z=F[f+"Y"];W.pointer.set(J/W.size.width*2-1,-(Z/W.size.height)*2+1),W.raycaster.setFromCamera(W.pointer,W.camera)}}),M==null||M(b)}}),X.current.render(A.jsx(z,{children:A.jsx(xf,{set:fe,children:A.jsx(N.Suspense,{fallback:A.jsx($1,{set:ae}),children:n})})})))}),N.useEffect(()=>{const B=K.current;if(B)return()=>Lf(B)},[]);const G=c?"none":"auto";return A.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...i},...L,children:A.jsx("div",{ref:V,style:{width:"100%",height:"100%"},children:A.jsx("canvas",{ref:K,style:{display:"block"},children:s})})})}),Ah=N.forwardRef(function(n,s){return A.jsx(Af,{children:A.jsx(Uh,{...n,ref:s})})});function Dh(o,n,s){return Math.max(n,Math.min(o,s))}const Yt={toVector(o,n){return o===void 0&&(o=n),Array.isArray(o)?o:[o,o]},add(o,n){return[o[0]+n[0],o[1]+n[1]]},sub(o,n){return[o[0]-n[0],o[1]-n[1]]},addTo(o,n){o[0]+=n[0],o[1]+=n[1]},subTo(o,n){o[0]-=n[0],o[1]-=n[1]}};function dc(o,n,s){return n===0||Math.abs(n)===1/0?Math.pow(o,s*5):o*n*s/(n+s*o)}function hc(o,n,s,l=.15){return l===0?Dh(o,n,s):o<n?-dc(n-o,s-n,l)+n:o>s?+dc(o-s,s-n,l)+s:o}function Ih(o,[n,s],[l,i]){const[[r,u],[c,f]]=o;return[hc(n,r,u,l),hc(s,c,f,i)]}function Oh(o,n){if(typeof o!="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var l=s.call(o,n||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(o)}function Fh(o){var n=Oh(o,"string");return typeof n=="symbol"?n:String(n)}function sn(o,n,s){return n=Fh(n),n in o?Object.defineProperty(o,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[n]=s,o}function pc(o,n){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);n&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(o,i).enumerable})),s.push.apply(s,l)}return s}function gt(o){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?pc(Object(s),!0).forEach(function(l){sn(o,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):pc(Object(s)).forEach(function(l){Object.defineProperty(o,l,Object.getOwnPropertyDescriptor(s,l))})}return o}const If={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function mc(o){return o?o[0].toUpperCase()+o.slice(1):""}const jh=["enter","leave"];function zh(o=!1,n){return o&&!jh.includes(n)}function Bh(o,n="",s=!1){const l=If[o],i=l&&l[n]||n;return"on"+mc(o)+mc(i)+(zh(s,i)?"Capture":"")}const Nh=["gotpointercapture","lostpointercapture"];function Wh(o){let n=o.substring(2).toLowerCase();const s=!!~n.indexOf("passive");s&&(n=n.replace("passive",""));const l=Nh.includes(n)?"capturecapture":"capture",i=!!~n.indexOf(l);return i&&(n=n.replace("capture","")),{device:n,capture:i,passive:s}}function Gh(o,n=""){const s=If[o],l=s&&s[n]||n;return o+l}function As(o){return"touches"in o}function Of(o){return As(o)?"touch":"pointerType"in o?o.pointerType:"mouse"}function Hh(o){return Array.from(o.touches).filter(n=>{var s,l;return n.target===o.currentTarget||((s=o.currentTarget)===null||s===void 0||(l=s.contains)===null||l===void 0?void 0:l.call(s,n.target))})}function Vh(o){return o.type==="touchend"||o.type==="touchcancel"?o.changedTouches:o.targetTouches}function Ff(o){return As(o)?Vh(o)[0]:o}function Zh(o){return Hh(o).map(n=>n.identifier)}function Wa(o){const n=Ff(o);return As(o)?n.identifier:n.pointerId}function gc(o){const n=Ff(o);return[n.clientX,n.clientY]}function Yh(o){const n={};if("buttons"in o&&(n.buttons=o.buttons),"shiftKey"in o){const{shiftKey:s,altKey:l,metaKey:i,ctrlKey:r}=o;Object.assign(n,{shiftKey:s,altKey:l,metaKey:i,ctrlKey:r})}return n}function Ms(o,...n){return typeof o=="function"?o(...n):o}function Xh(){}function Qh(...o){return o.length===0?Xh:o.length===1?o[0]:function(){let n;for(const s of o)n=s.apply(this,arguments)||n;return n}}function vc(o,n){return Object.assign({},n,o||{})}const Kh=32;class Jh{constructor(n,s,l){this.ctrl=n,this.args=s,this.key=l,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(n){this.ctrl.state[this.key]=n}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:n,shared:s,ingKey:l,args:i}=this;s[l]=n._active=n.active=n._blocked=n._force=!1,n._step=[!1,!1],n.intentional=!1,n._movement=[0,0],n._distance=[0,0],n._direction=[0,0],n._delta=[0,0],n._bounds=[[-1/0,1/0],[-1/0,1/0]],n.args=i,n.axis=void 0,n.memo=void 0,n.elapsedTime=n.timeDelta=0,n.direction=[0,0],n.distance=[0,0],n.overflow=[0,0],n._movementBound=[!1,!1],n.velocity=[0,0],n.movement=[0,0],n.delta=[0,0],n.timeStamp=0}start(n){const s=this.state,l=this.config;s._active||(this.reset(),this.computeInitial(),s._active=!0,s.target=n.target,s.currentTarget=n.currentTarget,s.lastOffset=l.from?Ms(l.from,s):s.offset,s.offset=s.lastOffset,s.startTime=s.timeStamp=n.timeStamp)}computeValues(n){const s=this.state;s._values=n,s.values=this.config.transform(n)}computeInitial(){const n=this.state;n._initial=n._values,n.initial=n.values}compute(n){const{state:s,config:l,shared:i}=this;s.args=this.args;let r=0;if(n&&(s.event=n,l.preventDefault&&n.cancelable&&s.event.preventDefault(),s.type=n.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Yh(n)),i.down=i.pressed=i.buttons%2===1||i.touches>0,r=n.timeStamp-s.timeStamp,s.timeStamp=n.timeStamp,s.elapsedTime=s.timeStamp-s.startTime),s._active){const L=s._delta.map(Math.abs);Yt.addTo(s._distance,L)}this.axisIntent&&this.axisIntent(n);const[u,c]=s._movement,[f,h]=l.threshold,{_step:d,values:m}=s;if(l.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(u)>=f&&m[0]),d[1]===!1&&(d[1]=Math.abs(c)>=h&&m[1])):(d[0]===!1&&(d[0]=Math.abs(u)>=f&&Math.sign(u)*f),d[1]===!1&&(d[1]=Math.abs(c)>=h&&Math.sign(c)*h)),s.intentional=d[0]!==!1||d[1]!==!1,!s.intentional)return;const v=[0,0];if(l.hasCustomTransform){const[L,D]=m;v[0]=d[0]!==!1?L-d[0]:0,v[1]=d[1]!==!1?D-d[1]:0}else v[0]=d[0]!==!1?u-d[0]:0,v[1]=d[1]!==!1?c-d[1]:0;this.restrictToAxis&&!s._blocked&&this.restrictToAxis(v);const x=s.offset,S=s._active&&!s._blocked||s.active;S&&(s.first=s._active&&!s.active,s.last=!s._active&&s.active,s.active=i[this.ingKey]=s._active,n&&(s.first&&("bounds"in l&&(s._bounds=Ms(l.bounds,s)),this.setup&&this.setup()),s.movement=v,this.computeOffset()));const[_,w]=s.offset,[[C,E],[T,P]]=s._bounds;s.overflow=[_<C?-1:_>E?1:0,w<T?-1:w>P?1:0],s._movementBound[0]=s.overflow[0]?s._movementBound[0]===!1?s._movement[0]:s._movementBound[0]:!1,s._movementBound[1]=s.overflow[1]?s._movementBound[1]===!1?s._movement[1]:s._movementBound[1]:!1;const M=s._active?l.rubberband||[0,0]:[0,0];if(s.offset=Ih(s._bounds,s.offset,M),s.delta=Yt.sub(s.offset,x),this.computeMovement(),S&&(!s.last||r>Kh)){s.delta=Yt.sub(s.offset,x);const L=s.delta.map(Math.abs);Yt.addTo(s.distance,L),s.direction=s.delta.map(Math.sign),s._direction=s._delta.map(Math.sign),!s.first&&r>0&&(s.velocity=[L[0]/r,L[1]/r],s.timeDelta=r)}}emit(){const n=this.state,s=this.shared,l=this.config;if(n._active||this.clean(),(n._blocked||!n.intentional)&&!n._force&&!l.triggerAllEvents)return;const i=this.handler(gt(gt(gt({},s),n),{},{[this.aliasKey]:n.values}));i!==void 0&&(n.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function qh([o,n],s){const l=Math.abs(o),i=Math.abs(n);if(l>i&&l>s)return"x";if(i>l&&i>s)return"y"}class $h extends Jh{constructor(...n){super(...n),sn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Yt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Yt.sub(this.state.offset,this.state.lastOffset)}axisIntent(n){const s=this.state,l=this.config;if(!s.axis&&n){const i=typeof l.axisThreshold=="object"?l.axisThreshold[Of(n)]:l.axisThreshold;s.axis=qh(s._movement,i)}s._blocked=(l.lockDirection||!!l.axis)&&!s.axis||!!l.axis&&l.axis!==s.axis}restrictToAxis(n){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":n[1]=0;break;case"y":n[0]=0;break}}}const ep=o=>o,yc=.15,jf={enabled(o=!0){return o},eventOptions(o,n,s){return gt(gt({},s.shared.eventOptions),o)},preventDefault(o=!1){return o},triggerAllEvents(o=!1){return o},rubberband(o=0){switch(o){case!0:return[yc,yc];case!1:return[0,0];default:return Yt.toVector(o)}},from(o){if(typeof o=="function")return o;if(o!=null)return Yt.toVector(o)},transform(o,n,s){const l=o||s.shared.transform;return this.hasCustomTransform=!!l,l||ep},threshold(o){return Yt.toVector(o,0)}},tp=0,wi=gt(gt({},jf),{},{axis(o,n,{axis:s}){if(this.lockDirection=s==="lock",!this.lockDirection)return s},axisThreshold(o=tp){return o},bounds(o={}){if(typeof o=="function")return r=>wi.bounds(o(r));if("current"in o)return()=>o.current;if(typeof HTMLElement=="function"&&o instanceof HTMLElement)return o;const{left:n=-1/0,right:s=1/0,top:l=-1/0,bottom:i=1/0}=o;return[[n,s],[l,i]]}}),xc={ArrowRight:(o,n=1)=>[o*n,0],ArrowLeft:(o,n=1)=>[-1*o*n,0],ArrowUp:(o,n=1)=>[0,-1*o*n],ArrowDown:(o,n=1)=>[0,o*n]};class np extends $h{constructor(...n){super(...n),sn(this,"ingKey","dragging")}reset(){super.reset();const n=this.state;n._pointerId=void 0,n._pointerActive=!1,n._keyboardActive=!1,n._preventScroll=!1,n._delayed=!1,n.swipe=[0,0],n.tap=!1,n.canceled=!1,n.cancel=this.cancel.bind(this)}setup(){const n=this.state;if(n._bounds instanceof HTMLElement){const s=n._bounds.getBoundingClientRect(),l=n.currentTarget.getBoundingClientRect(),i={left:s.left-l.left+n.offset[0],right:s.right-l.right+n.offset[0],top:s.top-l.top+n.offset[1],bottom:s.bottom-l.bottom+n.offset[1]};n._bounds=wi.bounds(i)}}cancel(){const n=this.state;n.canceled||(n.canceled=!0,n._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(n){const s=this.config,l=this.state;if(n.buttons!=null&&(Array.isArray(s.pointerButtons)?!s.pointerButtons.includes(n.buttons):s.pointerButtons!==-1&&s.pointerButtons!==n.buttons))return;const i=this.ctrl.setEventIds(n);s.pointerCapture&&n.target.setPointerCapture(n.pointerId),!(i&&i.size>1&&l._pointerActive)&&(this.start(n),this.setupPointer(n),l._pointerId=Wa(n),l._pointerActive=!0,this.computeValues(gc(n)),this.computeInitial(),s.preventScrollAxis&&Of(n)!=="mouse"?(l._active=!1,this.setupScrollPrevention(n)):s.delay>0?(this.setupDelayTrigger(n),s.triggerAllEvents&&(this.compute(n),this.emit())):this.startPointerDrag(n))}startPointerDrag(n){const s=this.state;s._active=!0,s._preventScroll=!0,s._delayed=!1,this.compute(n),this.emit()}pointerMove(n){const s=this.state,l=this.config;if(!s._pointerActive)return;const i=Wa(n);if(s._pointerId!==void 0&&i!==s._pointerId)return;const r=gc(n);if(document.pointerLockElement===n.target?s._delta=[n.movementX,n.movementY]:(s._delta=Yt.sub(r,s._values),this.computeValues(r)),Yt.addTo(s._movement,s._delta),this.compute(n),s._delayed&&s.intentional){this.timeoutStore.remove("dragDelay"),s.active=!1,this.startPointerDrag(n);return}if(l.preventScrollAxis&&!s._preventScroll)if(s.axis)if(s.axis===l.preventScrollAxis||l.preventScrollAxis==="xy"){s._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(n);return}else return;this.emit()}pointerUp(n){this.ctrl.setEventIds(n);try{this.config.pointerCapture&&n.target.hasPointerCapture(n.pointerId)&&n.target.releasePointerCapture(n.pointerId)}catch{}const s=this.state,l=this.config;if(!s._active||!s._pointerActive)return;const i=Wa(n);if(s._pointerId!==void 0&&i!==s._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(n);const[r,u]=s._distance;if(s.tap=r<=l.tapsThreshold&&u<=l.tapsThreshold,s.tap&&l.filterTaps)s._force=!0;else{const[c,f]=s._delta,[h,d]=s._movement,[m,v]=l.swipe.velocity,[x,S]=l.swipe.distance,_=l.swipe.duration;if(s.elapsedTime<_){const w=Math.abs(c/s.timeDelta),C=Math.abs(f/s.timeDelta);w>m&&Math.abs(h)>x&&(s.swipe[0]=Math.sign(c)),C>v&&Math.abs(d)>S&&(s.swipe[1]=Math.sign(f))}}this.emit()}pointerClick(n){!this.state.tap&&n.detail>0&&(n.preventDefault(),n.stopPropagation())}setupPointer(n){const s=this.config,l=s.device;s.pointerLock&&n.currentTarget.requestPointerLock(),s.pointerCapture||(this.eventStore.add(this.sharedConfig.window,l,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,l,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,l,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(n){this.state._preventScroll&&n.cancelable&&n.preventDefault()}setupScrollPrevention(n){this.state._preventScroll=!1,rp(n);const s=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",s),this.eventStore.add(this.sharedConfig.window,"touch","cancel",s),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,n)}setupDelayTrigger(n){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(n)},this.config.delay)}keyDown(n){const s=xc[n.key];if(s){const l=this.state,i=n.shiftKey?10:n.altKey?.1:1;this.start(n),l._delta=s(this.config.keyboardDisplacement,i),l._keyboardActive=!0,Yt.addTo(l._movement,l._delta),this.compute(n),this.emit()}}keyUp(n){n.key in xc&&(this.state._keyboardActive=!1,this.setActive(),this.compute(n),this.emit())}bind(n){const s=this.config.device;n(s,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(n(s,"change",this.pointerMove.bind(this)),n(s,"end",this.pointerUp.bind(this)),n(s,"cancel",this.pointerUp.bind(this)),n("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(n("key","down",this.keyDown.bind(this)),n("key","up",this.keyUp.bind(this))),this.config.filterTaps&&n("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function rp(o){"persist"in o&&typeof o.persist=="function"&&o.persist()}const Si=typeof window<"u"&&window.document&&window.document.createElement;function zf(){return Si&&"ontouchstart"in window}function op(){return zf()||Si&&window.navigator.maxTouchPoints>1}function ip(){return Si&&"onpointerdown"in window}function sp(){return Si&&"exitPointerLock"in window.document}function ap(){try{return"constructor"in GestureEvent}catch{return!1}}const On={isBrowser:Si,gesture:ap(),touch:zf(),touchscreen:op(),pointer:ip(),pointerLock:sp()},lp=250,up=180,cp=.5,fp=50,dp=250,hp=10,wc={mouse:0,touch:0,pen:8},pp=gt(gt({},wi),{},{device(o,n,{pointer:{touch:s=!1,lock:l=!1,mouse:i=!1}={}}){return this.pointerLock=l&&On.pointerLock,On.touch&&s?"touch":this.pointerLock?"mouse":On.pointer&&!i?"pointer":On.touch?"touch":"mouse"},preventScrollAxis(o,n,{preventScroll:s}){if(this.preventScrollDelay=typeof s=="number"?s:s||s===void 0&&o?lp:void 0,!(!On.touchscreen||s===!1))return o||(s!==void 0?"y":void 0)},pointerCapture(o,n,{pointer:{capture:s=!0,buttons:l=1,keys:i=!0}={}}){return this.pointerButtons=l,this.keys=i,!this.pointerLock&&this.device==="pointer"&&s},threshold(o,n,{filterTaps:s=!1,tapsThreshold:l=3,axis:i=void 0}){const r=Yt.toVector(o,s?l:i?1:0);return this.filterTaps=s,this.tapsThreshold=l,r},swipe({velocity:o=cp,distance:n=fp,duration:s=dp}={}){return{velocity:this.transform(Yt.toVector(o)),distance:this.transform(Yt.toVector(n)),duration:s}},delay(o=0){switch(o){case!0:return up;case!1:return 0;default:return o}},axisThreshold(o){return o?gt(gt({},wc),o):wc},keyboardDisplacement(o=hp){return o}});gt(gt({},jf),{},{device(o,n,{shared:s,pointer:{touch:l=!1}={}}){if(s.target&&!On.touch&&On.gesture)return"gesture";if(On.touch&&l)return"touch";if(On.touchscreen){if(On.pointer)return"pointer";if(On.touch)return"touch"}},bounds(o,n,{scaleBounds:s={},angleBounds:l={}}){const i=u=>{const c=vc(Ms(s,u),{min:-1/0,max:1/0});return[c.min,c.max]},r=u=>{const c=vc(Ms(l,u),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof s!="function"&&typeof l!="function"?[i(),r()]:u=>[i(u),r(u)]},threshold(o,n,s){return this.lockDirection=s.axis==="lock",Yt.toVector(o,this.lockDirection?[.1,3]:0)},modifierKey(o){return o===void 0?"ctrlKey":o},pinchOnWheel(o=!0){return o}});gt(gt({},wi),{},{mouseOnly:(o=!0)=>o});gt(gt({},wi),{},{mouseOnly:(o=!0)=>o});const Bf=new Map,tl=new Map;function mp(o){Bf.set(o.key,o.engine),tl.set(o.key,o.resolver)}const gp={key:"drag",engine:np,resolver:pp};function vp(o,n){if(o==null)return{};var s={},l=Object.keys(o),i,r;for(r=0;r<l.length;r++)i=l[r],!(n.indexOf(i)>=0)&&(s[i]=o[i]);return s}function yp(o,n){if(o==null)return{};var s=vp(o,n),l,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);for(i=0;i<r.length;i++)l=r[i],!(n.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(o,l)&&(s[l]=o[l])}return s}const xp={target(o){if(o)return()=>"current"in o?o.current:o},enabled(o=!0){return o},window(o=On.isBrowser?window:void 0){return o},eventOptions({passive:o=!0,capture:n=!1}={}){return{passive:o,capture:n}},transform(o){return o}},wp=["target","eventOptions","window","enabled","transform"];function Cs(o={},n){const s={};for(const[l,i]of Object.entries(n))switch(typeof i){case"function":s[l]=i.call(s,o[l],l,o);break;case"object":s[l]=Cs(o[l],i);break;case"boolean":i&&(s[l]=o[l]);break}return s}function Sp(o,n,s={}){const l=o,{target:i,eventOptions:r,window:u,enabled:c,transform:f}=l,h=yp(l,wp);if(s.shared=Cs({target:i,eventOptions:r,window:u,enabled:c,transform:f},xp),n){const d=tl.get(n);s[n]=Cs(gt({shared:s.shared},h),d)}else for(const d in h){const m=tl.get(d);m&&(s[d]=Cs(gt({shared:s.shared},h[d]),m))}return s}class Nf{constructor(n,s){sn(this,"_listeners",new Set),this._ctrl=n,this._gestureKey=s}add(n,s,l,i,r){const u=this._listeners,c=Gh(s,l),f=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},h=gt(gt({},f),r);n.addEventListener(c,i,h);const d=()=>{n.removeEventListener(c,i,h),u.delete(d)};return u.add(d),d}clean(){this._listeners.forEach(n=>n()),this._listeners.clear()}}class Cp{constructor(){sn(this,"_timeouts",new Map)}add(n,s,l=140,...i){this.remove(n),this._timeouts.set(n,window.setTimeout(s,l,...i))}remove(n){const s=this._timeouts.get(n);s&&window.clearTimeout(s)}clean(){this._timeouts.forEach(n=>void window.clearTimeout(n)),this._timeouts.clear()}}class _p{constructor(n){sn(this,"gestures",new Set),sn(this,"_targetEventStore",new Nf(this)),sn(this,"gestureEventStores",{}),sn(this,"gestureTimeoutStores",{}),sn(this,"handlers",{}),sn(this,"config",{}),sn(this,"pointerIds",new Set),sn(this,"touchIds",new Set),sn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Ep(this,n)}setEventIds(n){if(As(n))return this.touchIds=new Set(Zh(n)),this.touchIds;if("pointerId"in n)return n.type==="pointerup"||n.type==="pointercancel"?this.pointerIds.delete(n.pointerId):n.type==="pointerdown"&&this.pointerIds.add(n.pointerId),this.pointerIds}applyHandlers(n,s){this.handlers=n,this.nativeHandlers=s}applyConfig(n,s){this.config=Sp(n,s,this.config)}clean(){this._targetEventStore.clean();for(const n of this.gestures)this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...n){const s=this.config.shared,l={};let i;if(!(s.target&&(i=s.target(),!i))){if(s.enabled){for(const u of this.gestures){const c=this.config[u],f=Sc(l,c.eventOptions,!!i);if(c.enabled){const h=Bf.get(u);new h(this,n,u).bind(f)}}const r=Sc(l,s.eventOptions,!!i);for(const u in this.nativeHandlers)r(u,"",c=>this.nativeHandlers[u](gt(gt({},this.state.shared),{},{event:c,args:n})),void 0,!0)}for(const r in l)l[r]=Qh(...l[r]);if(!i)return l;for(const r in l){const{device:u,capture:c,passive:f}=Wh(r);this._targetEventStore.add(i,u,"",l[r],{capture:c,passive:f})}}}}function xo(o,n){o.gestures.add(n),o.gestureEventStores[n]=new Nf(o,n),o.gestureTimeoutStores[n]=new Cp}function Ep(o,n){n.drag&&xo(o,"drag"),n.wheel&&xo(o,"wheel"),n.scroll&&xo(o,"scroll"),n.move&&xo(o,"move"),n.pinch&&xo(o,"pinch"),n.hover&&xo(o,"hover")}const Sc=(o,n,s)=>(l,i,r,u={},c=!1)=>{var f,h;const d=(f=u.capture)!==null&&f!==void 0?f:n.capture,m=(h=u.passive)!==null&&h!==void 0?h:n.passive;let v=c?l:Bh(l,i,d);s&&m&&(v+="Passive"),o[v]=o[v]||[],o[v].push(r)};function kp(o,n={},s,l){const i=In.useMemo(()=>new _p(o),[]);if(i.applyHandlers(o,l),i.applyConfig(n,s),In.useEffect(i.effect.bind(i)),In.useEffect(()=>i.clean.bind(i),[]),n.target===void 0)return i.bind.bind(i)}function c2(o,n){return mp(gp),kp({drag:o},n||{},"drag")}var Tp=Object.defineProperty,bp=(o,n,s)=>n in o?Tp(o,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[n]=s,We=(o,n,s)=>(bp(o,typeof n!="symbol"?n+"":n,s),s);const ys=new a1,Cc=new l1,Pp=Math.cos(70*(Math.PI/180)),_c=(o,n)=>(o%n+n)%n;let Mp=class extends u1{constructor(n,s){super(),We(this,"object"),We(this,"domElement"),We(this,"enabled",!0),We(this,"target",new kt),We(this,"minDistance",0),We(this,"maxDistance",1/0),We(this,"minZoom",0),We(this,"maxZoom",1/0),We(this,"minPolarAngle",0),We(this,"maxPolarAngle",Math.PI),We(this,"minAzimuthAngle",-1/0),We(this,"maxAzimuthAngle",1/0),We(this,"enableDamping",!1),We(this,"dampingFactor",.05),We(this,"enableZoom",!0),We(this,"zoomSpeed",1),We(this,"enableRotate",!0),We(this,"rotateSpeed",1),We(this,"enablePan",!0),We(this,"panSpeed",1),We(this,"screenSpacePanning",!0),We(this,"keyPanSpeed",7),We(this,"zoomToCursor",!1),We(this,"autoRotate",!1),We(this,"autoRotateSpeed",2),We(this,"reverseOrbit",!1),We(this,"reverseHorizontalOrbit",!1),We(this,"reverseVerticalOrbit",!1),We(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),We(this,"mouseButtons",{LEFT:mo.ROTATE,MIDDLE:mo.DOLLY,RIGHT:mo.PAN}),We(this,"touches",{ONE:go.ROTATE,TWO:go.DOLLY_PAN}),We(this,"target0"),We(this,"position0"),We(this,"zoom0"),We(this,"_domElementKeyEvents",null),We(this,"getPolarAngle"),We(this,"getAzimuthalAngle"),We(this,"setPolarAngle"),We(this,"setAzimuthalAngle"),We(this,"getDistance"),We(this,"listenToKeyEvents"),We(this,"stopListenToKeyEvents"),We(this,"saveState"),We(this,"reset"),We(this,"update"),We(this,"connect"),We(this,"dispose"),this.object=n,this.domElement=s,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=R=>{let oe=_c(R,2*Math.PI),he=d.phi;he<0&&(he+=2*Math.PI),oe<0&&(oe+=2*Math.PI);let Be=Math.abs(oe-he);2*Math.PI-Be<Be&&(oe<he?oe+=2*Math.PI:he+=2*Math.PI),m.phi=oe-he,l.update()},this.setAzimuthalAngle=R=>{let oe=_c(R,2*Math.PI),he=d.theta;he<0&&(he+=2*Math.PI),oe<0&&(oe+=2*Math.PI);let Be=Math.abs(oe-he);2*Math.PI-Be<Be&&(oe<he?oe+=2*Math.PI:he+=2*Math.PI),m.theta=oe-he,l.update()},this.getDistance=()=>l.object.position.distanceTo(l.target),this.listenToKeyEvents=R=>{R.addEventListener("keydown",ke),this._domElementKeyEvents=R},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ke),this._domElementKeyEvents=null},this.saveState=()=>{l.target0.copy(l.target),l.position0.copy(l.object.position),l.zoom0=l.object.zoom},this.reset=()=>{l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(i),l.update(),f=c.NONE},this.update=(()=>{const R=new kt,oe=new kt(0,1,0),he=new Hu().setFromUnitVectors(n.up,oe),Be=he.clone().invert(),Ne=new kt,Me=new Hu,Xe=2*Math.PI;return function(){const $e=l.object.position;he.setFromUnitVectors(n.up,oe),Be.copy(he).invert(),R.copy($e).sub(l.target),R.applyQuaternion(he),d.setFromVector3(R),l.autoRotate&&f===c.NONE&&Y(U()),l.enableDamping?(d.theta+=m.theta*l.dampingFactor,d.phi+=m.phi*l.dampingFactor):(d.theta+=m.theta,d.phi+=m.phi);let je=l.minAzimuthAngle,et=l.maxAzimuthAngle;isFinite(je)&&isFinite(et)&&(je<-Math.PI?je+=Xe:je>Math.PI&&(je-=Xe),et<-Math.PI?et+=Xe:et>Math.PI&&(et-=Xe),je<=et?d.theta=Math.max(je,Math.min(et,d.theta)):d.theta=d.theta>(je+et)/2?Math.max(je,d.theta):Math.min(et,d.theta)),d.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,d.phi)),d.makeSafe(),l.enableDamping===!0?l.target.addScaledVector(x,l.dampingFactor):l.target.add(x),l.zoomToCursor&&V||l.object.isOrthographicCamera?d.radius=F(d.radius):d.radius=F(d.radius*v),R.setFromSpherical(d),R.applyQuaternion(Be),$e.copy(l.target).add(R),l.object.matrixAutoUpdate||l.object.updateMatrix(),l.object.lookAt(l.target),l.enableDamping===!0?(m.theta*=1-l.dampingFactor,m.phi*=1-l.dampingFactor,x.multiplyScalar(1-l.dampingFactor)):(m.set(0,0,0),x.set(0,0,0));let nt=!1;if(l.zoomToCursor&&V){let Fe=null;if(l.object instanceof hi&&l.object.isPerspectiveCamera){const tt=R.length();Fe=F(tt*v);const ht=tt-Fe;l.object.position.addScaledVector(D,ht),l.object.updateMatrixWorld()}else if(l.object.isOrthographicCamera){const tt=new kt(z.x,z.y,0);tt.unproject(l.object),l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/v)),l.object.updateProjectionMatrix(),nt=!0;const ht=new kt(z.x,z.y,0);ht.unproject(l.object),l.object.position.sub(ht).add(tt),l.object.updateMatrixWorld(),Fe=R.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),l.zoomToCursor=!1;Fe!==null&&(l.screenSpacePanning?l.target.set(0,0,-1).transformDirection(l.object.matrix).multiplyScalar(Fe).add(l.object.position):(ys.origin.copy(l.object.position),ys.direction.set(0,0,-1).transformDirection(l.object.matrix),Math.abs(l.object.up.dot(ys.direction))<Pp?n.lookAt(l.target):(Cc.setFromNormalAndCoplanarPoint(l.object.up,l.target),ys.intersectPlane(Cc,l.target))))}else l.object instanceof ko&&l.object.isOrthographicCamera&&(nt=v!==1,nt&&(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/v)),l.object.updateProjectionMatrix()));return v=1,V=!1,nt||Ne.distanceToSquared(l.object.position)>h||8*(1-Me.dot(l.object.quaternion))>h?(l.dispatchEvent(i),Ne.copy(l.object.position),Me.copy(l.object.quaternion),nt=!1,!0):!1}})(),this.connect=R=>{l.domElement=R,l.domElement.style.touchAction="none",l.domElement.addEventListener("contextmenu",Ge),l.domElement.addEventListener("pointerdown",re),l.domElement.addEventListener("pointercancel",me),l.domElement.addEventListener("wheel",qe)},this.dispose=()=>{var R,oe,he,Be,Ne,Me;l.domElement&&(l.domElement.style.touchAction="auto"),(R=l.domElement)==null||R.removeEventListener("contextmenu",Ge),(oe=l.domElement)==null||oe.removeEventListener("pointerdown",re),(he=l.domElement)==null||he.removeEventListener("pointercancel",me),(Be=l.domElement)==null||Be.removeEventListener("wheel",qe),(Ne=l.domElement)==null||Ne.ownerDocument.removeEventListener("pointermove",ze),(Me=l.domElement)==null||Me.ownerDocument.removeEventListener("pointerup",me),l._domElementKeyEvents!==null&&l._domElementKeyEvents.removeEventListener("keydown",ke)};const l=this,i={type:"change"},r={type:"start"},u={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let f=c.NONE;const h=1e-6,d=new Vu,m=new Vu;let v=1;const x=new kt,S=new Gt,_=new Gt,w=new Gt,C=new Gt,E=new Gt,T=new Gt,P=new Gt,M=new Gt,L=new Gt,D=new kt,z=new Gt;let V=!1;const I=[],K={};function U(){return 2*Math.PI/60/60*l.autoRotateSpeed}function Q(){return Math.pow(.95,l.zoomSpeed)}function Y(R){l.reverseOrbit||l.reverseHorizontalOrbit?m.theta+=R:m.theta-=R}function ae(R){l.reverseOrbit||l.reverseVerticalOrbit?m.phi+=R:m.phi-=R}const te=(()=>{const R=new kt;return function(he,Be){R.setFromMatrixColumn(Be,0),R.multiplyScalar(-he),x.add(R)}})(),fe=(()=>{const R=new kt;return function(he,Be){l.screenSpacePanning===!0?R.setFromMatrixColumn(Be,1):(R.setFromMatrixColumn(Be,0),R.crossVectors(l.object.up,R)),R.multiplyScalar(he),x.add(R)}})(),X=(()=>{const R=new kt;return function(he,Be){const Ne=l.domElement;if(Ne&&l.object instanceof hi&&l.object.isPerspectiveCamera){const Me=l.object.position;R.copy(Me).sub(l.target);let Xe=R.length();Xe*=Math.tan(l.object.fov/2*Math.PI/180),te(2*he*Xe/Ne.clientHeight,l.object.matrix),fe(2*Be*Xe/Ne.clientHeight,l.object.matrix)}else Ne&&l.object instanceof ko&&l.object.isOrthographicCamera?(te(he*(l.object.right-l.object.left)/l.object.zoom/Ne.clientWidth,l.object.matrix),fe(Be*(l.object.top-l.object.bottom)/l.object.zoom/Ne.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}})();function G(R){l.object instanceof hi&&l.object.isPerspectiveCamera||l.object instanceof ko&&l.object.isOrthographicCamera?v/=R:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function B(R){l.object instanceof hi&&l.object.isPerspectiveCamera||l.object instanceof ko&&l.object.isOrthographicCamera?v*=R:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function b(R){if(!l.zoomToCursor||!l.domElement)return;V=!0;const oe=l.domElement.getBoundingClientRect(),he=R.clientX-oe.left,Be=R.clientY-oe.top,Ne=oe.width,Me=oe.height;z.x=he/Ne*2-1,z.y=-(Be/Me)*2+1,D.set(z.x,z.y,1).unproject(l.object).sub(l.object.position).normalize()}function F(R){return Math.max(l.minDistance,Math.min(l.maxDistance,R))}function W(R){S.set(R.clientX,R.clientY)}function J(R){b(R),P.set(R.clientX,R.clientY)}function Z(R){C.set(R.clientX,R.clientY)}function ne(R){_.set(R.clientX,R.clientY),w.subVectors(_,S).multiplyScalar(l.rotateSpeed);const oe=l.domElement;oe&&(Y(2*Math.PI*w.x/oe.clientHeight),ae(2*Math.PI*w.y/oe.clientHeight)),S.copy(_),l.update()}function ee(R){M.set(R.clientX,R.clientY),L.subVectors(M,P),L.y>0?G(Q()):L.y<0&&B(Q()),P.copy(M),l.update()}function ie(R){E.set(R.clientX,R.clientY),T.subVectors(E,C).multiplyScalar(l.panSpeed),X(T.x,T.y),C.copy(E),l.update()}function de(R){b(R),R.deltaY<0?B(Q()):R.deltaY>0&&G(Q()),l.update()}function we(R){let oe=!1;switch(R.code){case l.keys.UP:X(0,l.keyPanSpeed),oe=!0;break;case l.keys.BOTTOM:X(0,-l.keyPanSpeed),oe=!0;break;case l.keys.LEFT:X(l.keyPanSpeed,0),oe=!0;break;case l.keys.RIGHT:X(-l.keyPanSpeed,0),oe=!0;break}oe&&(R.preventDefault(),l.update())}function le(){if(I.length==1)S.set(I[0].pageX,I[0].pageY);else{const R=.5*(I[0].pageX+I[1].pageX),oe=.5*(I[0].pageY+I[1].pageY);S.set(R,oe)}}function se(){if(I.length==1)C.set(I[0].pageX,I[0].pageY);else{const R=.5*(I[0].pageX+I[1].pageX),oe=.5*(I[0].pageY+I[1].pageY);C.set(R,oe)}}function Re(){const R=I[0].pageX-I[1].pageX,oe=I[0].pageY-I[1].pageY,he=Math.sqrt(R*R+oe*oe);P.set(0,he)}function Ie(){l.enableZoom&&Re(),l.enablePan&&se()}function ye(){l.enableZoom&&Re(),l.enableRotate&&le()}function Ee(R){if(I.length==1)_.set(R.pageX,R.pageY);else{const he=He(R),Be=.5*(R.pageX+he.x),Ne=.5*(R.pageY+he.y);_.set(Be,Ne)}w.subVectors(_,S).multiplyScalar(l.rotateSpeed);const oe=l.domElement;oe&&(Y(2*Math.PI*w.x/oe.clientHeight),ae(2*Math.PI*w.y/oe.clientHeight)),S.copy(_)}function Ue(R){if(I.length==1)E.set(R.pageX,R.pageY);else{const oe=He(R),he=.5*(R.pageX+oe.x),Be=.5*(R.pageY+oe.y);E.set(he,Be)}T.subVectors(E,C).multiplyScalar(l.panSpeed),X(T.x,T.y),C.copy(E)}function ue(R){const oe=He(R),he=R.pageX-oe.x,Be=R.pageY-oe.y,Ne=Math.sqrt(he*he+Be*Be);M.set(0,Ne),L.set(0,Math.pow(M.y/P.y,l.zoomSpeed)),G(L.y),P.copy(M)}function Te(R){l.enableZoom&&ue(R),l.enablePan&&Ue(R)}function xe(R){l.enableZoom&&ue(R),l.enableRotate&&Ee(R)}function re(R){var oe,he;l.enabled!==!1&&(I.length===0&&((oe=l.domElement)==null||oe.ownerDocument.addEventListener("pointermove",ze),(he=l.domElement)==null||he.ownerDocument.addEventListener("pointerup",me)),it(R),R.pointerType==="touch"?be(R):_e(R))}function ze(R){l.enabled!==!1&&(R.pointerType==="touch"?De(R):ge(R))}function me(R){var oe,he,Be;ut(R),I.length===0&&((oe=l.domElement)==null||oe.releasePointerCapture(R.pointerId),(he=l.domElement)==null||he.ownerDocument.removeEventListener("pointermove",ze),(Be=l.domElement)==null||Be.ownerDocument.removeEventListener("pointerup",me)),l.dispatchEvent(u),f=c.NONE}function _e(R){let oe;switch(R.button){case 0:oe=l.mouseButtons.LEFT;break;case 1:oe=l.mouseButtons.MIDDLE;break;case 2:oe=l.mouseButtons.RIGHT;break;default:oe=-1}switch(oe){case mo.DOLLY:if(l.enableZoom===!1)return;J(R),f=c.DOLLY;break;case mo.ROTATE:if(R.ctrlKey||R.metaKey||R.shiftKey){if(l.enablePan===!1)return;Z(R),f=c.PAN}else{if(l.enableRotate===!1)return;W(R),f=c.ROTATE}break;case mo.PAN:if(R.ctrlKey||R.metaKey||R.shiftKey){if(l.enableRotate===!1)return;W(R),f=c.ROTATE}else{if(l.enablePan===!1)return;Z(R),f=c.PAN}break;default:f=c.NONE}f!==c.NONE&&l.dispatchEvent(r)}function ge(R){if(l.enabled!==!1)switch(f){case c.ROTATE:if(l.enableRotate===!1)return;ne(R);break;case c.DOLLY:if(l.enableZoom===!1)return;ee(R);break;case c.PAN:if(l.enablePan===!1)return;ie(R);break}}function qe(R){l.enabled===!1||l.enableZoom===!1||f!==c.NONE&&f!==c.ROTATE||(R.preventDefault(),l.dispatchEvent(r),de(R),l.dispatchEvent(u))}function ke(R){l.enabled===!1||l.enablePan===!1||we(R)}function be(R){switch(Ye(R),I.length){case 1:switch(l.touches.ONE){case go.ROTATE:if(l.enableRotate===!1)return;le(),f=c.TOUCH_ROTATE;break;case go.PAN:if(l.enablePan===!1)return;se(),f=c.TOUCH_PAN;break;default:f=c.NONE}break;case 2:switch(l.touches.TWO){case go.DOLLY_PAN:if(l.enableZoom===!1&&l.enablePan===!1)return;Ie(),f=c.TOUCH_DOLLY_PAN;break;case go.DOLLY_ROTATE:if(l.enableZoom===!1&&l.enableRotate===!1)return;ye(),f=c.TOUCH_DOLLY_ROTATE;break;default:f=c.NONE}break;default:f=c.NONE}f!==c.NONE&&l.dispatchEvent(r)}function De(R){switch(Ye(R),f){case c.TOUCH_ROTATE:if(l.enableRotate===!1)return;Ee(R),l.update();break;case c.TOUCH_PAN:if(l.enablePan===!1)return;Ue(R),l.update();break;case c.TOUCH_DOLLY_PAN:if(l.enableZoom===!1&&l.enablePan===!1)return;Te(R),l.update();break;case c.TOUCH_DOLLY_ROTATE:if(l.enableZoom===!1&&l.enableRotate===!1)return;xe(R),l.update();break;default:f=c.NONE}}function Ge(R){l.enabled!==!1&&R.preventDefault()}function it(R){I.push(R)}function ut(R){delete K[R.pointerId];for(let oe=0;oe<I.length;oe++)if(I[oe].pointerId==R.pointerId){I.splice(oe,1);return}}function Ye(R){let oe=K[R.pointerId];oe===void 0&&(oe=new Gt,K[R.pointerId]=oe),oe.set(R.pageX,R.pageY)}function He(R){const oe=R.pointerId===I[0].pointerId?I[1]:I[0];return K[oe.pointerId]}s!==void 0&&this.connect(s),this.update()}};var Lp=Object.defineProperty,Rp=(o,n,s)=>n in o?Lp(o,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[n]=s,Ga=(o,n,s)=>(Rp(o,typeof n!="symbol"?n+"":n,s),s);class d2{constructor(n){Ga(this,"camera",new ko(-1,1,1,-1,0,1)),Ga(this,"geometry",new Rs(2,2)),Ga(this,"mesh"),this.mesh=new yi(this.geometry,n)}get material(){return this.mesh.material}set material(n){this.mesh.material=n}dispose(){this.mesh.geometry.dispose()}render(n){n.render(this.mesh,this.camera)}}const h2={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)};function Up(){var o=Object.create(null);function n(i,r){var u=i.id,c=i.name,f=i.dependencies;f===void 0&&(f=[]);var h=i.init;h===void 0&&(h=function(){});var d=i.getTransferables;if(d===void 0&&(d=null),!o[u])try{f=f.map(function(v){return v&&v.isWorkerModule&&(n(v,function(x){if(x instanceof Error)throw x}),v=o[v.id].value),v}),h=l("<"+c+">.init",h),d&&(d=l("<"+c+">.getTransferables",d));var m=null;typeof h=="function"?m=h.apply(void 0,f):console.error("worker module init function failed to rehydrate"),o[u]={id:u,value:m,getTransferables:d},r(m)}catch(v){v&&v.noLog||console.error(v),r(v)}}function s(i,r){var u,c=i.id,f=i.args;(!o[c]||typeof o[c].value!="function")&&r(new Error("Worker module "+c+": not found or its 'init' did not return a function"));try{var h=(u=o[c]).value.apply(u,f);h&&typeof h.then=="function"?h.then(d,function(m){return r(m instanceof Error?m:new Error(""+m))}):d(h)}catch(m){r(m)}function d(m){try{var v=o[c].getTransferables&&o[c].getTransferables(m);(!v||!Array.isArray(v)||!v.length)&&(v=void 0),r(m,v)}catch(x){console.error(x),r(x)}}}function l(i,r){var u=void 0;self.troikaDefine=function(f){return u=f};var c=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+r+`
)`],{type:"application/javascript"}));try{importScripts(c)}catch(f){console.error(f)}return URL.revokeObjectURL(c),delete self.troikaDefine,u}self.addEventListener("message",function(i){var r=i.data,u=r.messageId,c=r.action,f=r.data;try{c==="registerModule"&&n(f,function(h){h instanceof Error?postMessage({messageId:u,success:!1,error:h.message}):postMessage({messageId:u,success:!0,result:{isCallable:typeof h=="function"}})}),c==="callModule"&&s(f,function(h,d){h instanceof Error?postMessage({messageId:u,success:!1,error:h.message}):postMessage({messageId:u,success:!0,result:h},d||void 0)})}catch(h){postMessage({messageId:u,success:!1,error:h.stack})}})}function Ap(o){var n=function(){for(var s=[],l=arguments.length;l--;)s[l]=arguments[l];return n._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,s);throw new Error("Worker module function was called but `init` did not return a callable function")})};return n._getInitResult=function(){var s=o.dependencies,l=o.init;s=Array.isArray(s)?s.map(function(r){return r&&r._getInitResult?r._getInitResult():r}):[];var i=Promise.all(s).then(function(r){return l.apply(null,r)});return n._getInitResult=function(){return i},i},n}var Wf=function(){var o=!1;if(typeof window<"u"&&typeof window.document<"u")try{var n=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));n.terminate(),o=!0}catch(s){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+s.message+"]")}return Wf=function(){return o},o},Dp=0,Ip=0,Ha=!1,mi=Object.create(null),gi=Object.create(null),nl=Object.create(null);function Ro(o){if((!o||typeof o.init!="function")&&!Ha)throw new Error("requires `options.init` function");var n=o.dependencies,s=o.init,l=o.getTransferables,i=o.workerId;if(!Wf())return Ap(o);i==null&&(i="#default");var r="workerModule"+ ++Dp,u=o.name||r,c=null;n=n&&n.map(function(h){return typeof h=="function"&&!h.workerModuleData&&(Ha=!0,h=Ro({workerId:i,name:"<"+u+"> function dependency: "+h.name,init:`function(){return (
`+_s(h)+`
)}`}),Ha=!1),h&&h.workerModuleData&&(h=h.workerModuleData),h});function f(){for(var h=[],d=arguments.length;d--;)h[d]=arguments[d];if(!c){c=Ec(i,"registerModule",f.workerModuleData);var m=function(){c=null,gi[i].delete(m)};(gi[i]||(gi[i]=new Set)).add(m)}return c.then(function(v){var x=v.isCallable;if(x)return Ec(i,"callModule",{id:r,args:h});throw new Error("Worker module function was called but `init` did not return a callable function")})}return f.workerModuleData={isWorkerModule:!0,id:r,name:u,dependencies:n,init:_s(s),getTransferables:l&&_s(l)},f}function Op(o){gi[o]&&gi[o].forEach(function(n){n()}),mi[o]&&(mi[o].terminate(),delete mi[o])}function _s(o){var n=o.toString();return!/^function/.test(n)&&/^\w+\s*\(/.test(n)&&(n="function "+n),n}function Fp(o){var n=mi[o];if(!n){var s=_s(Up);n=mi[o]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+o.replace(/\*/g,"")+` **/

;(`+s+")()"],{type:"application/javascript"}))),n.onmessage=function(l){var i=l.data,r=i.messageId,u=nl[r];if(!u)throw new Error("WorkerModule response with empty or unknown messageId");delete nl[r],u(i)}}return n}function Ec(o,n,s){return new Promise(function(l,i){var r=++Ip;nl[r]=function(u){u.success?l(u.result):i(new Error("Error in worker "+n+" call: "+u.error))},Fp(o).postMessage({messageId:r,action:n,data:s})})}function Gf(){var o=function(n){function s(G,B,b,F,W,J,Z,ne){var ee=1-Z;ne.x=ee*ee*G+2*ee*Z*b+Z*Z*W,ne.y=ee*ee*B+2*ee*Z*F+Z*Z*J}function l(G,B,b,F,W,J,Z,ne,ee,ie){var de=1-ee;ie.x=de*de*de*G+3*de*de*ee*b+3*de*ee*ee*W+ee*ee*ee*Z,ie.y=de*de*de*B+3*de*de*ee*F+3*de*ee*ee*J+ee*ee*ee*ne}function i(G,B){for(var b=/([MLQCZ])([^MLQCZ]*)/g,F,W,J,Z,ne;F=b.exec(G);){var ee=F[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ie){return parseFloat(ie)});switch(F[1]){case"M":Z=W=ee[0],ne=J=ee[1];break;case"L":(ee[0]!==Z||ee[1]!==ne)&&B("L",Z,ne,Z=ee[0],ne=ee[1]);break;case"Q":{B("Q",Z,ne,Z=ee[2],ne=ee[3],ee[0],ee[1]);break}case"C":{B("C",Z,ne,Z=ee[4],ne=ee[5],ee[0],ee[1],ee[2],ee[3]);break}case"Z":(Z!==W||ne!==J)&&B("L",Z,ne,W,J);break}}}function r(G,B,b){b===void 0&&(b=16);var F={x:0,y:0};i(G,function(W,J,Z,ne,ee,ie,de,we,le){switch(W){case"L":B(J,Z,ne,ee);break;case"Q":{for(var se=J,Re=Z,Ie=1;Ie<b;Ie++)s(J,Z,ie,de,ne,ee,Ie/(b-1),F),B(se,Re,F.x,F.y),se=F.x,Re=F.y;break}case"C":{for(var ye=J,Ee=Z,Ue=1;Ue<b;Ue++)l(J,Z,ie,de,we,le,ne,ee,Ue/(b-1),F),B(ye,Ee,F.x,F.y),ye=F.x,Ee=F.y;break}}})}var u="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",c="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",f=new WeakMap,h={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function d(G,B){var b=G.getContext?G.getContext("webgl",h):G,F=f.get(b);if(!F){let de=function(ye){var Ee=J[ye];if(!Ee&&(Ee=J[ye]=b.getExtension(ye),!Ee))throw new Error(ye+" not supported");return Ee},we=function(ye,Ee){var Ue=b.createShader(Ee);return b.shaderSource(Ue,ye),b.compileShader(Ue),Ue},le=function(ye,Ee,Ue,ue){if(!Z[ye]){var Te={},xe={},re=b.createProgram();b.attachShader(re,we(Ee,b.VERTEX_SHADER)),b.attachShader(re,we(Ue,b.FRAGMENT_SHADER)),b.linkProgram(re),Z[ye]={program:re,transaction:function(me){b.useProgram(re),me({setUniform:function(ge,qe){for(var ke=[],be=arguments.length-2;be-- >0;)ke[be]=arguments[be+2];var De=xe[qe]||(xe[qe]=b.getUniformLocation(re,qe));b["uniform"+ge].apply(b,[De].concat(ke))},setAttribute:function(ge,qe,ke,be,De){var Ge=Te[ge];Ge||(Ge=Te[ge]={buf:b.createBuffer(),loc:b.getAttribLocation(re,ge),data:null}),b.bindBuffer(b.ARRAY_BUFFER,Ge.buf),b.vertexAttribPointer(Ge.loc,qe,b.FLOAT,!1,0,0),b.enableVertexAttribArray(Ge.loc),W?b.vertexAttribDivisor(Ge.loc,be):de("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ge.loc,be),De!==Ge.data&&(b.bufferData(b.ARRAY_BUFFER,De,ke),Ge.data=De)}})}}}Z[ye].transaction(ue)},se=function(ye,Ee){ee++;try{b.activeTexture(b.TEXTURE0+ee);var Ue=ne[ye];Ue||(Ue=ne[ye]=b.createTexture(),b.bindTexture(b.TEXTURE_2D,Ue),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST)),b.bindTexture(b.TEXTURE_2D,Ue),Ee(Ue,ee)}finally{ee--}},Re=function(ye,Ee,Ue){var ue=b.createFramebuffer();ie.push(ue),b.bindFramebuffer(b.FRAMEBUFFER,ue),b.activeTexture(b.TEXTURE0+Ee),b.bindTexture(b.TEXTURE_2D,ye),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,ye,0);try{Ue(ue)}finally{b.deleteFramebuffer(ue),b.bindFramebuffer(b.FRAMEBUFFER,ie[--ie.length-1]||null)}},Ie=function(){J={},Z={},ne={},ee=-1,ie.length=0};var W=typeof WebGL2RenderingContext<"u"&&b instanceof WebGL2RenderingContext,J={},Z={},ne={},ee=-1,ie=[];b.canvas.addEventListener("webglcontextlost",function(ye){Ie(),ye.preventDefault()},!1),f.set(b,F={gl:b,isWebGL2:W,getExtension:de,withProgram:le,withTexture:se,withTextureFramebuffer:Re,handleContextLoss:Ie})}B(F)}function m(G,B,b,F,W,J,Z,ne){Z===void 0&&(Z=15),ne===void 0&&(ne=null),d(G,function(ee){var ie=ee.gl,de=ee.withProgram,we=ee.withTexture;we("copy",function(le,se){ie.texImage2D(ie.TEXTURE_2D,0,ie.RGBA,W,J,0,ie.RGBA,ie.UNSIGNED_BYTE,B),de("copy",u,c,function(Re){var Ie=Re.setUniform,ye=Re.setAttribute;ye("aUV",2,ie.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ie("1i","image",se),ie.bindFramebuffer(ie.FRAMEBUFFER,ne||null),ie.disable(ie.BLEND),ie.colorMask(Z&8,Z&4,Z&2,Z&1),ie.viewport(b,F,W,J),ie.scissor(b,F,W,J),ie.drawArrays(ie.TRIANGLES,0,3)})})})}function v(G,B,b){var F=G.width,W=G.height;d(G,function(J){var Z=J.gl,ne=new Uint8Array(F*W*4);Z.readPixels(0,0,F,W,Z.RGBA,Z.UNSIGNED_BYTE,ne),G.width=B,G.height=b,m(Z,ne,0,0,F,W)})}var x=Object.freeze({__proto__:null,withWebGLContext:d,renderImageData:m,resizeWebGLCanvasWithoutClearing:v});function S(G,B,b,F,W,J){J===void 0&&(J=1);var Z=new Uint8Array(G*B),ne=F[2]-F[0],ee=F[3]-F[1],ie=[];r(b,function(ye,Ee,Ue,ue){ie.push({x1:ye,y1:Ee,x2:Ue,y2:ue,minX:Math.min(ye,Ue),minY:Math.min(Ee,ue),maxX:Math.max(ye,Ue),maxY:Math.max(Ee,ue)})}),ie.sort(function(ye,Ee){return ye.maxX-Ee.maxX});for(var de=0;de<G;de++)for(var we=0;we<B;we++){var le=Re(F[0]+ne*(de+.5)/G,F[1]+ee*(we+.5)/B),se=Math.pow(1-Math.abs(le)/W,J)/2;le<0&&(se=1-se),se=Math.max(0,Math.min(255,Math.round(se*255))),Z[we*G+de]=se}return Z;function Re(ye,Ee){for(var Ue=1/0,ue=1/0,Te=ie.length;Te--;){var xe=ie[Te];if(xe.maxX+ue<=ye)break;if(ye+ue>xe.minX&&Ee-ue<xe.maxY&&Ee+ue>xe.minY){var re=C(ye,Ee,xe.x1,xe.y1,xe.x2,xe.y2);re<Ue&&(Ue=re,ue=Math.sqrt(Ue))}}return Ie(ye,Ee)&&(ue=-ue),ue}function Ie(ye,Ee){for(var Ue=0,ue=ie.length;ue--;){var Te=ie[ue];if(Te.maxX<=ye)break;var xe=Te.y1>Ee!=Te.y2>Ee&&ye<(Te.x2-Te.x1)*(Ee-Te.y1)/(Te.y2-Te.y1)+Te.x1;xe&&(Ue+=Te.y1<Te.y2?1:-1)}return Ue!==0}}function _(G,B,b,F,W,J,Z,ne,ee,ie){J===void 0&&(J=1),ne===void 0&&(ne=0),ee===void 0&&(ee=0),ie===void 0&&(ie=0),w(G,B,b,F,W,J,Z,null,ne,ee,ie)}function w(G,B,b,F,W,J,Z,ne,ee,ie,de){J===void 0&&(J=1),ee===void 0&&(ee=0),ie===void 0&&(ie=0),de===void 0&&(de=0);for(var we=S(G,B,b,F,W,J),le=new Uint8Array(we.length*4),se=0;se<we.length;se++)le[se*4+de]=we[se];m(Z,le,ee,ie,G,B,1<<3-de,ne)}function C(G,B,b,F,W,J){var Z=W-b,ne=J-F,ee=Z*Z+ne*ne,ie=ee?Math.max(0,Math.min(1,((G-b)*Z+(B-F)*ne)/ee)):0,de=G-(b+ie*Z),we=B-(F+ie*ne);return de*de+we*we}var E=Object.freeze({__proto__:null,generate:S,generateIntoCanvas:_,generateIntoFramebuffer:w}),T="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",P="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",M="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",L=new Float32Array([0,0,2,0,0,2]),D=null,z=!1,V={},I=new WeakMap;function K(G){if(!z&&!ae(G))throw new Error("WebGL generation not supported")}function U(G,B,b,F,W,J,Z){if(J===void 0&&(J=1),Z===void 0&&(Z=null),!Z&&(Z=D,!Z)){var ne=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ne)throw new Error("OffscreenCanvas or DOM canvas not supported");Z=D=ne.getContext("webgl",{depth:!1})}K(Z);var ee=new Uint8Array(G*B*4);d(Z,function(le){var se=le.gl,Re=le.withTexture,Ie=le.withTextureFramebuffer;Re("readable",function(ye,Ee){se.texImage2D(se.TEXTURE_2D,0,se.RGBA,G,B,0,se.RGBA,se.UNSIGNED_BYTE,null),Ie(ye,Ee,function(Ue){Y(G,B,b,F,W,J,se,Ue,0,0,0),se.readPixels(0,0,G,B,se.RGBA,se.UNSIGNED_BYTE,ee)})})});for(var ie=new Uint8Array(G*B),de=0,we=0;de<ee.length;de+=4)ie[we++]=ee[de];return ie}function Q(G,B,b,F,W,J,Z,ne,ee,ie){J===void 0&&(J=1),ne===void 0&&(ne=0),ee===void 0&&(ee=0),ie===void 0&&(ie=0),Y(G,B,b,F,W,J,Z,null,ne,ee,ie)}function Y(G,B,b,F,W,J,Z,ne,ee,ie,de){J===void 0&&(J=1),ee===void 0&&(ee=0),ie===void 0&&(ie=0),de===void 0&&(de=0),K(Z);var we=[];r(b,function(le,se,Re,Ie){we.push(le,se,Re,Ie)}),we=new Float32Array(we),d(Z,function(le){var se=le.gl,Re=le.isWebGL2,Ie=le.getExtension,ye=le.withProgram,Ee=le.withTexture,Ue=le.withTextureFramebuffer,ue=le.handleContextLoss;if(Ee("rawDistances",function(Te,xe){(G!==Te._lastWidth||B!==Te._lastHeight)&&se.texImage2D(se.TEXTURE_2D,0,se.RGBA,Te._lastWidth=G,Te._lastHeight=B,0,se.RGBA,se.UNSIGNED_BYTE,null),ye("main",T,P,function(re){var ze=re.setAttribute,me=re.setUniform,_e=!Re&&Ie("ANGLE_instanced_arrays"),ge=!Re&&Ie("EXT_blend_minmax");ze("aUV",2,se.STATIC_DRAW,0,L),ze("aLineSegment",4,se.DYNAMIC_DRAW,1,we),me.apply(void 0,["4f","uGlyphBounds"].concat(F)),me("1f","uMaxDistance",W),me("1f","uExponent",J),Ue(Te,xe,function(qe){se.enable(se.BLEND),se.colorMask(!0,!0,!0,!0),se.viewport(0,0,G,B),se.scissor(0,0,G,B),se.blendFunc(se.ONE,se.ONE),se.blendEquationSeparate(se.FUNC_ADD,Re?se.MAX:ge.MAX_EXT),se.clear(se.COLOR_BUFFER_BIT),Re?se.drawArraysInstanced(se.TRIANGLES,0,3,we.length/4):_e.drawArraysInstancedANGLE(se.TRIANGLES,0,3,we.length/4)})}),ye("post",u,M,function(re){re.setAttribute("aUV",2,se.STATIC_DRAW,0,L),re.setUniform("1i","tex",xe),se.bindFramebuffer(se.FRAMEBUFFER,ne),se.disable(se.BLEND),se.colorMask(de===0,de===1,de===2,de===3),se.viewport(ee,ie,G,B),se.scissor(ee,ie,G,B),se.drawArrays(se.TRIANGLES,0,3)})}),se.isContextLost())throw ue(),new Error("webgl context lost")})}function ae(G){var B=!G||G===D?V:G.canvas||G,b=I.get(B);if(b===void 0){z=!0;var F=null;try{var W=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],J=U(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,G);b=J&&W.length===J.length&&J.every(function(Z,ne){return Z===W[ne]}),b||(F="bad trial run results",console.info(W,J))}catch(Z){b=!1,F=Z.message}F&&console.warn("WebGL SDF generation not supported:",F),z=!1,I.set(B,b)}return b}var te=Object.freeze({__proto__:null,generate:U,generateIntoCanvas:Q,generateIntoFramebuffer:Y,isSupported:ae});function fe(G,B,b,F,W,J){W===void 0&&(W=Math.max(F[2]-F[0],F[3]-F[1])/2),J===void 0&&(J=1);try{return U.apply(te,arguments)}catch(Z){return console.info("WebGL SDF generation failed, falling back to JS",Z),S.apply(E,arguments)}}function X(G,B,b,F,W,J,Z,ne,ee,ie){W===void 0&&(W=Math.max(F[2]-F[0],F[3]-F[1])/2),J===void 0&&(J=1),ne===void 0&&(ne=0),ee===void 0&&(ee=0),ie===void 0&&(ie=0);try{return Q.apply(te,arguments)}catch(de){return console.info("WebGL SDF generation failed, falling back to JS",de),_.apply(E,arguments)}}return n.forEachPathCommand=i,n.generate=fe,n.generateIntoCanvas=X,n.javascript=E,n.pathToLineSegments=r,n.webgl=te,n.webglUtils=x,Object.defineProperty(n,"__esModule",{value:!0}),n}({});return o}function jp(){var o=function(n){var s={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},l={},i={};l.L=1,i[1]="L",Object.keys(s).forEach(function(ue,Te){l[ue]=1<<Te+1,i[l[ue]]=ue}),Object.freeze(l);var r=l.LRI|l.RLI|l.FSI,u=l.L|l.R|l.AL,c=l.B|l.S|l.WS|l.ON|l.FSI|l.LRI|l.RLI|l.PDI,f=l.BN|l.RLE|l.LRE|l.RLO|l.LRO|l.PDF,h=l.S|l.WS|l.B|r|l.PDI|f,d=null;function m(){if(!d){d=new Map;var ue=function(xe){if(s.hasOwnProperty(xe)){var re=0;s[xe].split(",").forEach(function(ze){var me=ze.split("+"),_e=me[0],ge=me[1];_e=parseInt(_e,36),ge=ge?parseInt(ge,36):0,d.set(re+=_e,l[xe]);for(var qe=0;qe<ge;qe++)d.set(++re,l[xe])})}};for(var Te in s)ue(Te)}}function v(ue){return m(),d.get(ue.codePointAt(0))||l.L}function x(ue){return i[v(ue)]}var S={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function _(ue,Te){var xe=36,re=0,ze=new Map,me=Te&&new Map,_e;return ue.split(",").forEach(function ge(qe){if(qe.indexOf("+")!==-1)for(var ke=+qe;ke--;)ge(_e);else{_e=qe;var be=qe.split(">"),De=be[0],Ge=be[1];De=String.fromCodePoint(re+=parseInt(De,xe)),Ge=String.fromCodePoint(re+=parseInt(Ge,xe)),ze.set(De,Ge),Te&&me.set(Ge,De)}}),{map:ze,reverseMap:me}}var w,C,E;function T(){if(!w){var ue=_(S.pairs,!0),Te=ue.map,xe=ue.reverseMap;w=Te,C=xe,E=_(S.canonical,!1).map}}function P(ue){return T(),w.get(ue)||null}function M(ue){return T(),C.get(ue)||null}function L(ue){return T(),E.get(ue)||null}var D=l.L,z=l.R,V=l.EN,I=l.ES,K=l.ET,U=l.AN,Q=l.CS,Y=l.B,ae=l.S,te=l.ON,fe=l.BN,X=l.NSM,G=l.AL,B=l.LRO,b=l.RLO,F=l.LRE,W=l.RLE,J=l.PDF,Z=l.LRI,ne=l.RLI,ee=l.FSI,ie=l.PDI;function de(ue,Te){for(var xe=125,re=new Uint32Array(ue.length),ze=0;ze<ue.length;ze++)re[ze]=v(ue[ze]);var me=new Map;function _e(At,Jt){var xt=re[At];re[At]=Jt,me.set(xt,me.get(xt)-1),xt&c&&me.set(c,me.get(c)-1),me.set(Jt,(me.get(Jt)||0)+1),Jt&c&&me.set(c,(me.get(c)||0)+1)}for(var ge=new Uint8Array(ue.length),qe=new Map,ke=[],be=null,De=0;De<ue.length;De++)be||ke.push(be={start:De,end:ue.length-1,level:Te==="rtl"?1:Te==="ltr"?0:ro(De,!1)}),re[De]&Y&&(be.end=De,be=null);for(var Ge=W|F|b|B|r|ie|J|Y,it=function(At){return At+(At&1?1:2)},ut=function(At){return At+(At&1?2:1)},Ye=0;Ye<ke.length;Ye++){be=ke[Ye];var He=[{_level:be.level,_override:0,_isolate:0}],R=void 0,oe=0,he=0,Be=0;me.clear();for(var Ne=be.start;Ne<=be.end;Ne++){var Me=re[Ne];if(R=He[He.length-1],me.set(Me,(me.get(Me)||0)+1),Me&c&&me.set(c,(me.get(c)||0)+1),Me&Ge)if(Me&(W|F)){ge[Ne]=R._level;var Xe=(Me===W?ut:it)(R._level);Xe<=xe&&!oe&&!he?He.push({_level:Xe,_override:0,_isolate:0}):oe||he++}else if(Me&(b|B)){ge[Ne]=R._level;var zn=(Me===b?ut:it)(R._level);zn<=xe&&!oe&&!he?He.push({_level:zn,_override:Me&b?z:D,_isolate:0}):oe||he++}else if(Me&r){Me&ee&&(Me=ro(Ne+1,!0)===1?ne:Z),ge[Ne]=R._level,R._override&&_e(Ne,R._override);var $e=(Me===ne?ut:it)(R._level);$e<=xe&&oe===0&&he===0?(Be++,He.push({_level:$e,_override:0,_isolate:1,_isolInitIndex:Ne})):oe++}else if(Me&ie){if(oe>0)oe--;else if(Be>0){for(he=0;!He[He.length-1]._isolate;)He.pop();var je=He[He.length-1]._isolInitIndex;je!=null&&(qe.set(je,Ne),qe.set(Ne,je)),He.pop(),Be--}R=He[He.length-1],ge[Ne]=R._level,R._override&&_e(Ne,R._override)}else Me&J?(oe===0&&(he>0?he--:!R._isolate&&He.length>1&&(He.pop(),R=He[He.length-1])),ge[Ne]=R._level):Me&Y&&(ge[Ne]=be.level);else ge[Ne]=R._level,R._override&&Me!==fe&&_e(Ne,R._override)}for(var et=[],nt=null,Fe=be.start;Fe<=be.end;Fe++){var tt=re[Fe];if(!(tt&f)){var ht=ge[Fe],Mt=tt&r,yt=tt===ie;nt&&ht===nt._level?(nt._end=Fe,nt._endsWithIsolInit=Mt):et.push(nt={_start:Fe,_end:Fe,_level:ht,_startsWithPDI:yt,_endsWithIsolInit:Mt})}}for(var ln=[],Bn=0;Bn<et.length;Bn++){var un=et[Bn];if(!un._startsWithPDI||un._startsWithPDI&&!qe.has(un._start)){for(var Zn=[nt=un],cn=void 0;nt&&nt._endsWithIsolInit&&(cn=qe.get(nt._end))!=null;)for(var Nn=Bn+1;Nn<et.length;Nn++)if(et[Nn]._start===cn){Zn.push(nt=et[Nn]);break}for(var Ot=[],nr=0;nr<Zn.length;nr++)for(var Ci=Zn[nr],Ao=Ci._start;Ao<=Ci._end;Ao++)Ot.push(Ao);for(var Os=ge[Ot[0]],_i=be.level,kr=Ot[0]-1;kr>=0;kr--)if(!(re[kr]&f)){_i=ge[kr];break}var Do=Ot[Ot.length-1],Fs=ge[Do],Ei=be.level;if(!(re[Do]&r)){for(var Xr=Do+1;Xr<=be.end;Xr++)if(!(re[Xr]&f)){Ei=ge[Xr];break}}ln.push({_seqIndices:Ot,_sosType:Math.max(_i,Os)%2?z:D,_eosType:Math.max(Ei,Fs)%2?z:D})}}for(var Io=0;Io<ln.length;Io++){var Oo=ln[Io],Pe=Oo._seqIndices,Wn=Oo._sosType,Fo=Oo._eosType,Yn=ge[Pe[0]]&1?z:D;if(me.get(X))for(var Qr=0;Qr<Pe.length;Qr++){var Kr=Pe[Qr];if(re[Kr]&X){for(var Xn=Wn,fn=Qr-1;fn>=0;fn--)if(!(re[Pe[fn]]&f)){Xn=re[Pe[fn]];break}_e(Kr,Xn&(r|ie)?te:Xn)}}if(me.get(V))for(var st=0;st<Pe.length;st++){var at=Pe[st];if(re[at]&V)for(var dn=st-1;dn>=-1;dn--){var Tt=dn===-1?Wn:re[Pe[dn]];if(Tt&u){Tt===G&&_e(at,U);break}}}if(me.get(G))for(var Lt=0;Lt<Pe.length;Lt++){var Qn=Pe[Lt];re[Qn]&G&&_e(Qn,z)}if(me.get(I)||me.get(Q))for(var En=1;En<Pe.length-1;En++){var Rt=Pe[En];if(re[Rt]&(I|Q)){for(var Gn=0,Jr=0,qr=En-1;qr>=0&&(Gn=re[Pe[qr]],!!(Gn&f));qr--);for(var pr=En+1;pr<Pe.length&&(Jr=re[Pe[pr]],!!(Jr&f));pr++);Gn===Jr&&(re[Rt]===I?Gn===V:Gn&(V|U))&&_e(Rt,Gn)}}if(me.get(V))for(var hn=0;hn<Pe.length;hn++){var pn=Pe[hn];if(re[pn]&V){for(var $r=hn-1;$r>=0&&re[Pe[$r]]&(K|f);$r--)_e(Pe[$r],V);for(hn++;hn<Pe.length&&re[Pe[hn]]&(K|f|V);hn++)re[Pe[hn]]!==V&&_e(Pe[hn],V)}}if(me.get(K)||me.get(I)||me.get(Q))for(var Tr=0;Tr<Pe.length;Tr++){var ki=Pe[Tr];if(re[ki]&(K|I|Q)){_e(ki,te);for(var rr=Tr-1;rr>=0&&re[Pe[rr]]&f;rr--)_e(Pe[rr],te);for(var or=Tr+1;or<Pe.length&&re[Pe[or]]&f;or++)_e(Pe[or],te)}}if(me.get(V))for(var ir=0,br=Wn;ir<Pe.length;ir++){var Ti=Pe[ir],jo=re[Ti];jo&V?br===D&&_e(Ti,D):jo&u&&(br=jo)}if(me.get(c)){var sr=z|V|U,eo=sr|D,Kn=[];{for(var mr=[],Jn=0;Jn<Pe.length;Jn++)if(re[Pe[Jn]]&c){var Je=ue[Pe[Jn]],zo=void 0;if(P(Je)!==null)if(mr.length<63)mr.push({char:Je,seqIndex:Jn});else break;else if((zo=M(Je))!==null)for(var ar=mr.length-1;ar>=0;ar--){var to=mr[ar].char;if(to===zo||to===M(L(Je))||P(L(to))===Je){Kn.push([mr[ar].seqIndex,Jn]),mr.length=ar;break}}}Kn.sort(function(At,Jt){return At[0]-Jt[0]})}for(var Bo=0;Bo<Kn.length;Bo++){for(var bi=Kn[Bo],pt=bi[0],Pr=bi[1],Pi=!1,Xt=0,No=pt+1;No<Pr;No++){var Mr=Pe[No];if(re[Mr]&eo){Pi=!0;var mn=re[Mr]&sr?z:D;if(mn===Yn){Xt=mn;break}}}if(Pi&&!Xt){Xt=Wn;for(var Wo=pt-1;Wo>=0;Wo--){var Mi=Pe[Wo];if(re[Mi]&eo){var gn=re[Mi]&sr?z:D;gn!==Yn?Xt=gn:Xt=Yn;break}}}if(Xt){if(re[Pe[pt]]=re[Pe[Pr]]=Xt,Xt!==Yn){for(var Qt=pt+1;Qt<Pe.length;Qt++)if(!(re[Pe[Qt]]&f)){v(ue[Pe[Qt]])&X&&(re[Pe[Qt]]=Xt);break}}if(Xt!==Yn){for(var qn=Pr+1;qn<Pe.length;qn++)if(!(re[Pe[qn]]&f)){v(ue[Pe[qn]])&X&&(re[Pe[qn]]=Xt);break}}}}for(var kn=0;kn<Pe.length;kn++)if(re[Pe[kn]]&c){for(var Go=kn,Ho=kn,tn=Wn,Lr=kn-1;Lr>=0;Lr--)if(re[Pe[Lr]]&f)Go=Lr;else{tn=re[Pe[Lr]]&sr?z:D;break}for(var Rr=Fo,Ur=kn+1;Ur<Pe.length;Ur++)if(re[Pe[Ur]]&(c|f))Ho=Ur;else{Rr=re[Pe[Ur]]&sr?z:D;break}for(var Kt=Go;Kt<=Ho;Kt++)re[Pe[Kt]]=tn===Rr?tn:Yn;kn=Ho}}}for(var Ut=be.start;Ut<=be.end;Ut++){var no=ge[Ut],Hn=re[Ut];if(no&1?Hn&(D|V|U)&&ge[Ut]++:Hn&z?ge[Ut]++:Hn&(U|V)&&(ge[Ut]+=2),Hn&f&&(ge[Ut]=Ut===0?be.level:ge[Ut-1]),Ut===be.end||v(ue[Ut])&(ae|Y))for(var gr=Ut;gr>=0&&v(ue[gr])&h;gr--)ge[gr]=be.level}}return{levels:ge,paragraphs:ke};function ro(At,Jt){for(var xt=At;xt<ue.length;xt++){var wt=re[xt];if(wt&(z|G))return 1;if(wt&(Y|D)||Jt&&wt===ie)return 0;if(wt&r){var vn=Li(xt);xt=vn===-1?ue.length:vn}}return 0}function Li(At){for(var Jt=1,xt=At+1;xt<ue.length;xt++){var wt=re[xt];if(wt&Y)break;if(wt&ie){if(--Jt===0)return xt}else wt&r&&Jt++}return-1}}var we="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",le;function se(){if(!le){var ue=_(we,!0),Te=ue.map,xe=ue.reverseMap;xe.forEach(function(re,ze){Te.set(ze,re)}),le=Te}}function Re(ue){return se(),le.get(ue)||null}function Ie(ue,Te,xe,re){var ze=ue.length;xe=Math.max(0,xe==null?0:+xe),re=Math.min(ze-1,re==null?ze-1:+re);for(var me=new Map,_e=xe;_e<=re;_e++)if(Te[_e]&1){var ge=Re(ue[_e]);ge!==null&&me.set(_e,ge)}return me}function ye(ue,Te,xe,re){var ze=ue.length;xe=Math.max(0,xe==null?0:+xe),re=Math.min(ze-1,re==null?ze-1:+re);var me=[];return Te.paragraphs.forEach(function(_e){var ge=Math.max(xe,_e.start),qe=Math.min(re,_e.end);if(ge<qe){for(var ke=Te.levels.slice(ge,qe+1),be=qe;be>=ge&&v(ue[be])&h;be--)ke[be]=_e.level;for(var De=_e.level,Ge=1/0,it=0;it<ke.length;it++){var ut=ke[it];ut>De&&(De=ut),ut<Ge&&(Ge=ut|1)}for(var Ye=De;Ye>=Ge;Ye--)for(var He=0;He<ke.length;He++)if(ke[He]>=Ye){for(var R=He;He+1<ke.length&&ke[He+1]>=Ye;)He++;He>R&&me.push([R+ge,He+ge])}}}),me}function Ee(ue,Te,xe,re){var ze=Ue(ue,Te,xe,re),me=[].concat(ue);return ze.forEach(function(_e,ge){me[ge]=(Te.levels[_e]&1?Re(ue[_e]):null)||ue[_e]}),me.join("")}function Ue(ue,Te,xe,re){for(var ze=ye(ue,Te,xe,re),me=[],_e=0;_e<ue.length;_e++)me[_e]=_e;return ze.forEach(function(ge){for(var qe=ge[0],ke=ge[1],be=me.slice(qe,ke+1),De=be.length;De--;)me[ke-De]=be[De]}),me}return n.closingToOpeningBracket=M,n.getBidiCharType=v,n.getBidiCharTypeName=x,n.getCanonicalBracket=L,n.getEmbeddingLevels=de,n.getMirroredCharacter=Re,n.getMirroredCharactersMap=Ie,n.getReorderSegments=ye,n.getReorderedIndices=Ue,n.getReorderedString=Ee,n.openingToClosingBracket=P,Object.defineProperty(n,"__esModule",{value:!0}),n}({});return o}const Hf=/\bvoid\s+main\s*\(\s*\)\s*{/g;function rl(o){const n=/^[ \t]*#include +<([\w\d./]+)>/gm;function s(l,i){let r=p1[i];return r?rl(r):l}return o.replace(n,s)}const jt=[];for(let o=0;o<256;o++)jt[o]=(o<16?"0":"")+o.toString(16);function zp(){const o=Math.random()*4294967295|0,n=Math.random()*4294967295|0,s=Math.random()*4294967295|0,l=Math.random()*4294967295|0;return(jt[o&255]+jt[o>>8&255]+jt[o>>16&255]+jt[o>>24&255]+"-"+jt[n&255]+jt[n>>8&255]+"-"+jt[n>>16&15|64]+jt[n>>24&255]+"-"+jt[s&63|128]+jt[s>>8&255]+"-"+jt[s>>16&255]+jt[s>>24&255]+jt[l&255]+jt[l>>8&255]+jt[l>>16&255]+jt[l>>24&255]).toUpperCase()}const Wr=Object.assign||function(){let o=arguments[0];for(let n=1,s=arguments.length;n<s;n++){let l=arguments[n];if(l)for(let i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o[i]=l[i])}return o},Bp=Date.now(),kc=new WeakMap,Tc=new Map;let Np=1e10;function ol(o,n){const s=Vp(n);let l=kc.get(o);if(l||kc.set(o,l=Object.create(null)),l[s])return new l[s];const i=`_onBeforeCompile${s}`,r=function(h,d){o.onBeforeCompile.call(this,h,d);const m=this.customProgramCacheKey()+"|"+h.vertexShader+"|"+h.fragmentShader;let v=Tc[m];if(!v){const x=Wp(this,h,n,s);v=Tc[m]=x}h.vertexShader=v.vertexShader,h.fragmentShader=v.fragmentShader,Wr(h.uniforms,this.uniforms),n.timeUniform&&(h.uniforms[n.timeUniform]={get value(){return Date.now()-Bp}}),this[i]&&this[i](h)},u=function(){return c(n.chained?o:o.clone())},c=function(h){const d=Object.create(h,f);return Object.defineProperty(d,"baseMaterial",{value:o}),Object.defineProperty(d,"id",{value:Np++}),d.uuid=zp(),d.uniforms=Wr({},h.uniforms,n.uniforms),d.defines=Wr({},h.defines,n.defines),d.defines[`TROIKA_DERIVED_MATERIAL_${s}`]="",d.extensions=Wr({},h.extensions,n.extensions),d._listeners=void 0,d},f={constructor:{value:u},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return o.customProgramCacheKey()+"|"+s}},onBeforeCompile:{get(){return r},set(h){this[i]=h}},copy:{writable:!0,configurable:!0,value:function(h){return o.copy.call(this,h),!o.isShaderMaterial&&!o.isDerivedMaterial&&(Wr(this.extensions,h.extensions),Wr(this.defines,h.defines),Wr(this.uniforms,c1.clone(h.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const h=new o.constructor;return c(h).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let h=this._depthMaterial;return h||(h=this._depthMaterial=ol(o.isDerivedMaterial?o.getDepthMaterial():new f1({depthPacking:d1}),n),h.defines.IS_DEPTH_MATERIAL="",h.uniforms=this.uniforms),h}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let h=this._distanceMaterial;return h||(h=this._distanceMaterial=ol(o.isDerivedMaterial?o.getDistanceMaterial():new h1,n),h.defines.IS_DISTANCE_MATERIAL="",h.uniforms=this.uniforms),h}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:h,_distanceMaterial:d}=this;h&&h.dispose(),d&&d.dispose(),o.dispose.call(this)}}};return l[s]=u,new u}function Wp(o,{vertexShader:n,fragmentShader:s},l,i){let{vertexDefs:r,vertexMainIntro:u,vertexMainOutro:c,vertexTransform:f,fragmentDefs:h,fragmentMainIntro:d,fragmentMainOutro:m,fragmentColorTransform:v,customRewriter:x,timeUniform:S}=l;if(r=r||"",u=u||"",c=c||"",h=h||"",d=d||"",m=m||"",(f||x)&&(n=rl(n)),(v||x)&&(s=s.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),s=rl(s)),x){let _=x({vertexShader:n,fragmentShader:s});n=_.vertexShader,s=_.fragmentShader}if(v){let _=[];s=s.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,w=>(_.push(w),"")),m=`${v}
${_.join(`
`)}
${m}`}if(S){const _=`
uniform float ${S};
`;r=_+r,h=_+h}return f&&(n=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${n}
`,r=`${r}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${f}
}
`,u=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${u}
`,n=n.replace(/\b(position|normal|uv)\b/g,(_,w,C,E)=>/\battribute\s+vec[23]\s+$/.test(E.substr(0,C))?w:`troika_${w}_${i}`),o.map&&o.map.channel>0||(n=n.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),n=bc(n,i,r,u,c),s=bc(s,i,h,d,m),{vertexShader:n,fragmentShader:s}}function bc(o,n,s,l,i){return(l||i||s)&&(o=o.replace(Hf,`
${s}
void troikaOrigMain${n}() {`),o+=`
void main() {
  ${l}
  troikaOrigMain${n}();
  ${i}
}`),o}function Gp(o,n){return o==="uniforms"?void 0:typeof n=="function"?n.toString():n}let Hp=0;const Pc=new Map;function Vp(o){const n=JSON.stringify(o,Gp);let s=Pc.get(n);return s==null&&Pc.set(n,s=++Hp),s}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Zp(){return typeof window>"u"&&(self.window=self),function(o){var n={parse:function(i){var r=n._bin,u=new Uint8Array(i);if(r.readASCII(u,0,4)=="ttcf"){var c=4;r.readUshort(u,c),c+=2,r.readUshort(u,c),c+=2;var f=r.readUint(u,c);c+=4;for(var h=[],d=0;d<f;d++){var m=r.readUint(u,c);c+=4,h.push(n._readFont(u,m))}return h}return[n._readFont(u,0)]},_readFont:function(i,r){var u=n._bin,c=r;u.readFixed(i,r),r+=4;var f=u.readUshort(i,r);r+=2,u.readUshort(i,r),r+=2,u.readUshort(i,r),r+=2,u.readUshort(i,r),r+=2;for(var h=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],d={_data:i,_offset:c},m={},v=0;v<f;v++){var x=u.readASCII(i,r,4);r+=4,u.readUint(i,r),r+=4;var S=u.readUint(i,r);r+=4;var _=u.readUint(i,r);r+=4,m[x]={offset:S,length:_}}for(v=0;v<h.length;v++){var w=h[v];m[w]&&(d[w.trim()]=n[w.trim()].parse(i,m[w].offset,m[w].length,d))}return d},_tabOffset:function(i,r,u){for(var c=n._bin,f=c.readUshort(i,u+4),h=u+12,d=0;d<f;d++){var m=c.readASCII(i,h,4);h+=4,c.readUint(i,h),h+=4;var v=c.readUint(i,h);if(h+=4,c.readUint(i,h),h+=4,m==r)return v}return 0}};n._bin={readFixed:function(i,r){return(i[r]<<8|i[r+1])+(i[r+2]<<8|i[r+3])/65540},readF2dot14:function(i,r){return n._bin.readShort(i,r)/16384},readInt:function(i,r){return n._bin._view(i).getInt32(r)},readInt8:function(i,r){return n._bin._view(i).getInt8(r)},readShort:function(i,r){return n._bin._view(i).getInt16(r)},readUshort:function(i,r){return n._bin._view(i).getUint16(r)},readUshorts:function(i,r,u){for(var c=[],f=0;f<u;f++)c.push(n._bin.readUshort(i,r+2*f));return c},readUint:function(i,r){return n._bin._view(i).getUint32(r)},readUint64:function(i,r){return 4294967296*n._bin.readUint(i,r)+n._bin.readUint(i,r+4)},readASCII:function(i,r,u){for(var c="",f=0;f<u;f++)c+=String.fromCharCode(i[r+f]);return c},readUnicode:function(i,r,u){for(var c="",f=0;f<u;f++){var h=i[r++]<<8|i[r++];c+=String.fromCharCode(h)}return c},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,r,u){var c=n._bin._tdec;return c&&r==0&&u==i.length?c.decode(i):n._bin.readASCII(i,r,u)},readBytes:function(i,r,u){for(var c=[],f=0;f<u;f++)c.push(i[r+f]);return c},readASCIIArray:function(i,r,u){for(var c=[],f=0;f<u;f++)c.push(String.fromCharCode(i[r+f]));return c},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},n._lctf={},n._lctf.parse=function(i,r,u,c,f){var h=n._bin,d={},m=r;h.readFixed(i,r),r+=4;var v=h.readUshort(i,r);r+=2;var x=h.readUshort(i,r);r+=2;var S=h.readUshort(i,r);return r+=2,d.scriptList=n._lctf.readScriptList(i,m+v),d.featureList=n._lctf.readFeatureList(i,m+x),d.lookupList=n._lctf.readLookupList(i,m+S,f),d},n._lctf.readLookupList=function(i,r,u){var c=n._bin,f=r,h=[],d=c.readUshort(i,r);r+=2;for(var m=0;m<d;m++){var v=c.readUshort(i,r);r+=2;var x=n._lctf.readLookupTable(i,f+v,u);h.push(x)}return h},n._lctf.readLookupTable=function(i,r,u){var c=n._bin,f=r,h={tabs:[]};h.ltype=c.readUshort(i,r),r+=2,h.flag=c.readUshort(i,r),r+=2;var d=c.readUshort(i,r);r+=2;for(var m=h.ltype,v=0;v<d;v++){var x=c.readUshort(i,r);r+=2;var S=u(i,m,f+x,h);h.tabs.push(S)}return h},n._lctf.numOfOnes=function(i){for(var r=0,u=0;u<32;u++)i>>>u&1&&r++;return r},n._lctf.readClassDef=function(i,r){var u=n._bin,c=[],f=u.readUshort(i,r);if(r+=2,f==1){var h=u.readUshort(i,r);r+=2;var d=u.readUshort(i,r);r+=2;for(var m=0;m<d;m++)c.push(h+m),c.push(h+m),c.push(u.readUshort(i,r)),r+=2}if(f==2){var v=u.readUshort(i,r);for(r+=2,m=0;m<v;m++)c.push(u.readUshort(i,r)),r+=2,c.push(u.readUshort(i,r)),r+=2,c.push(u.readUshort(i,r)),r+=2}return c},n._lctf.getInterval=function(i,r){for(var u=0;u<i.length;u+=3){var c=i[u],f=i[u+1];if(i[u+2],c<=r&&r<=f)return u}return-1},n._lctf.readCoverage=function(i,r){var u=n._bin,c={};c.fmt=u.readUshort(i,r),r+=2;var f=u.readUshort(i,r);return r+=2,c.fmt==1&&(c.tab=u.readUshorts(i,r,f)),c.fmt==2&&(c.tab=u.readUshorts(i,r,3*f)),c},n._lctf.coverageIndex=function(i,r){var u=i.tab;if(i.fmt==1)return u.indexOf(r);if(i.fmt==2){var c=n._lctf.getInterval(u,r);if(c!=-1)return u[c+2]+(r-u[c])}return-1},n._lctf.readFeatureList=function(i,r){var u=n._bin,c=r,f=[],h=u.readUshort(i,r);r+=2;for(var d=0;d<h;d++){var m=u.readASCII(i,r,4);r+=4;var v=u.readUshort(i,r);r+=2;var x=n._lctf.readFeatureTable(i,c+v);x.tag=m.trim(),f.push(x)}return f},n._lctf.readFeatureTable=function(i,r){var u=n._bin,c=r,f={},h=u.readUshort(i,r);r+=2,h>0&&(f.featureParams=c+h);var d=u.readUshort(i,r);r+=2,f.tab=[];for(var m=0;m<d;m++)f.tab.push(u.readUshort(i,r+2*m));return f},n._lctf.readScriptList=function(i,r){var u=n._bin,c=r,f={},h=u.readUshort(i,r);r+=2;for(var d=0;d<h;d++){var m=u.readASCII(i,r,4);r+=4;var v=u.readUshort(i,r);r+=2,f[m.trim()]=n._lctf.readScriptTable(i,c+v)}return f},n._lctf.readScriptTable=function(i,r){var u=n._bin,c=r,f={},h=u.readUshort(i,r);r+=2,h>0&&(f.default=n._lctf.readLangSysTable(i,c+h));var d=u.readUshort(i,r);r+=2;for(var m=0;m<d;m++){var v=u.readASCII(i,r,4);r+=4;var x=u.readUshort(i,r);r+=2,f[v.trim()]=n._lctf.readLangSysTable(i,c+x)}return f},n._lctf.readLangSysTable=function(i,r){var u=n._bin,c={};u.readUshort(i,r),r+=2,c.reqFeature=u.readUshort(i,r),r+=2;var f=u.readUshort(i,r);return r+=2,c.features=u.readUshorts(i,r,f),c},n.CFF={},n.CFF.parse=function(i,r,u){var c=n._bin;(i=new Uint8Array(i.buffer,r,u))[r=0],i[++r],i[++r],i[++r],r++;var f=[];r=n.CFF.readIndex(i,r,f);for(var h=[],d=0;d<f.length-1;d++)h.push(c.readASCII(i,r+f[d],f[d+1]-f[d]));r+=f[f.length-1];var m=[];r=n.CFF.readIndex(i,r,m);var v=[];for(d=0;d<m.length-1;d++)v.push(n.CFF.readDict(i,r+m[d],r+m[d+1]));r+=m[m.length-1];var x=v[0],S=[];r=n.CFF.readIndex(i,r,S);var _=[];for(d=0;d<S.length-1;d++)_.push(c.readASCII(i,r+S[d],S[d+1]-S[d]));if(r+=S[S.length-1],n.CFF.readSubrs(i,r,x),x.CharStrings){r=x.CharStrings,S=[],r=n.CFF.readIndex(i,r,S);var w=[];for(d=0;d<S.length-1;d++)w.push(c.readBytes(i,r+S[d],S[d+1]-S[d]));x.CharStrings=w}if(x.ROS){r=x.FDArray;var C=[];for(r=n.CFF.readIndex(i,r,C),x.FDArray=[],d=0;d<C.length-1;d++){var E=n.CFF.readDict(i,r+C[d],r+C[d+1]);n.CFF._readFDict(i,E,_),x.FDArray.push(E)}r+=C[C.length-1],r=x.FDSelect,x.FDSelect=[];var T=i[r];if(r++,T!=3)throw T;var P=c.readUshort(i,r);for(r+=2,d=0;d<P+1;d++)x.FDSelect.push(c.readUshort(i,r),i[r+2]),r+=3}return x.Encoding&&(x.Encoding=n.CFF.readEncoding(i,x.Encoding,x.CharStrings.length)),x.charset&&(x.charset=n.CFF.readCharset(i,x.charset,x.CharStrings.length)),n.CFF._readFDict(i,x,_),x},n.CFF._readFDict=function(i,r,u){var c;for(var f in r.Private&&(c=r.Private[1],r.Private=n.CFF.readDict(i,c,c+r.Private[0]),r.Private.Subrs&&n.CFF.readSubrs(i,c+r.Private.Subrs,r.Private)),r)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(f)!=-1&&(r[f]=u[r[f]-426+35])},n.CFF.readSubrs=function(i,r,u){var c=n._bin,f=[];r=n.CFF.readIndex(i,r,f);var h,d=f.length;h=d<1240?107:d<33900?1131:32768,u.Bias=h,u.Subrs=[];for(var m=0;m<f.length-1;m++)u.Subrs.push(c.readBytes(i,r+f[m],f[m+1]-f[m]))},n.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],n.CFF.glyphByUnicode=function(i,r){for(var u=0;u<i.charset.length;u++)if(i.charset[u]==r)return u;return-1},n.CFF.glyphBySE=function(i,r){return r<0||r>255?-1:n.CFF.glyphByUnicode(i,n.CFF.tableSE[r])},n.CFF.readEncoding=function(i,r,u){n._bin;var c=[".notdef"],f=i[r];if(r++,f!=0)throw"error: unknown encoding format: "+f;var h=i[r];r++;for(var d=0;d<h;d++)c.push(i[r+d]);return c},n.CFF.readCharset=function(i,r,u){var c=n._bin,f=[".notdef"],h=i[r];if(r++,h==0)for(var d=0;d<u;d++){var m=c.readUshort(i,r);r+=2,f.push(m)}else{if(h!=1&&h!=2)throw"error: format: "+h;for(;f.length<u;){m=c.readUshort(i,r),r+=2;var v=0;for(h==1?(v=i[r],r++):(v=c.readUshort(i,r),r+=2),d=0;d<=v;d++)f.push(m),m++}}return f},n.CFF.readIndex=function(i,r,u){var c=n._bin,f=c.readUshort(i,r)+1,h=i[r+=2];if(r++,h==1)for(var d=0;d<f;d++)u.push(i[r+d]);else if(h==2)for(d=0;d<f;d++)u.push(c.readUshort(i,r+2*d));else if(h==3)for(d=0;d<f;d++)u.push(16777215&c.readUint(i,r+3*d-1));else if(f!=1)throw"unsupported offset size: "+h+", count: "+f;return(r+=f*h)-1},n.CFF.getCharString=function(i,r,u){var c=n._bin,f=i[r],h=i[r+1];i[r+2],i[r+3],i[r+4];var d=1,m=null,v=null;f<=20&&(m=f,d=1),f==12&&(m=100*f+h,d=2),21<=f&&f<=27&&(m=f,d=1),f==28&&(v=c.readShort(i,r+1),d=3),29<=f&&f<=31&&(m=f,d=1),32<=f&&f<=246&&(v=f-139,d=1),247<=f&&f<=250&&(v=256*(f-247)+h+108,d=2),251<=f&&f<=254&&(v=256*-(f-251)-h-108,d=2),f==255&&(v=c.readInt(i,r+1)/65535,d=5),u.val=v??"o"+m,u.size=d},n.CFF.readCharString=function(i,r,u){for(var c=r+u,f=n._bin,h=[];r<c;){var d=i[r],m=i[r+1];i[r+2],i[r+3],i[r+4];var v=1,x=null,S=null;d<=20&&(x=d,v=1),d==12&&(x=100*d+m,v=2),d!=19&&d!=20||(x=d,v=2),21<=d&&d<=27&&(x=d,v=1),d==28&&(S=f.readShort(i,r+1),v=3),29<=d&&d<=31&&(x=d,v=1),32<=d&&d<=246&&(S=d-139,v=1),247<=d&&d<=250&&(S=256*(d-247)+m+108,v=2),251<=d&&d<=254&&(S=256*-(d-251)-m-108,v=2),d==255&&(S=f.readInt(i,r+1)/65535,v=5),h.push(S??"o"+x),r+=v}return h},n.CFF.readDict=function(i,r,u){for(var c=n._bin,f={},h=[];r<u;){var d=i[r],m=i[r+1];i[r+2],i[r+3],i[r+4];var v=1,x=null,S=null;if(d==28&&(S=c.readShort(i,r+1),v=3),d==29&&(S=c.readInt(i,r+1),v=5),32<=d&&d<=246&&(S=d-139,v=1),247<=d&&d<=250&&(S=256*(d-247)+m+108,v=2),251<=d&&d<=254&&(S=256*-(d-251)-m-108,v=2),d==255)throw S=c.readInt(i,r+1)/65535,v=5,"unknown number";if(d==30){var _=[];for(v=1;;){var w=i[r+v];v++;var C=w>>4,E=15&w;if(C!=15&&_.push(C),E!=15&&_.push(E),E==15)break}for(var T="",P=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],M=0;M<_.length;M++)T+=P[_[M]];S=parseFloat(T)}d<=21&&(x=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][d],v=1,d==12&&(x=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][m],v=2)),x!=null?(f[x]=h.length==1?h[0]:h,h=[]):h.push(S),r+=v}return f},n.cmap={},n.cmap.parse=function(i,r,u){i=new Uint8Array(i.buffer,r,u),r=0;var c=n._bin,f={};c.readUshort(i,r),r+=2;var h=c.readUshort(i,r);r+=2;var d=[];f.tables=[];for(var m=0;m<h;m++){var v=c.readUshort(i,r);r+=2;var x=c.readUshort(i,r);r+=2;var S=c.readUint(i,r);r+=4;var _="p"+v+"e"+x,w=d.indexOf(S);if(w==-1){var C;w=f.tables.length,d.push(S);var E=c.readUshort(i,S);E==0?C=n.cmap.parse0(i,S):E==4?C=n.cmap.parse4(i,S):E==6?C=n.cmap.parse6(i,S):E==12?C=n.cmap.parse12(i,S):console.debug("unknown format: "+E,v,x,S),f.tables.push(C)}if(f[_]!=null)throw"multiple tables for one platform+encoding";f[_]=w}return f},n.cmap.parse0=function(i,r){var u=n._bin,c={};c.format=u.readUshort(i,r),r+=2;var f=u.readUshort(i,r);r+=2,u.readUshort(i,r),r+=2,c.map=[];for(var h=0;h<f-6;h++)c.map.push(i[r+h]);return c},n.cmap.parse4=function(i,r){var u=n._bin,c=r,f={};f.format=u.readUshort(i,r),r+=2;var h=u.readUshort(i,r);r+=2,u.readUshort(i,r),r+=2;var d=u.readUshort(i,r);r+=2;var m=d/2;f.searchRange=u.readUshort(i,r),r+=2,f.entrySelector=u.readUshort(i,r),r+=2,f.rangeShift=u.readUshort(i,r),r+=2,f.endCount=u.readUshorts(i,r,m),r+=2*m,r+=2,f.startCount=u.readUshorts(i,r,m),r+=2*m,f.idDelta=[];for(var v=0;v<m;v++)f.idDelta.push(u.readShort(i,r)),r+=2;for(f.idRangeOffset=u.readUshorts(i,r,m),r+=2*m,f.glyphIdArray=[];r<c+h;)f.glyphIdArray.push(u.readUshort(i,r)),r+=2;return f},n.cmap.parse6=function(i,r){var u=n._bin,c={};c.format=u.readUshort(i,r),r+=2,u.readUshort(i,r),r+=2,u.readUshort(i,r),r+=2,c.firstCode=u.readUshort(i,r),r+=2;var f=u.readUshort(i,r);r+=2,c.glyphIdArray=[];for(var h=0;h<f;h++)c.glyphIdArray.push(u.readUshort(i,r)),r+=2;return c},n.cmap.parse12=function(i,r){var u=n._bin,c={};c.format=u.readUshort(i,r),r+=2,r+=2,u.readUint(i,r),r+=4,u.readUint(i,r),r+=4;var f=u.readUint(i,r);r+=4,c.groups=[];for(var h=0;h<f;h++){var d=r+12*h,m=u.readUint(i,d+0),v=u.readUint(i,d+4),x=u.readUint(i,d+8);c.groups.push([m,v,x])}return c},n.glyf={},n.glyf.parse=function(i,r,u,c){for(var f=[],h=0;h<c.maxp.numGlyphs;h++)f.push(null);return f},n.glyf._parseGlyf=function(i,r){var u=n._bin,c=i._data,f=n._tabOffset(c,"glyf",i._offset)+i.loca[r];if(i.loca[r]==i.loca[r+1])return null;var h={};if(h.noc=u.readShort(c,f),f+=2,h.xMin=u.readShort(c,f),f+=2,h.yMin=u.readShort(c,f),f+=2,h.xMax=u.readShort(c,f),f+=2,h.yMax=u.readShort(c,f),f+=2,h.xMin>=h.xMax||h.yMin>=h.yMax)return null;if(h.noc>0){h.endPts=[];for(var d=0;d<h.noc;d++)h.endPts.push(u.readUshort(c,f)),f+=2;var m=u.readUshort(c,f);if(f+=2,c.length-f<m)return null;h.instructions=u.readBytes(c,f,m),f+=m;var v=h.endPts[h.noc-1]+1;for(h.flags=[],d=0;d<v;d++){var x=c[f];if(f++,h.flags.push(x),(8&x)!=0){var S=c[f];f++;for(var _=0;_<S;_++)h.flags.push(x),d++}}for(h.xs=[],d=0;d<v;d++){var w=(2&h.flags[d])!=0,C=(16&h.flags[d])!=0;w?(h.xs.push(C?c[f]:-c[f]),f++):C?h.xs.push(0):(h.xs.push(u.readShort(c,f)),f+=2)}for(h.ys=[],d=0;d<v;d++)w=(4&h.flags[d])!=0,C=(32&h.flags[d])!=0,w?(h.ys.push(C?c[f]:-c[f]),f++):C?h.ys.push(0):(h.ys.push(u.readShort(c,f)),f+=2);var E=0,T=0;for(d=0;d<v;d++)E+=h.xs[d],T+=h.ys[d],h.xs[d]=E,h.ys[d]=T}else{var P;h.parts=[];do{P=u.readUshort(c,f),f+=2;var M={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(h.parts.push(M),M.glyphIndex=u.readUshort(c,f),f+=2,1&P){var L=u.readShort(c,f);f+=2;var D=u.readShort(c,f);f+=2}else L=u.readInt8(c,f),f++,D=u.readInt8(c,f),f++;2&P?(M.m.tx=L,M.m.ty=D):(M.p1=L,M.p2=D),8&P?(M.m.a=M.m.d=u.readF2dot14(c,f),f+=2):64&P?(M.m.a=u.readF2dot14(c,f),f+=2,M.m.d=u.readF2dot14(c,f),f+=2):128&P&&(M.m.a=u.readF2dot14(c,f),f+=2,M.m.b=u.readF2dot14(c,f),f+=2,M.m.c=u.readF2dot14(c,f),f+=2,M.m.d=u.readF2dot14(c,f),f+=2)}while(32&P);if(256&P){var z=u.readUshort(c,f);for(f+=2,h.instr=[],d=0;d<z;d++)h.instr.push(c[f]),f++}}return h},n.GDEF={},n.GDEF.parse=function(i,r,u,c){var f=r;r+=4;var h=n._bin.readUshort(i,r);return{glyphClassDef:h===0?null:n._lctf.readClassDef(i,f+h)}},n.GPOS={},n.GPOS.parse=function(i,r,u,c){return n._lctf.parse(i,r,u,c,n.GPOS.subt)},n.GPOS.subt=function(i,r,u,c){var f=n._bin,h=u,d={};if(d.fmt=f.readUshort(i,u),u+=2,r==1||r==2||r==3||r==7||r==8&&d.fmt<=2){var m=f.readUshort(i,u);u+=2,d.coverage=n._lctf.readCoverage(i,m+h)}if(r==1&&d.fmt==1){var v=f.readUshort(i,u);u+=2,v!=0&&(d.pos=n.GPOS.readValueRecord(i,u,v))}else if(r==2&&d.fmt>=1&&d.fmt<=2){v=f.readUshort(i,u),u+=2;var x=f.readUshort(i,u);u+=2;var S=n._lctf.numOfOnes(v),_=n._lctf.numOfOnes(x);if(d.fmt==1){d.pairsets=[];var w=f.readUshort(i,u);u+=2;for(var C=0;C<w;C++){var E=h+f.readUshort(i,u);u+=2;var T=f.readUshort(i,E);E+=2;for(var P=[],M=0;M<T;M++){var L=f.readUshort(i,E);E+=2,v!=0&&(U=n.GPOS.readValueRecord(i,E,v),E+=2*S),x!=0&&(Q=n.GPOS.readValueRecord(i,E,x),E+=2*_),P.push({gid2:L,val1:U,val2:Q})}d.pairsets.push(P)}}if(d.fmt==2){var D=f.readUshort(i,u);u+=2;var z=f.readUshort(i,u);u+=2;var V=f.readUshort(i,u);u+=2;var I=f.readUshort(i,u);for(u+=2,d.classDef1=n._lctf.readClassDef(i,h+D),d.classDef2=n._lctf.readClassDef(i,h+z),d.matrix=[],C=0;C<V;C++){var K=[];for(M=0;M<I;M++){var U=null,Q=null;v!=0&&(U=n.GPOS.readValueRecord(i,u,v),u+=2*S),x!=0&&(Q=n.GPOS.readValueRecord(i,u,x),u+=2*_),K.push({val1:U,val2:Q})}d.matrix.push(K)}}}else if(r==4&&d.fmt==1)d.markCoverage=n._lctf.readCoverage(i,f.readUshort(i,u)+h),d.baseCoverage=n._lctf.readCoverage(i,f.readUshort(i,u+2)+h),d.markClassCount=f.readUshort(i,u+4),d.markArray=n.GPOS.readMarkArray(i,f.readUshort(i,u+6)+h),d.baseArray=n.GPOS.readBaseArray(i,f.readUshort(i,u+8)+h,d.markClassCount);else if(r==6&&d.fmt==1)d.mark1Coverage=n._lctf.readCoverage(i,f.readUshort(i,u)+h),d.mark2Coverage=n._lctf.readCoverage(i,f.readUshort(i,u+2)+h),d.markClassCount=f.readUshort(i,u+4),d.mark1Array=n.GPOS.readMarkArray(i,f.readUshort(i,u+6)+h),d.mark2Array=n.GPOS.readBaseArray(i,f.readUshort(i,u+8)+h,d.markClassCount);else{if(r==9&&d.fmt==1){var Y=f.readUshort(i,u);u+=2;var ae=f.readUint(i,u);if(u+=4,c.ltype==9)c.ltype=Y;else if(c.ltype!=Y)throw"invalid extension substitution";return n.GPOS.subt(i,c.ltype,h+ae)}console.debug("unsupported GPOS table LookupType",r,"format",d.fmt)}return d},n.GPOS.readValueRecord=function(i,r,u){var c=n._bin,f=[];return f.push(1&u?c.readShort(i,r):0),r+=1&u?2:0,f.push(2&u?c.readShort(i,r):0),r+=2&u?2:0,f.push(4&u?c.readShort(i,r):0),r+=4&u?2:0,f.push(8&u?c.readShort(i,r):0),r+=8&u?2:0,f},n.GPOS.readBaseArray=function(i,r,u){var c=n._bin,f=[],h=r,d=c.readUshort(i,r);r+=2;for(var m=0;m<d;m++){for(var v=[],x=0;x<u;x++)v.push(n.GPOS.readAnchorRecord(i,h+c.readUshort(i,r))),r+=2;f.push(v)}return f},n.GPOS.readMarkArray=function(i,r){var u=n._bin,c=[],f=r,h=u.readUshort(i,r);r+=2;for(var d=0;d<h;d++){var m=n.GPOS.readAnchorRecord(i,u.readUshort(i,r+2)+f);m.markClass=u.readUshort(i,r),c.push(m),r+=4}return c},n.GPOS.readAnchorRecord=function(i,r){var u=n._bin,c={};return c.fmt=u.readUshort(i,r),c.x=u.readShort(i,r+2),c.y=u.readShort(i,r+4),c},n.GSUB={},n.GSUB.parse=function(i,r,u,c){return n._lctf.parse(i,r,u,c,n.GSUB.subt)},n.GSUB.subt=function(i,r,u,c){var f=n._bin,h=u,d={};if(d.fmt=f.readUshort(i,u),u+=2,r!=1&&r!=2&&r!=4&&r!=5&&r!=6)return null;if(r==1||r==2||r==4||r==5&&d.fmt<=2||r==6&&d.fmt<=2){var m=f.readUshort(i,u);u+=2,d.coverage=n._lctf.readCoverage(i,h+m)}if(r==1&&d.fmt>=1&&d.fmt<=2){if(d.fmt==1)d.delta=f.readShort(i,u),u+=2;else if(d.fmt==2){var v=f.readUshort(i,u);u+=2,d.newg=f.readUshorts(i,u,v),u+=2*d.newg.length}}else if(r==2&&d.fmt==1){v=f.readUshort(i,u),u+=2,d.seqs=[];for(var x=0;x<v;x++){var S=f.readUshort(i,u)+h;u+=2;var _=f.readUshort(i,S);d.seqs.push(f.readUshorts(i,S+2,_))}}else if(r==4)for(d.vals=[],v=f.readUshort(i,u),u+=2,x=0;x<v;x++){var w=f.readUshort(i,u);u+=2,d.vals.push(n.GSUB.readLigatureSet(i,h+w))}else if(r==5&&d.fmt==2){if(d.fmt==2){var C=f.readUshort(i,u);u+=2,d.cDef=n._lctf.readClassDef(i,h+C),d.scset=[];var E=f.readUshort(i,u);for(u+=2,x=0;x<E;x++){var T=f.readUshort(i,u);u+=2,d.scset.push(T==0?null:n.GSUB.readSubClassSet(i,h+T))}}}else if(r==6&&d.fmt==3){if(d.fmt==3){for(x=0;x<3;x++){v=f.readUshort(i,u),u+=2;for(var P=[],M=0;M<v;M++)P.push(n._lctf.readCoverage(i,h+f.readUshort(i,u+2*M)));u+=2*v,x==0&&(d.backCvg=P),x==1&&(d.inptCvg=P),x==2&&(d.ahedCvg=P)}v=f.readUshort(i,u),u+=2,d.lookupRec=n.GSUB.readSubstLookupRecords(i,u,v)}}else{if(r==7&&d.fmt==1){var L=f.readUshort(i,u);u+=2;var D=f.readUint(i,u);if(u+=4,c.ltype==9)c.ltype=L;else if(c.ltype!=L)throw"invalid extension substitution";return n.GSUB.subt(i,c.ltype,h+D)}console.debug("unsupported GSUB table LookupType",r,"format",d.fmt)}return d},n.GSUB.readSubClassSet=function(i,r){var u=n._bin.readUshort,c=r,f=[],h=u(i,r);r+=2;for(var d=0;d<h;d++){var m=u(i,r);r+=2,f.push(n.GSUB.readSubClassRule(i,c+m))}return f},n.GSUB.readSubClassRule=function(i,r){var u=n._bin.readUshort,c={},f=u(i,r),h=u(i,r+=2);r+=2,c.input=[];for(var d=0;d<f-1;d++)c.input.push(u(i,r)),r+=2;return c.substLookupRecords=n.GSUB.readSubstLookupRecords(i,r,h),c},n.GSUB.readSubstLookupRecords=function(i,r,u){for(var c=n._bin.readUshort,f=[],h=0;h<u;h++)f.push(c(i,r),c(i,r+2)),r+=4;return f},n.GSUB.readChainSubClassSet=function(i,r){var u=n._bin,c=r,f=[],h=u.readUshort(i,r);r+=2;for(var d=0;d<h;d++){var m=u.readUshort(i,r);r+=2,f.push(n.GSUB.readChainSubClassRule(i,c+m))}return f},n.GSUB.readChainSubClassRule=function(i,r){for(var u=n._bin,c={},f=["backtrack","input","lookahead"],h=0;h<f.length;h++){var d=u.readUshort(i,r);r+=2,h==1&&d--,c[f[h]]=u.readUshorts(i,r,d),r+=2*c[f[h]].length}return d=u.readUshort(i,r),r+=2,c.subst=u.readUshorts(i,r,2*d),r+=2*c.subst.length,c},n.GSUB.readLigatureSet=function(i,r){var u=n._bin,c=r,f=[],h=u.readUshort(i,r);r+=2;for(var d=0;d<h;d++){var m=u.readUshort(i,r);r+=2,f.push(n.GSUB.readLigature(i,c+m))}return f},n.GSUB.readLigature=function(i,r){var u=n._bin,c={chain:[]};c.nglyph=u.readUshort(i,r),r+=2;var f=u.readUshort(i,r);r+=2;for(var h=0;h<f-1;h++)c.chain.push(u.readUshort(i,r)),r+=2;return c},n.head={},n.head.parse=function(i,r,u){var c=n._bin,f={};return c.readFixed(i,r),r+=4,f.fontRevision=c.readFixed(i,r),r+=4,c.readUint(i,r),r+=4,c.readUint(i,r),r+=4,f.flags=c.readUshort(i,r),r+=2,f.unitsPerEm=c.readUshort(i,r),r+=2,f.created=c.readUint64(i,r),r+=8,f.modified=c.readUint64(i,r),r+=8,f.xMin=c.readShort(i,r),r+=2,f.yMin=c.readShort(i,r),r+=2,f.xMax=c.readShort(i,r),r+=2,f.yMax=c.readShort(i,r),r+=2,f.macStyle=c.readUshort(i,r),r+=2,f.lowestRecPPEM=c.readUshort(i,r),r+=2,f.fontDirectionHint=c.readShort(i,r),r+=2,f.indexToLocFormat=c.readShort(i,r),r+=2,f.glyphDataFormat=c.readShort(i,r),r+=2,f},n.hhea={},n.hhea.parse=function(i,r,u){var c=n._bin,f={};return c.readFixed(i,r),r+=4,f.ascender=c.readShort(i,r),r+=2,f.descender=c.readShort(i,r),r+=2,f.lineGap=c.readShort(i,r),r+=2,f.advanceWidthMax=c.readUshort(i,r),r+=2,f.minLeftSideBearing=c.readShort(i,r),r+=2,f.minRightSideBearing=c.readShort(i,r),r+=2,f.xMaxExtent=c.readShort(i,r),r+=2,f.caretSlopeRise=c.readShort(i,r),r+=2,f.caretSlopeRun=c.readShort(i,r),r+=2,f.caretOffset=c.readShort(i,r),r+=2,r+=8,f.metricDataFormat=c.readShort(i,r),r+=2,f.numberOfHMetrics=c.readUshort(i,r),r+=2,f},n.hmtx={},n.hmtx.parse=function(i,r,u,c){for(var f=n._bin,h={aWidth:[],lsBearing:[]},d=0,m=0,v=0;v<c.maxp.numGlyphs;v++)v<c.hhea.numberOfHMetrics&&(d=f.readUshort(i,r),r+=2,m=f.readShort(i,r),r+=2),h.aWidth.push(d),h.lsBearing.push(m);return h},n.kern={},n.kern.parse=function(i,r,u,c){var f=n._bin,h=f.readUshort(i,r);if(r+=2,h==1)return n.kern.parseV1(i,r-2,u,c);var d=f.readUshort(i,r);r+=2;for(var m={glyph1:[],rval:[]},v=0;v<d;v++){r+=2,u=f.readUshort(i,r),r+=2;var x=f.readUshort(i,r);r+=2;var S=x>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;r=n.kern.readFormat0(i,r,m)}return m},n.kern.parseV1=function(i,r,u,c){var f=n._bin;f.readFixed(i,r),r+=4;var h=f.readUint(i,r);r+=4;for(var d={glyph1:[],rval:[]},m=0;m<h;m++){f.readUint(i,r),r+=4;var v=f.readUshort(i,r);r+=2,f.readUshort(i,r),r+=2;var x=v>>>8;if((x&=15)!=0)throw"unknown kern table format: "+x;r=n.kern.readFormat0(i,r,d)}return d},n.kern.readFormat0=function(i,r,u){var c=n._bin,f=-1,h=c.readUshort(i,r);r+=2,c.readUshort(i,r),r+=2,c.readUshort(i,r),r+=2,c.readUshort(i,r),r+=2;for(var d=0;d<h;d++){var m=c.readUshort(i,r);r+=2;var v=c.readUshort(i,r);r+=2;var x=c.readShort(i,r);r+=2,m!=f&&(u.glyph1.push(m),u.rval.push({glyph2:[],vals:[]}));var S=u.rval[u.rval.length-1];S.glyph2.push(v),S.vals.push(x),f=m}return r},n.loca={},n.loca.parse=function(i,r,u,c){var f=n._bin,h=[],d=c.head.indexToLocFormat,m=c.maxp.numGlyphs+1;if(d==0)for(var v=0;v<m;v++)h.push(f.readUshort(i,r+(v<<1))<<1);if(d==1)for(v=0;v<m;v++)h.push(f.readUint(i,r+(v<<2)));return h},n.maxp={},n.maxp.parse=function(i,r,u){var c=n._bin,f={},h=c.readUint(i,r);return r+=4,f.numGlyphs=c.readUshort(i,r),r+=2,h==65536&&(f.maxPoints=c.readUshort(i,r),r+=2,f.maxContours=c.readUshort(i,r),r+=2,f.maxCompositePoints=c.readUshort(i,r),r+=2,f.maxCompositeContours=c.readUshort(i,r),r+=2,f.maxZones=c.readUshort(i,r),r+=2,f.maxTwilightPoints=c.readUshort(i,r),r+=2,f.maxStorage=c.readUshort(i,r),r+=2,f.maxFunctionDefs=c.readUshort(i,r),r+=2,f.maxInstructionDefs=c.readUshort(i,r),r+=2,f.maxStackElements=c.readUshort(i,r),r+=2,f.maxSizeOfInstructions=c.readUshort(i,r),r+=2,f.maxComponentElements=c.readUshort(i,r),r+=2,f.maxComponentDepth=c.readUshort(i,r),r+=2),f},n.name={},n.name.parse=function(i,r,u){var c=n._bin,f={};c.readUshort(i,r),r+=2;var h=c.readUshort(i,r);r+=2,c.readUshort(i,r);for(var d,m=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],v=r+=2,x=0;x<h;x++){var S=c.readUshort(i,r);r+=2;var _=c.readUshort(i,r);r+=2;var w=c.readUshort(i,r);r+=2;var C=c.readUshort(i,r);r+=2;var E=c.readUshort(i,r);r+=2;var T=c.readUshort(i,r);r+=2;var P,M=m[C],L=v+12*h+T;if(S==0)P=c.readUnicode(i,L,E/2);else if(S==3&&_==0)P=c.readUnicode(i,L,E/2);else if(_==0)P=c.readASCII(i,L,E);else if(_==1)P=c.readUnicode(i,L,E/2);else if(_==3)P=c.readUnicode(i,L,E/2);else{if(S!=1)throw"unknown encoding "+_+", platformID: "+S;P=c.readASCII(i,L,E),console.debug("reading unknown MAC encoding "+_+" as ASCII")}var D="p"+S+","+w.toString(16);f[D]==null&&(f[D]={}),f[D][M!==void 0?M:C]=P,f[D]._lang=w}for(var z in f)if(f[z].postScriptName!=null&&f[z]._lang==1033)return f[z];for(var z in f)if(f[z].postScriptName!=null&&f[z]._lang==0)return f[z];for(var z in f)if(f[z].postScriptName!=null&&f[z]._lang==3084)return f[z];for(var z in f)if(f[z].postScriptName!=null)return f[z];for(var z in f){d=z;break}return console.debug("returning name table with languageID "+f[d]._lang),f[d]},n["OS/2"]={},n["OS/2"].parse=function(i,r,u){var c=n._bin.readUshort(i,r);r+=2;var f={};if(c==0)n["OS/2"].version0(i,r,f);else if(c==1)n["OS/2"].version1(i,r,f);else if(c==2||c==3||c==4)n["OS/2"].version2(i,r,f);else{if(c!=5)throw"unknown OS/2 table version: "+c;n["OS/2"].version5(i,r,f)}return f},n["OS/2"].version0=function(i,r,u){var c=n._bin;return u.xAvgCharWidth=c.readShort(i,r),r+=2,u.usWeightClass=c.readUshort(i,r),r+=2,u.usWidthClass=c.readUshort(i,r),r+=2,u.fsType=c.readUshort(i,r),r+=2,u.ySubscriptXSize=c.readShort(i,r),r+=2,u.ySubscriptYSize=c.readShort(i,r),r+=2,u.ySubscriptXOffset=c.readShort(i,r),r+=2,u.ySubscriptYOffset=c.readShort(i,r),r+=2,u.ySuperscriptXSize=c.readShort(i,r),r+=2,u.ySuperscriptYSize=c.readShort(i,r),r+=2,u.ySuperscriptXOffset=c.readShort(i,r),r+=2,u.ySuperscriptYOffset=c.readShort(i,r),r+=2,u.yStrikeoutSize=c.readShort(i,r),r+=2,u.yStrikeoutPosition=c.readShort(i,r),r+=2,u.sFamilyClass=c.readShort(i,r),r+=2,u.panose=c.readBytes(i,r,10),r+=10,u.ulUnicodeRange1=c.readUint(i,r),r+=4,u.ulUnicodeRange2=c.readUint(i,r),r+=4,u.ulUnicodeRange3=c.readUint(i,r),r+=4,u.ulUnicodeRange4=c.readUint(i,r),r+=4,u.achVendID=[c.readInt8(i,r),c.readInt8(i,r+1),c.readInt8(i,r+2),c.readInt8(i,r+3)],r+=4,u.fsSelection=c.readUshort(i,r),r+=2,u.usFirstCharIndex=c.readUshort(i,r),r+=2,u.usLastCharIndex=c.readUshort(i,r),r+=2,u.sTypoAscender=c.readShort(i,r),r+=2,u.sTypoDescender=c.readShort(i,r),r+=2,u.sTypoLineGap=c.readShort(i,r),r+=2,u.usWinAscent=c.readUshort(i,r),r+=2,u.usWinDescent=c.readUshort(i,r),r+=2},n["OS/2"].version1=function(i,r,u){var c=n._bin;return r=n["OS/2"].version0(i,r,u),u.ulCodePageRange1=c.readUint(i,r),r+=4,u.ulCodePageRange2=c.readUint(i,r),r+=4},n["OS/2"].version2=function(i,r,u){var c=n._bin;return r=n["OS/2"].version1(i,r,u),u.sxHeight=c.readShort(i,r),r+=2,u.sCapHeight=c.readShort(i,r),r+=2,u.usDefault=c.readUshort(i,r),r+=2,u.usBreak=c.readUshort(i,r),r+=2,u.usMaxContext=c.readUshort(i,r),r+=2},n["OS/2"].version5=function(i,r,u){var c=n._bin;return r=n["OS/2"].version2(i,r,u),u.usLowerOpticalPointSize=c.readUshort(i,r),r+=2,u.usUpperOpticalPointSize=c.readUshort(i,r),r+=2},n.post={},n.post.parse=function(i,r,u){var c=n._bin,f={};return f.version=c.readFixed(i,r),r+=4,f.italicAngle=c.readFixed(i,r),r+=4,f.underlinePosition=c.readShort(i,r),r+=2,f.underlineThickness=c.readShort(i,r),r+=2,f},n==null&&(n={}),n.U==null&&(n.U={}),n.U.codeToGlyph=function(i,r){var u=i.cmap,c=-1;if(u.p0e4!=null?c=u.p0e4:u.p3e1!=null?c=u.p3e1:u.p1e0!=null?c=u.p1e0:u.p0e3!=null&&(c=u.p0e3),c==-1)throw"no familiar platform and encoding!";var f=u.tables[c];if(f.format==0)return r>=f.map.length?0:f.map[r];if(f.format==4){for(var h=-1,d=0;d<f.endCount.length;d++)if(r<=f.endCount[d]){h=d;break}return h==-1||f.startCount[h]>r?0:65535&(f.idRangeOffset[h]!=0?f.glyphIdArray[r-f.startCount[h]+(f.idRangeOffset[h]>>1)-(f.idRangeOffset.length-h)]:r+f.idDelta[h])}if(f.format==12){if(r>f.groups[f.groups.length-1][1])return 0;for(d=0;d<f.groups.length;d++){var m=f.groups[d];if(m[0]<=r&&r<=m[1])return m[2]+(r-m[0])}return 0}throw"unknown cmap table format "+f.format},n.U.glyphToPath=function(i,r){var u={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[r]){var c=i.SVG.entries[r];return c==null?u:(typeof c=="string"&&(c=n.SVG.toPath(c),i.SVG.entries[r]=c),c)}if(i.CFF){var f={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},h=i.CFF,d=i.CFF.Private;if(h.ROS){for(var m=0;h.FDSelect[m+2]<=r;)m+=2;d=h.FDArray[h.FDSelect[m+1]].Private}n.U._drawCFF(i.CFF.CharStrings[r],f,h,d,u)}else i.glyf&&n.U._drawGlyf(r,i,u);return u},n.U._drawGlyf=function(i,r,u){var c=r.glyf[i];c==null&&(c=r.glyf[i]=n.glyf._parseGlyf(r,i)),c!=null&&(c.noc>-1?n.U._simpleGlyph(c,u):n.U._compoGlyph(c,r,u))},n.U._simpleGlyph=function(i,r){for(var u=0;u<i.noc;u++){for(var c=u==0?0:i.endPts[u-1]+1,f=i.endPts[u],h=c;h<=f;h++){var d=h==c?f:h-1,m=h==f?c:h+1,v=1&i.flags[h],x=1&i.flags[d],S=1&i.flags[m],_=i.xs[h],w=i.ys[h];if(h==c)if(v){if(!x){n.U.P.moveTo(r,_,w);continue}n.U.P.moveTo(r,i.xs[d],i.ys[d])}else x?n.U.P.moveTo(r,i.xs[d],i.ys[d]):n.U.P.moveTo(r,(i.xs[d]+_)/2,(i.ys[d]+w)/2);v?x&&n.U.P.lineTo(r,_,w):S?n.U.P.qcurveTo(r,_,w,i.xs[m],i.ys[m]):n.U.P.qcurveTo(r,_,w,(_+i.xs[m])/2,(w+i.ys[m])/2)}n.U.P.closePath(r)}},n.U._compoGlyph=function(i,r,u){for(var c=0;c<i.parts.length;c++){var f={cmds:[],crds:[]},h=i.parts[c];n.U._drawGlyf(h.glyphIndex,r,f);for(var d=h.m,m=0;m<f.crds.length;m+=2){var v=f.crds[m],x=f.crds[m+1];u.crds.push(v*d.a+x*d.b+d.tx),u.crds.push(v*d.c+x*d.d+d.ty)}for(m=0;m<f.cmds.length;m++)u.cmds.push(f.cmds[m])}},n.U._getGlyphClass=function(i,r){var u=n._lctf.getInterval(r,i);return u==-1?0:r[u+2]},n.U._applySubs=function(i,r,u,c){for(var f=i.length-r-1,h=0;h<u.tabs.length;h++)if(u.tabs[h]!=null){var d,m=u.tabs[h];if(!m.coverage||(d=n._lctf.coverageIndex(m.coverage,i[r]))!=-1){if(u.ltype==1)i[r],m.fmt==1?i[r]=i[r]+m.delta:i[r]=m.newg[d];else if(u.ltype==4)for(var v=m.vals[d],x=0;x<v.length;x++){var S=v[x],_=S.chain.length;if(!(_>f)){for(var w=!0,C=0,E=0;E<_;E++){for(;i[r+C+(1+E)]==-1;)C++;S.chain[E]!=i[r+C+(1+E)]&&(w=!1)}if(w){for(i[r]=S.nglyph,E=0;E<_+C;E++)i[r+E+1]=-1;break}}}else if(u.ltype==5&&m.fmt==2)for(var T=n._lctf.getInterval(m.cDef,i[r]),P=m.cDef[T+2],M=m.scset[P],L=0;L<M.length;L++){var D=M[L],z=D.input;if(!(z.length>f)){for(w=!0,E=0;E<z.length;E++){var V=n._lctf.getInterval(m.cDef,i[r+1+E]);if(T==-1&&m.cDef[V+2]!=z[E]){w=!1;break}}if(w){var I=D.substLookupRecords;for(x=0;x<I.length;x+=2)I[x],I[x+1]}}}else if(u.ltype==6&&m.fmt==3){if(!n.U._glsCovered(i,m.backCvg,r-m.backCvg.length)||!n.U._glsCovered(i,m.inptCvg,r)||!n.U._glsCovered(i,m.ahedCvg,r+m.inptCvg.length))continue;var K=m.lookupRec;for(L=0;L<K.length;L+=2){T=K[L];var U=c[K[L+1]];n.U._applySubs(i,r+T,U,c)}}}}},n.U._glsCovered=function(i,r,u){for(var c=0;c<r.length;c++)if(n._lctf.coverageIndex(r[c],i[u+c])==-1)return!1;return!0},n.U.glyphsToPath=function(i,r,u){for(var c={cmds:[],crds:[]},f=0,h=0;h<r.length;h++){var d=r[h];if(d!=-1){for(var m=h<r.length-1&&r[h+1]!=-1?r[h+1]:0,v=n.U.glyphToPath(i,d),x=0;x<v.crds.length;x+=2)c.crds.push(v.crds[x]+f),c.crds.push(v.crds[x+1]);for(u&&c.cmds.push(u),x=0;x<v.cmds.length;x++)c.cmds.push(v.cmds[x]);u&&c.cmds.push("X"),f+=i.hmtx.aWidth[d],h<r.length-1&&(f+=n.U.getPairAdjustment(i,d,m))}}return c},n.U.P={},n.U.P.moveTo=function(i,r,u){i.cmds.push("M"),i.crds.push(r,u)},n.U.P.lineTo=function(i,r,u){i.cmds.push("L"),i.crds.push(r,u)},n.U.P.curveTo=function(i,r,u,c,f,h,d){i.cmds.push("C"),i.crds.push(r,u,c,f,h,d)},n.U.P.qcurveTo=function(i,r,u,c,f){i.cmds.push("Q"),i.crds.push(r,u,c,f)},n.U.P.closePath=function(i){i.cmds.push("Z")},n.U._drawCFF=function(i,r,u,c,f){for(var h=r.stack,d=r.nStems,m=r.haveWidth,v=r.width,x=r.open,S=0,_=r.x,w=r.y,C=0,E=0,T=0,P=0,M=0,L=0,D=0,z=0,V=0,I=0,K={val:0,size:0};S<i.length;){n.CFF.getCharString(i,S,K);var U=K.val;if(S+=K.size,U=="o1"||U=="o18")h.length%2!=0&&!m&&(v=h.shift()+c.nominalWidthX),d+=h.length>>1,h.length=0,m=!0;else if(U=="o3"||U=="o23")h.length%2!=0&&!m&&(v=h.shift()+c.nominalWidthX),d+=h.length>>1,h.length=0,m=!0;else if(U=="o4")h.length>1&&!m&&(v=h.shift()+c.nominalWidthX,m=!0),x&&n.U.P.closePath(f),w+=h.pop(),n.U.P.moveTo(f,_,w),x=!0;else if(U=="o5")for(;h.length>0;)_+=h.shift(),w+=h.shift(),n.U.P.lineTo(f,_,w);else if(U=="o6"||U=="o7")for(var Q=h.length,Y=U=="o6",ae=0;ae<Q;ae++){var te=h.shift();Y?_+=te:w+=te,Y=!Y,n.U.P.lineTo(f,_,w)}else if(U=="o8"||U=="o24"){Q=h.length;for(var fe=0;fe+6<=Q;)C=_+h.shift(),E=w+h.shift(),T=C+h.shift(),P=E+h.shift(),_=T+h.shift(),w=P+h.shift(),n.U.P.curveTo(f,C,E,T,P,_,w),fe+=6;U=="o24"&&(_+=h.shift(),w+=h.shift(),n.U.P.lineTo(f,_,w))}else{if(U=="o11")break;if(U=="o1234"||U=="o1235"||U=="o1236"||U=="o1237")U=="o1234"&&(E=w,T=(C=_+h.shift())+h.shift(),I=P=E+h.shift(),L=P,z=w,_=(D=(M=(V=T+h.shift())+h.shift())+h.shift())+h.shift(),n.U.P.curveTo(f,C,E,T,P,V,I),n.U.P.curveTo(f,M,L,D,z,_,w)),U=="o1235"&&(C=_+h.shift(),E=w+h.shift(),T=C+h.shift(),P=E+h.shift(),V=T+h.shift(),I=P+h.shift(),M=V+h.shift(),L=I+h.shift(),D=M+h.shift(),z=L+h.shift(),_=D+h.shift(),w=z+h.shift(),h.shift(),n.U.P.curveTo(f,C,E,T,P,V,I),n.U.P.curveTo(f,M,L,D,z,_,w)),U=="o1236"&&(C=_+h.shift(),E=w+h.shift(),T=C+h.shift(),I=P=E+h.shift(),L=P,D=(M=(V=T+h.shift())+h.shift())+h.shift(),z=L+h.shift(),_=D+h.shift(),n.U.P.curveTo(f,C,E,T,P,V,I),n.U.P.curveTo(f,M,L,D,z,_,w)),U=="o1237"&&(C=_+h.shift(),E=w+h.shift(),T=C+h.shift(),P=E+h.shift(),V=T+h.shift(),I=P+h.shift(),M=V+h.shift(),L=I+h.shift(),D=M+h.shift(),z=L+h.shift(),Math.abs(D-_)>Math.abs(z-w)?_=D+h.shift():w=z+h.shift(),n.U.P.curveTo(f,C,E,T,P,V,I),n.U.P.curveTo(f,M,L,D,z,_,w));else if(U=="o14"){if(h.length>0&&!m&&(v=h.shift()+u.nominalWidthX,m=!0),h.length==4){var X=h.shift(),G=h.shift(),B=h.shift(),b=h.shift(),F=n.CFF.glyphBySE(u,B),W=n.CFF.glyphBySE(u,b);n.U._drawCFF(u.CharStrings[F],r,u,c,f),r.x=X,r.y=G,n.U._drawCFF(u.CharStrings[W],r,u,c,f)}x&&(n.U.P.closePath(f),x=!1)}else if(U=="o19"||U=="o20")h.length%2!=0&&!m&&(v=h.shift()+c.nominalWidthX),d+=h.length>>1,h.length=0,m=!0,S+=d+7>>3;else if(U=="o21")h.length>2&&!m&&(v=h.shift()+c.nominalWidthX,m=!0),w+=h.pop(),_+=h.pop(),x&&n.U.P.closePath(f),n.U.P.moveTo(f,_,w),x=!0;else if(U=="o22")h.length>1&&!m&&(v=h.shift()+c.nominalWidthX,m=!0),_+=h.pop(),x&&n.U.P.closePath(f),n.U.P.moveTo(f,_,w),x=!0;else if(U=="o25"){for(;h.length>6;)_+=h.shift(),w+=h.shift(),n.U.P.lineTo(f,_,w);C=_+h.shift(),E=w+h.shift(),T=C+h.shift(),P=E+h.shift(),_=T+h.shift(),w=P+h.shift(),n.U.P.curveTo(f,C,E,T,P,_,w)}else if(U=="o26")for(h.length%2&&(_+=h.shift());h.length>0;)C=_,E=w+h.shift(),_=T=C+h.shift(),w=(P=E+h.shift())+h.shift(),n.U.P.curveTo(f,C,E,T,P,_,w);else if(U=="o27")for(h.length%2&&(w+=h.shift());h.length>0;)E=w,T=(C=_+h.shift())+h.shift(),P=E+h.shift(),_=T+h.shift(),w=P,n.U.P.curveTo(f,C,E,T,P,_,w);else if(U=="o10"||U=="o29"){var J=U=="o10"?c:u;if(h.length==0)console.debug("error: empty stack");else{var Z=h.pop(),ne=J.Subrs[Z+J.Bias];r.x=_,r.y=w,r.nStems=d,r.haveWidth=m,r.width=v,r.open=x,n.U._drawCFF(ne,r,u,c,f),_=r.x,w=r.y,d=r.nStems,m=r.haveWidth,v=r.width,x=r.open}}else if(U=="o30"||U=="o31"){var ee=h.length,ie=(fe=0,U=="o31");for(fe+=ee-(Q=-3&ee);fe<Q;)ie?(E=w,T=(C=_+h.shift())+h.shift(),w=(P=E+h.shift())+h.shift(),Q-fe==5?(_=T+h.shift(),fe++):_=T,ie=!1):(C=_,E=w+h.shift(),T=C+h.shift(),P=E+h.shift(),_=T+h.shift(),Q-fe==5?(w=P+h.shift(),fe++):w=P,ie=!0),n.U.P.curveTo(f,C,E,T,P,_,w),fe+=4}else{if((U+"").charAt(0)=="o")throw console.debug("Unknown operation: "+U,i),U;h.push(U)}}}r.x=_,r.y=w,r.nStems=d,r.haveWidth=m,r.width=v,r.open=x};var s=n,l={Typr:s};return o.Typr=s,o.default=l,Object.defineProperty(o,"__esModule",{value:!0}),o}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Yp(){return function(o){var n=Uint8Array,s=Uint16Array,l=Uint32Array,i=new n([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r=new n([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new n([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=function(U,Q){for(var Y=new s(31),ae=0;ae<31;++ae)Y[ae]=Q+=1<<U[ae-1];var te=new l(Y[30]);for(ae=1;ae<30;++ae)for(var fe=Y[ae];fe<Y[ae+1];++fe)te[fe]=fe-Y[ae]<<5|ae;return[Y,te]},f=c(i,2),h=f[0],d=f[1];h[28]=258,d[258]=28;for(var m=c(r,0)[0],v=new s(32768),x=0;x<32768;++x){var S=(43690&x)>>>1|(21845&x)<<1;S=(61680&(S=(52428&S)>>>2|(13107&S)<<2))>>>4|(3855&S)<<4,v[x]=((65280&S)>>>8|(255&S)<<8)>>>1}var _=function(U,Q,Y){for(var ae=U.length,te=0,fe=new s(Q);te<ae;++te)++fe[U[te]-1];var X,G=new s(Q);for(te=0;te<Q;++te)G[te]=G[te-1]+fe[te-1]<<1;{X=new s(1<<Q);var B=15-Q;for(te=0;te<ae;++te)if(U[te])for(var b=te<<4|U[te],F=Q-U[te],W=G[U[te]-1]++<<F,J=W|(1<<F)-1;W<=J;++W)X[v[W]>>>B]=b}return X},w=new n(288);for(x=0;x<144;++x)w[x]=8;for(x=144;x<256;++x)w[x]=9;for(x=256;x<280;++x)w[x]=7;for(x=280;x<288;++x)w[x]=8;var C=new n(32);for(x=0;x<32;++x)C[x]=5;var E=_(w,9),T=_(C,5),P=function(U){for(var Q=U[0],Y=1;Y<U.length;++Y)U[Y]>Q&&(Q=U[Y]);return Q},M=function(U,Q,Y){var ae=Q/8|0;return(U[ae]|U[ae+1]<<8)>>(7&Q)&Y},L=function(U,Q){var Y=Q/8|0;return(U[Y]|U[Y+1]<<8|U[Y+2]<<16)>>(7&Q)},D=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],z=function(U,Q,Y){var ae=new Error(Q||D[U]);if(ae.code=U,Error.captureStackTrace&&Error.captureStackTrace(ae,z),!Y)throw ae;return ae},V=function(U,Q,Y){var ae=U.length;if(!ae||Y&&!Y.l&&ae<5)return Q||new n(0);var te=!Q||Y,fe=!Y||Y.i;Y||(Y={}),Q||(Q=new n(3*ae));var X,G=function(R){var oe=Q.length;if(R>oe){var he=new n(Math.max(2*oe,R));he.set(Q),Q=he}},B=Y.f||0,b=Y.p||0,F=Y.b||0,W=Y.l,J=Y.d,Z=Y.m,ne=Y.n,ee=8*ae;do{if(!W){Y.f=B=M(U,b,1);var ie=M(U,b+1,3);if(b+=3,!ie){var de=U[(xe=((X=b)/8|0)+(7&X&&1)+4)-4]|U[xe-3]<<8,we=xe+de;if(we>ae){fe&&z(0);break}te&&G(F+de),Q.set(U.subarray(xe,we),F),Y.b=F+=de,Y.p=b=8*we;continue}if(ie==1)W=E,J=T,Z=9,ne=5;else if(ie==2){var le=M(U,b,31)+257,se=M(U,b+10,15)+4,Re=le+M(U,b+5,31)+1;b+=14;for(var Ie=new n(Re),ye=new n(19),Ee=0;Ee<se;++Ee)ye[u[Ee]]=M(U,b+3*Ee,7);b+=3*se;var Ue=P(ye),ue=(1<<Ue)-1,Te=_(ye,Ue);for(Ee=0;Ee<Re;){var xe,re=Te[M(U,b,ue)];if(b+=15&re,(xe=re>>>4)<16)Ie[Ee++]=xe;else{var ze=0,me=0;for(xe==16?(me=3+M(U,b,3),b+=2,ze=Ie[Ee-1]):xe==17?(me=3+M(U,b,7),b+=3):xe==18&&(me=11+M(U,b,127),b+=7);me--;)Ie[Ee++]=ze}}var _e=Ie.subarray(0,le),ge=Ie.subarray(le);Z=P(_e),ne=P(ge),W=_(_e,Z),J=_(ge,ne)}else z(1);if(b>ee){fe&&z(0);break}}te&&G(F+131072);for(var qe=(1<<Z)-1,ke=(1<<ne)-1,be=b;;be=b){var De=(ze=W[L(U,b)&qe])>>>4;if((b+=15&ze)>ee){fe&&z(0);break}if(ze||z(2),De<256)Q[F++]=De;else{if(De==256){be=b,W=null;break}var Ge=De-254;if(De>264){var it=i[Ee=De-257];Ge=M(U,b,(1<<it)-1)+h[Ee],b+=it}var ut=J[L(U,b)&ke],Ye=ut>>>4;if(ut||z(3),b+=15&ut,ge=m[Ye],Ye>3&&(it=r[Ye],ge+=L(U,b)&(1<<it)-1,b+=it),b>ee){fe&&z(0);break}te&&G(F+131072);for(var He=F+Ge;F<He;F+=4)Q[F]=Q[F-ge],Q[F+1]=Q[F+1-ge],Q[F+2]=Q[F+2-ge],Q[F+3]=Q[F+3-ge];F=He}}Y.l=W,Y.p=be,Y.b=F,W&&(B=1,Y.m=Z,Y.d=J,Y.n=ne)}while(!B);return F==Q.length?Q:function(R,oe,he){(he==null||he>R.length)&&(he=R.length);var Be=new(R instanceof s?s:R instanceof l?l:n)(he-oe);return Be.set(R.subarray(oe,he)),Be}(Q,0,F)},I=new n(0),K=typeof TextDecoder<"u"&&new TextDecoder;try{K.decode(I,{stream:!0})}catch{}return o.convert_streams=function(U){var Q=new DataView(U),Y=0;function ae(){var le=Q.getUint16(Y);return Y+=2,le}function te(){var le=Q.getUint32(Y);return Y+=4,le}function fe(le){de.setUint16(we,le),we+=2}function X(le){de.setUint32(we,le),we+=4}for(var G={signature:te(),flavor:te(),length:te(),numTables:ae(),reserved:ae(),totalSfntSize:te(),majorVersion:ae(),minorVersion:ae(),metaOffset:te(),metaLength:te(),metaOrigLength:te(),privOffset:te(),privLength:te()},B=0;Math.pow(2,B)<=G.numTables;)B++;B--;for(var b=16*Math.pow(2,B),F=16*G.numTables-b,W=12,J=[],Z=0;Z<G.numTables;Z++)J.push({tag:te(),offset:te(),compLength:te(),origLength:te(),origChecksum:te()}),W+=16;var ne,ee=new Uint8Array(12+16*J.length+J.reduce(function(le,se){return le+se.origLength+4},0)),ie=ee.buffer,de=new DataView(ie),we=0;return X(G.flavor),fe(G.numTables),fe(b),fe(B),fe(F),J.forEach(function(le){X(le.tag),X(le.origChecksum),X(W),X(le.origLength),le.outOffset=W,(W+=le.origLength)%4!=0&&(W+=4-W%4)}),J.forEach(function(le){var se,Re=U.slice(le.offset,le.offset+le.compLength);if(le.compLength!=le.origLength){var Ie=new Uint8Array(le.origLength);se=new Uint8Array(Re,2),V(se,Ie)}else Ie=new Uint8Array(Re);ee.set(Ie,le.outOffset);var ye=0;(W=le.outOffset+le.origLength)%4!=0&&(ye=4-W%4),ee.set(new Uint8Array(ye).buffer,le.outOffset+le.origLength),ne=W+ye}),ie.slice(0,ne)},Object.defineProperty(o,"__esModule",{value:!0}),o}({}).convert_streams}function Xp(o,n){const s={M:2,L:2,Q:4,C:6,Z:0},l={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,r=2,u=4,c=8,f=16,h=32;let d;function m(D){if(!d){const z={R:r,L:i,D:u,C:f,U:h,T:c};d=new Map;for(let V in l){let I=0;l[V].split(",").forEach(K=>{let[U,Q]=K.split("+");U=parseInt(U,36),Q=Q?parseInt(Q,36):0,d.set(I+=U,z[V]);for(let Y=Q;Y--;)d.set(++I,z[V])})}}return d.get(D)||h}const v=1,x=2,S=3,_=4,w=[null,"isol","init","fina","medi"];function C(D){const z=new Uint8Array(D.length);let V=h,I=v,K=-1;for(let U=0;U<D.length;U++){const Q=D.codePointAt(U);let Y=m(Q)|0,ae=v;Y&c||(V&(i|u|f)?Y&(r|u|f)?(ae=S,(I===v||I===S)&&z[K]++):Y&(i|h)&&(I===x||I===_)&&z[K]--:V&(r|h)&&(I===x||I===_)&&z[K]--,I=z[U]=ae,V=Y,K=U,Q>65535&&U++)}return z}function E(D,z){const V=[];for(let K=0;K<z.length;K++){const U=z.codePointAt(K);U>65535&&K++,V.push(o.U.codeToGlyph(D,U))}const I=D.GSUB;if(I){const{lookupList:K,featureList:U}=I;let Q;const Y=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,ae=[];U.forEach(te=>{if(Y.test(te.tag))for(let fe=0;fe<te.tab.length;fe++){if(ae[te.tab[fe]])continue;ae[te.tab[fe]]=!0;const X=K[te.tab[fe]],G=/^(isol|init|fina|medi)$/.test(te.tag);G&&!Q&&(Q=C(z));for(let B=0;B<V.length;B++)(!Q||!G||w[Q[B]]===te.tag)&&o.U._applySubs(V,B,X,K)}})}return V}function T(D,z){const V=new Int16Array(z.length*3);let I=0;for(;I<z.length;I++){const Y=z[I];if(Y===-1)continue;V[I*3+2]=D.hmtx.aWidth[Y];const ae=D.GPOS;if(ae){const te=ae.lookupList;for(let fe=0;fe<te.length;fe++){const X=te[fe];for(let G=0;G<X.tabs.length;G++){const B=X.tabs[G];if(X.ltype===1){if(o._lctf.coverageIndex(B.coverage,Y)!==-1&&B.pos){Q(B.pos,I);break}}else if(X.ltype===2){let b=null,F=K();if(F!==-1){const W=o._lctf.coverageIndex(B.coverage,z[F]);if(W!==-1){if(B.fmt===1){const J=B.pairsets[W];for(let Z=0;Z<J.length;Z++)J[Z].gid2===Y&&(b=J[Z])}else if(B.fmt===2){const J=o.U._getGlyphClass(z[F],B.classDef1),Z=o.U._getGlyphClass(Y,B.classDef2);b=B.matrix[J][Z]}if(b){b.val1&&Q(b.val1,F),b.val2&&Q(b.val2,I);break}}}}else if(X.ltype===4){const b=o._lctf.coverageIndex(B.markCoverage,Y);if(b!==-1){const F=K(U),W=F===-1?-1:o._lctf.coverageIndex(B.baseCoverage,z[F]);if(W!==-1){const J=B.markArray[b],Z=B.baseArray[W][J.markClass];V[I*3]=Z.x-J.x+V[F*3]-V[F*3+2],V[I*3+1]=Z.y-J.y+V[F*3+1];break}}}else if(X.ltype===6){const b=o._lctf.coverageIndex(B.mark1Coverage,Y);if(b!==-1){const F=K();if(F!==-1){const W=z[F];if(P(D,W)===3){const J=o._lctf.coverageIndex(B.mark2Coverage,W);if(J!==-1){const Z=B.mark1Array[b],ne=B.mark2Array[J][Z.markClass];V[I*3]=ne.x-Z.x+V[F*3]-V[F*3+2],V[I*3+1]=ne.y-Z.y+V[F*3+1];break}}}}}}}}else if(D.kern&&!D.cff){const te=K();if(te!==-1){const fe=D.kern.glyph1.indexOf(z[te]);if(fe!==-1){const X=D.kern.rval[fe].glyph2.indexOf(Y);X!==-1&&(V[te*3+2]+=D.kern.rval[fe].vals[X])}}}}return V;function K(Y){for(let ae=I-1;ae>=0;ae--)if(z[ae]!==-1&&(!Y||Y(z[ae])))return ae;return-1}function U(Y){return P(D,Y)===1}function Q(Y,ae){for(let te=0;te<3;te++)V[ae*3+te]+=Y[te]||0}}function P(D,z){const V=D.GDEF&&D.GDEF.glyphClassDef;return V?o.U._getGlyphClass(z,V):0}function M(...D){for(let z=0;z<D.length;z++)if(typeof D[z]=="number")return D[z]}function L(D){const z=Object.create(null),V=D["OS/2"],I=D.hhea,K=D.head.unitsPerEm,U=M(V&&V.sTypoAscender,I&&I.ascender,K),Q={unitsPerEm:K,ascender:U,descender:M(V&&V.sTypoDescender,I&&I.descender,0),capHeight:M(V&&V.sCapHeight,U),xHeight:M(V&&V.sxHeight,U),lineGap:M(V&&V.sTypoLineGap,I&&I.lineGap),supportsCodePoint(Y){return o.U.codeToGlyph(D,Y)>0},forEachGlyph(Y,ae,te,fe){let X=0;const G=1/Q.unitsPerEm*ae,B=E(D,Y);let b=0;const F=T(D,B);return B.forEach((W,J)=>{if(W!==-1){let Z=z[W];if(!Z){const{cmds:ne,crds:ee}=o.U.glyphToPath(D,W);let ie="",de=0;for(let Ie=0,ye=ne.length;Ie<ye;Ie++){const Ee=s[ne[Ie]];ie+=ne[Ie];for(let Ue=1;Ue<=Ee;Ue++)ie+=(Ue>1?",":"")+ee[de++]}let we,le,se,Re;if(ee.length){we=le=1/0,se=Re=-1/0;for(let Ie=0,ye=ee.length;Ie<ye;Ie+=2){let Ee=ee[Ie],Ue=ee[Ie+1];Ee<we&&(we=Ee),Ue<le&&(le=Ue),Ee>se&&(se=Ee),Ue>Re&&(Re=Ue)}}else we=se=le=Re=0;Z=z[W]={index:W,advanceWidth:D.hmtx.aWidth[W],xMin:we,yMin:le,xMax:se,yMax:Re,path:ie}}fe.call(null,Z,X+F[J*3]*G,F[J*3+1]*G,b),X+=F[J*3+2]*G,te&&(X+=te*ae)}b+=Y.codePointAt(b)>65535?2:1}),X}};return Q}return function(z){const V=new Uint8Array(z,0,4),I=o._bin.readASCII(V,0,4);if(I==="wOFF")z=n(z);else if(I==="wOF2")throw new Error("woff2 fonts not supported");return L(o.parse(z)[0])}}const Qp=Ro({name:"Typr Font Parser",dependencies:[Zp,Yp,Xp],init(o,n,s){const l=o(),i=n();return s(l,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Kp(){return function(o){var n=function(){this.buckets=new Map};n.prototype.add=function(T){var P=T>>5;this.buckets.set(P,(this.buckets.get(P)||0)|1<<(31&T))},n.prototype.has=function(T){var P=this.buckets.get(T>>5);return P!==void 0&&(P&1<<(31&T))!=0},n.prototype.serialize=function(){var T=[];return this.buckets.forEach(function(P,M){T.push((+M).toString(36)+":"+P.toString(36))}),T.join(",")},n.prototype.deserialize=function(T){var P=this;this.buckets.clear(),T.split(",").forEach(function(M){var L=M.split(":");P.buckets.set(parseInt(L[0],36),parseInt(L[1],36))})};var s=Math.pow(2,8),l=s-1,i=~l;function r(T){var P=function(L){return L&i}(T).toString(16),M=function(L){return(L&i)+s-1}(T).toString(16);return"codepoint-index/plane"+(T>>16)+"/"+P+"-"+M+".json"}function u(T,P){var M=T&l,L=P.codePointAt(M/6|0);return((L=(L||48)-48)&1<<M%6)!=0}function c(T,P){var M;(M=T,M.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(L){return L.split("-").map(function(D){return parseInt(D.trim(),16)})})).forEach(function(L){var D=L[0],z=L[1];z===void 0&&(z=D),P(D,z)})}function f(T,P){c(T,function(M,L){for(var D=M;D<=L;D++)P(D)})}var h={},d={},m=new WeakMap,v="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function x(T){var P=m.get(T);return P||(P=new n,f(T.ranges,function(M){return P.add(M)}),m.set(T,P)),P}var S,_=new Map;function w(T,P,M){return T[P]?P:T[M]?M:function(L){for(var D in L)return D}(T)}function C(T,P){var M=P;if(!T.includes(M)){M=1/0;for(var L=0;L<T.length;L++)Math.abs(T[L]-P)<Math.abs(M-P)&&(M=T[L])}return M}function E(T){return S||(S=new Set,f("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(P){S.add(P)})),S.has(T)}return o.CodePointSet=n,o.clearCache=function(){h={},d={}},o.getFontsForString=function(T,P){P===void 0&&(P={});var M,L=P.lang;L===void 0&&(L=new RegExp("\\p{Script=Hangul}","u").test(M=T)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(M)?"ja":"en");var D=P.category;D===void 0&&(D="sans-serif");var z=P.style;z===void 0&&(z="normal");var V=P.weight;V===void 0&&(V=400);var I=(P.dataUrl||v).replace(/\/$/g,""),K=new Map,U=new Uint8Array(T.length),Q={},Y={},ae=new Array(T.length),te=new Map,fe=!1;function X(b){var F=_.get(b);return F||(F=fetch(I+"/"+b).then(function(W){if(!W.ok)throw new Error(W.statusText);return W.json().then(function(J){if(!Array.isArray(J)||J[0]!==1)throw new Error("Incorrect schema version; need 1, got "+J[0]);return J[1]})}).catch(function(W){if(I!==v)return fe||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+I+'", trying default CDN. '+W.message),fe=!0),I=v,_.delete(b),X(b);throw W}),_.set(b,F)),F}for(var G=function(b){var F=T.codePointAt(b),W=r(F);ae[b]=W,h[W]||te.has(W)||te.set(W,X(W).then(function(J){h[W]=J})),F>65535&&(b++,B=b)},B=0;B<T.length;B++)G(B);return Promise.all(te.values()).then(function(){te.clear();for(var b=function(W){var J=T.codePointAt(W),Z=null,ne=h[ae[W]],ee=void 0;for(var ie in ne){var de=Y[ie];if(de===void 0&&(de=Y[ie]=new RegExp(ie).test(L||"en")),de){for(var we in ee=ie,ne[ie])if(u(J,ne[ie][we])){Z=we;break}break}}if(!Z){e:for(var le in ne)if(le!==ee){for(var se in ne[le])if(u(J,ne[le][se])){Z=se;break e}}}Z||(console.debug("No font coverage for U+"+J.toString(16)),Z="latin"),ae[W]=Z,d[Z]||te.has(Z)||te.set(Z,X("font-meta/"+Z+".json").then(function(Re){d[Z]=Re})),J>65535&&(W++,F=W)},F=0;F<T.length;F++)b(F);return Promise.all(te.values())}).then(function(){for(var b,F=null,W=0;W<T.length;W++){var J=T.codePointAt(W);if(F&&(E(J)||x(F).has(J)))U[W]=U[W-1];else{F=d[ae[W]];var Z=Q[F.id];if(!Z){var ne=F.typeforms,ee=w(ne,D,"sans-serif"),ie=w(ne[ee],z,"normal"),de=C((b=ne[ee])===null||b===void 0?void 0:b[ie],V);Z=Q[F.id]=I+"/font-files/"+F.id+"/"+ee+"."+ie+"."+de+".woff"}var we=K.get(Z);we==null&&(we=K.size,K.set(Z,we)),U[W]=we}J>65535&&(W++,U[W]=U[W-1])}return{fontUrls:Array.from(K.keys()),chars:U}})},Object.defineProperty(o,"__esModule",{value:!0}),o}({})}function Jp(o,n){const s=Object.create(null),l=Object.create(null);function i(u,c){const f=h=>{console.error(`Failure loading font ${u}`,h)};try{const h=new XMLHttpRequest;h.open("get",u,!0),h.responseType="arraybuffer",h.onload=function(){if(h.status>=400)f(new Error(h.statusText));else if(h.status>0)try{const d=o(h.response);d.src=u,c(d)}catch(d){f(d)}},h.onerror=f,h.send()}catch(h){f(h)}}function r(u,c){let f=s[u];f?c(f):l[u]?l[u].push(c):(l[u]=[c],i(u,h=>{h.src=u,s[u]=h,l[u].forEach(d=>d(h)),delete l[u]}))}return function(u,c,{lang:f,fonts:h=[],style:d="normal",weight:m="normal",unicodeFontsURL:v}={}){const x=new Uint8Array(u.length),S=[];u.length||E();const _=new Map,w=[];if(d!=="italic"&&(d="normal"),typeof m!="number"&&(m=m==="bold"?700:400),h&&!Array.isArray(h)&&(h=[h]),h=h.slice().filter(P=>!P.lang||P.lang.test(f)).reverse(),h.length){let D=0;(function z(V=0){for(let I=V,K=u.length;I<K;I++){const U=u.codePointAt(I);if(D===1&&S[x[I-1]].supportsCodePoint(U)||/\s/.test(u[I]))x[I]=x[I-1],D===2&&(w[w.length-1][1]=I);else for(let Q=x[I],Y=h.length;Q<=Y;Q++)if(Q===Y){const ae=D===2?w[w.length-1]:w[w.length]=[I,I];ae[1]=I,D=2}else{x[I]=Q;const{src:ae,unicodeRange:te}=h[Q];if(!te||T(U,te)){const fe=s[ae];if(!fe){r(ae,()=>{z(I)});return}if(fe.supportsCodePoint(U)){let X=_.get(fe);typeof X!="number"&&(X=S.length,S.push(fe),_.set(fe,X)),x[I]=X,D=1;break}}}U>65535&&I+1<K&&(x[I+1]=x[I],I++,D===2&&(w[w.length-1][1]=I))}C()})()}else w.push([0,u.length-1]),C();function C(){if(w.length){const P=w.map(M=>u.substring(M[0],M[1]+1)).join(`
`);n.getFontsForString(P,{lang:f||void 0,style:d,weight:m,dataUrl:v}).then(({fontUrls:M,chars:L})=>{const D=S.length;let z=0;w.forEach(I=>{for(let K=0,U=I[1]-I[0];K<=U;K++)x[I[0]+K]=L[z++]+D;z++});let V=0;M.forEach((I,K)=>{r(I,U=>{S[K+D]=U,++V===M.length&&E()})})})}else E()}function E(){c({chars:x,fonts:S})}function T(P,M){for(let L=0;L<M.length;L++){const[D,z=D]=M[L];if(D<=P&&P<=z)return!0}return!1}}}const qp=Ro({name:"FontResolver",dependencies:[Jp,Qp,Kp],init(o,n,s){return o(n,s())}});function $p(o,n){const l=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",r=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function u({text:S,lang:_,fonts:w,style:C,weight:E,preResolvedFonts:T,unicodeFontsURL:P},M){const L=({chars:D,fonts:z})=>{let V,I;const K=[];for(let U=0;U<D.length;U++)D[U]!==I?(I=D[U],K.push(V={start:U,end:U,fontObj:z[D[U]]})):V.end=U;M(K)};T?L(T):o(S,L,{lang:_,fonts:w,style:C,weight:E,unicodeFontsURL:P})}function c({text:S="",font:_,lang:w,sdfGlyphSize:C=64,fontSize:E=400,fontWeight:T=1,fontStyle:P="normal",letterSpacing:M=0,lineHeight:L="normal",maxWidth:D=1/0,direction:z,textAlign:V="left",textIndent:I=0,whiteSpace:K="normal",overflowWrap:U="normal",anchorX:Q=0,anchorY:Y=0,metricsOnly:ae=!1,unicodeFontsURL:te,preResolvedFonts:fe=null,includeCaretPositions:X=!1,chunkedBoundsSize:G=8192,colorRanges:B=null},b){const F=m(),W={fontLoad:0,typesetting:0};S.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),S=S.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),E=+E,M=+M,D=+D,L=L||"normal",I=+I,u({text:S,lang:w,style:P,weight:T,fonts:typeof _=="string"?[{src:_}]:_,unicodeFontsURL:te,preResolvedFonts:fe},J=>{W.fontLoad=m()-F;const Z=isFinite(D);let ne=null,ee=null,ie=null,de=null,we=null,le=null,se=null,Re=null,Ie=0,ye=0,Ee=K!=="nowrap";const Ue=new Map,ue=m();let Te=I,xe=0,re=new v;const ze=[re];J.forEach(ke=>{const{fontObj:be}=ke,{ascender:De,descender:Ge,unitsPerEm:it,lineGap:ut,capHeight:Ye,xHeight:He}=be;let R=Ue.get(be);if(!R){const Me=E/it,Xe=L==="normal"?(De-Ge+ut)*Me:L*E,zn=(Xe-(De-Ge)*Me)/2,$e=Math.min(Xe,(De-Ge)*Me),je=(De+Ge)/2*Me+$e/2;R={index:Ue.size,src:be.src,fontObj:be,fontSizeMult:Me,unitsPerEm:it,ascender:De*Me,descender:Ge*Me,capHeight:Ye*Me,xHeight:He*Me,lineHeight:Xe,baseline:-zn-De*Me,caretTop:je,caretBottom:je-$e},Ue.set(be,R)}const{fontSizeMult:oe}=R,he=S.slice(ke.start,ke.end+1);let Be,Ne;be.forEachGlyph(he,E,M,(Me,Xe,zn,$e)=>{Xe+=xe,$e+=ke.start,Be=Xe,Ne=Me;const je=S.charAt($e),et=Me.advanceWidth*oe,nt=re.count;let Fe;if("isEmpty"in Me||(Me.isWhitespace=!!je&&new RegExp(i).test(je),Me.canBreakAfter=!!je&&r.test(je),Me.isEmpty=Me.xMin===Me.xMax||Me.yMin===Me.yMax||l.test(je)),!Me.isWhitespace&&!Me.isEmpty&&ye++,Ee&&Z&&!Me.isWhitespace&&Xe+et+Te>D&&nt){if(re.glyphAt(nt-1).glyphObj.canBreakAfter)Fe=new v,Te=-Xe;else for(let ht=nt;ht--;)if(ht===0&&U==="break-word"){Fe=new v,Te=-Xe;break}else if(re.glyphAt(ht).glyphObj.canBreakAfter){Fe=re.splitAt(ht+1);const Mt=Fe.glyphAt(0).x;Te-=Mt;for(let yt=Fe.count;yt--;)Fe.glyphAt(yt).x-=Mt;break}Fe&&(re.isSoftWrapped=!0,re=Fe,ze.push(re),Ie=D)}let tt=re.glyphAt(re.count);tt.glyphObj=Me,tt.x=Xe+Te,tt.y=zn,tt.width=et,tt.charIndex=$e,tt.fontData=R,je===`
`&&(re=new v,ze.push(re),Te=-(Xe+et+M*E)+I)}),xe=Be+Ne.advanceWidth*oe+M*E});let me=0;ze.forEach(ke=>{let be=!0;for(let De=ke.count;De--;){const Ge=ke.glyphAt(De);be&&!Ge.glyphObj.isWhitespace&&(ke.width=Ge.x+Ge.width,ke.width>Ie&&(Ie=ke.width),be=!1);let{lineHeight:it,capHeight:ut,xHeight:Ye,baseline:He}=Ge.fontData;it>ke.lineHeight&&(ke.lineHeight=it);const R=He-ke.baseline;R<0&&(ke.baseline+=R,ke.cap+=R,ke.ex+=R),ke.cap=Math.max(ke.cap,ke.baseline+ut),ke.ex=Math.max(ke.ex,ke.baseline+Ye)}ke.baseline-=me,ke.cap-=me,ke.ex-=me,me+=ke.lineHeight});let _e=0,ge=0;if(Q&&(typeof Q=="number"?_e=-Q:typeof Q=="string"&&(_e=-Ie*(Q==="left"?0:Q==="center"?.5:Q==="right"?1:h(Q)))),Y&&(typeof Y=="number"?ge=-Y:typeof Y=="string"&&(ge=Y==="top"?0:Y==="top-baseline"?-ze[0].baseline:Y==="top-cap"?-ze[0].cap:Y==="top-ex"?-ze[0].ex:Y==="middle"?me/2:Y==="bottom"?me:Y==="bottom-baseline"?-ze[ze.length-1].baseline:h(Y)*me)),!ae){const ke=n.getEmbeddingLevels(S,z);ne=new Uint16Array(ye),ee=new Uint8Array(ye),ie=new Float32Array(ye*2),de={},se=[1/0,1/0,-1/0,-1/0],Re=[],X&&(le=new Float32Array(S.length*4)),B&&(we=new Uint8Array(ye*3));let be=0,De=-1,Ge=-1,it,ut;if(ze.forEach((Ye,He)=>{let{count:R,width:oe}=Ye;if(R>0){let he=0;for(let $e=R;$e--&&Ye.glyphAt($e).glyphObj.isWhitespace;)he++;let Be=0,Ne=0;if(V==="center")Be=(Ie-oe)/2;else if(V==="right")Be=Ie-oe;else if(V==="justify"&&Ye.isSoftWrapped){let $e=0;for(let je=R-he;je--;)Ye.glyphAt(je).glyphObj.isWhitespace&&$e++;Ne=(Ie-oe)/$e}if(Ne||Be){let $e=0;for(let je=0;je<R;je++){let et=Ye.glyphAt(je);const nt=et.glyphObj;et.x+=Be+$e,Ne!==0&&nt.isWhitespace&&je<R-he&&($e+=Ne,et.width+=Ne)}}const Me=n.getReorderSegments(S,ke,Ye.glyphAt(0).charIndex,Ye.glyphAt(Ye.count-1).charIndex);for(let $e=0;$e<Me.length;$e++){const[je,et]=Me[$e];let nt=1/0,Fe=-1/0;for(let tt=0;tt<R;tt++)if(Ye.glyphAt(tt).charIndex>=je){let ht=tt,Mt=tt;for(;Mt<R;Mt++){let yt=Ye.glyphAt(Mt);if(yt.charIndex>et)break;Mt<R-he&&(nt=Math.min(nt,yt.x),Fe=Math.max(Fe,yt.x+yt.width))}for(let yt=ht;yt<Mt;yt++){const ln=Ye.glyphAt(yt);ln.x=Fe-(ln.x+ln.width-nt)}break}}let Xe;const zn=$e=>Xe=$e;for(let $e=0;$e<R;$e++){const je=Ye.glyphAt($e);Xe=je.glyphObj;const et=Xe.index,nt=ke.levels[je.charIndex]&1;if(nt){const Fe=n.getMirroredCharacter(S[je.charIndex]);Fe&&je.fontData.fontObj.forEachGlyph(Fe,0,0,zn)}if(X){const{charIndex:Fe,fontData:tt}=je,ht=je.x+_e,Mt=je.x+je.width+_e;le[Fe*4]=nt?Mt:ht,le[Fe*4+1]=nt?ht:Mt,le[Fe*4+2]=Ye.baseline+tt.caretBottom+ge,le[Fe*4+3]=Ye.baseline+tt.caretTop+ge;const yt=Fe-De;yt>1&&d(le,De,yt),De=Fe}if(B){const{charIndex:Fe}=je;for(;Fe>Ge;)Ge++,B.hasOwnProperty(Ge)&&(ut=B[Ge])}if(!Xe.isWhitespace&&!Xe.isEmpty){const Fe=be++,{fontSizeMult:tt,src:ht,index:Mt}=je.fontData,yt=de[ht]||(de[ht]={});yt[et]||(yt[et]={path:Xe.path,pathBounds:[Xe.xMin,Xe.yMin,Xe.xMax,Xe.yMax]});const ln=je.x+_e,Bn=je.y+Ye.baseline+ge;ie[Fe*2]=ln,ie[Fe*2+1]=Bn;const un=ln+Xe.xMin*tt,Zn=Bn+Xe.yMin*tt,cn=ln+Xe.xMax*tt,Nn=Bn+Xe.yMax*tt;un<se[0]&&(se[0]=un),Zn<se[1]&&(se[1]=Zn),cn>se[2]&&(se[2]=cn),Nn>se[3]&&(se[3]=Nn),Fe%G===0&&(it={start:Fe,end:Fe,rect:[1/0,1/0,-1/0,-1/0]},Re.push(it)),it.end++;const Ot=it.rect;if(un<Ot[0]&&(Ot[0]=un),Zn<Ot[1]&&(Ot[1]=Zn),cn>Ot[2]&&(Ot[2]=cn),Nn>Ot[3]&&(Ot[3]=Nn),ne[Fe]=et,ee[Fe]=Mt,B){const nr=Fe*3;we[nr]=ut>>16&255,we[nr+1]=ut>>8&255,we[nr+2]=ut&255}}}}}),le){const Ye=S.length-De;Ye>1&&d(le,De,Ye)}}const qe=[];Ue.forEach(({index:ke,src:be,unitsPerEm:De,ascender:Ge,descender:it,lineHeight:ut,capHeight:Ye,xHeight:He})=>{qe[ke]={src:be,unitsPerEm:De,ascender:Ge,descender:it,lineHeight:ut,capHeight:Ye,xHeight:He}}),W.typesetting=m()-ue,b({glyphIds:ne,glyphFontIndices:ee,glyphPositions:ie,glyphData:de,fontData:qe,caretPositions:le,glyphColors:we,chunkedBounds:Re,fontSize:E,topBaseline:ge+ze[0].baseline,blockBounds:[_e,ge-me,_e+Ie,ge],visibleBounds:se,timings:W})})}function f(S,_){c({...S,metricsOnly:!0},w=>{const[C,E,T,P]=w.blockBounds;_({width:T-C,height:P-E})})}function h(S){let _=S.match(/^([\d.]+)%$/),w=_?parseFloat(_[1]):NaN;return isNaN(w)?0:w/100}function d(S,_,w){const C=S[_*4],E=S[_*4+1],T=S[_*4+2],P=S[_*4+3],M=(E-C)/w;for(let L=0;L<w;L++){const D=(_+L)*4;S[D]=C+M*L,S[D+1]=C+M*(L+1),S[D+2]=T,S[D+3]=P}}function m(){return(self.performance||Date).now()}function v(){this.data=[]}const x=["glyphObj","x","y","width","charIndex","fontData"];return v.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/x.length)},glyphAt(S){let _=v.flyweight;return _.data=this.data,_.index=S,_},splitAt(S){let _=new v;return _.data=this.data.splice(S*x.length),_}},v.flyweight=x.reduce((S,_,w,C)=>(Object.defineProperty(S,_,{get(){return this.data[this.index*x.length+w]},set(E){this.data[this.index*x.length+w]=E}}),S),{data:null,index:0}),{typeset:c,measure:f}}const Hr=()=>(self.performance||Date).now(),Ds=Gf();let Mc;function e0(o,n,s,l,i,r,u,c,f,h,d=!0){return d?n0(o,n,s,l,i,r,u,c,f,h).then(null,m=>(Mc||(console.warn("WebGL SDF generation failed, falling back to JS",m),Mc=!0),Rc(o,n,s,l,i,r,u,c,f,h))):Rc(o,n,s,l,i,r,u,c,f,h)}const Es=[],t0=5;let il=0;function Vf(){const o=Hr();for(;Es.length&&Hr()-o<t0;)Es.shift()();il=Es.length?setTimeout(Vf,0):0}const n0=(...o)=>new Promise((n,s)=>{Es.push(()=>{const l=Hr();try{Ds.webgl.generateIntoCanvas(...o),n({timing:Hr()-l})}catch(i){s(i)}}),il||(il=setTimeout(Vf,0))}),r0=4,o0=2e3,Lc={};let i0=0;function Rc(o,n,s,l,i,r,u,c,f,h){const d="TroikaTextSDFGenerator_JS_"+i0++%r0;let m=Lc[d];return m||(m=Lc[d]={workerModule:Ro({name:d,workerId:d,dependencies:[Gf,Hr],init(v,x){const S=v().javascript.generate;return function(..._){const w=x();return{textureData:S(..._),timing:x()-w}}},getTransferables(v){return[v.textureData.buffer]}}),requests:0,idleTimer:null}),m.requests++,clearTimeout(m.idleTimer),m.workerModule(o,n,s,l,i,r).then(({textureData:v,timing:x})=>{const S=Hr(),_=new Uint8Array(v.length*4);for(let w=0;w<v.length;w++)_[w*4+h]=v[w];return Ds.webglUtils.renderImageData(u,_,c,f,o,n,1<<3-h),x+=Hr()-S,--m.requests===0&&(m.idleTimer=setTimeout(()=>{Op(d)},o0)),{timing:x}})}function s0(o){o._warm||(Ds.webgl.isSupported(o),o._warm=!0)}const a0=Ds.webglUtils.resizeWebGLCanvasWithoutClearing,Eo={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},l0=new Ls;function wo(){return(self.performance||Date).now()}const Uc=Object.create(null);function Zf(o,n){o=f0({},o);const s=wo(),{defaultFontURL:l}=Eo,i=[];if(l&&i.push({label:"default",src:Ac(l)}),o.font&&i.push({label:"user",src:Ac(o.font)}),o.font=i,o.text=""+o.text,o.sdfGlyphSize=o.sdfGlyphSize||Eo.sdfGlyphSize,o.unicodeFontsURL=o.unicodeFontsURL||Eo.unicodeFontsURL,o.colorRanges!=null){let v={};for(let x in o.colorRanges)if(o.colorRanges.hasOwnProperty(x)){let S=o.colorRanges[x];typeof S!="number"&&(S=l0.set(S).getHex()),v[x]=S}o.colorRanges=v}Object.freeze(o);const{textureWidth:r,sdfExponent:u}=Eo,{sdfGlyphSize:c}=o,f=r/c*4;let h=Uc[c];if(!h){const v=document.createElement("canvas");v.width=r,v.height=c*256/f,h=Uc[c]={glyphCount:0,sdfGlyphSize:c,sdfCanvas:v,sdfTexture:new of(v,void 0,void 0,void 0,Ts,Ts),contextLost:!1,glyphsByFont:new Map},h.sdfTexture.generateMipmaps=!1,u0(h)}const{sdfTexture:d,sdfCanvas:m}=h;h0(o).then(v=>{const{glyphIds:x,glyphFontIndices:S,fontData:_,glyphPositions:w,fontSize:C,timings:E}=v,T=[],P=new Float32Array(x.length*4);let M=0,L=0;const D=wo(),z=_.map(Q=>{let Y=h.glyphsByFont.get(Q.src);return Y||h.glyphsByFont.set(Q.src,Y=new Map),Y});x.forEach((Q,Y)=>{const ae=S[Y],{src:te,unitsPerEm:fe}=_[ae];let X=z[ae].get(Q);if(!X){const{path:W,pathBounds:J}=v.glyphData[te][Q],Z=Math.max(J[2]-J[0],J[3]-J[1])/c*(Eo.sdfMargin*c+.5),ne=h.glyphCount++,ee=[J[0]-Z,J[1]-Z,J[2]+Z,J[3]+Z];z[ae].set(Q,X={path:W,atlasIndex:ne,sdfViewBox:ee}),T.push(X)}const{sdfViewBox:G}=X,B=w[L++],b=w[L++],F=C/fe;P[M++]=B+G[0]*F,P[M++]=b+G[1]*F,P[M++]=B+G[2]*F,P[M++]=b+G[3]*F,x[Y]=X.atlasIndex}),E.quads=(E.quads||0)+(wo()-D);const V=wo();E.sdf={};const I=m.height,K=Math.ceil(h.glyphCount/f),U=Math.pow(2,Math.ceil(Math.log2(K*c)));U>I&&(console.info(`Increasing SDF texture size ${I}->${U}`),a0(m,r,U),d.dispose()),Promise.all(T.map(Q=>Yf(Q,h,o.gpuAccelerateSDF).then(({timing:Y})=>{E.sdf[Q.atlasIndex]=Y}))).then(()=>{T.length&&!h.contextLost&&(Xf(h),d.needsUpdate=!0),E.sdfTotal=wo()-V,E.total=wo()-s,n(Object.freeze({parameters:o,sdfTexture:d,sdfGlyphSize:c,sdfExponent:u,glyphBounds:P,glyphAtlasIndices:x,glyphColors:v.glyphColors,caretPositions:v.caretPositions,chunkedBounds:v.chunkedBounds,ascender:v.ascender,descender:v.descender,lineHeight:v.lineHeight,capHeight:v.capHeight,xHeight:v.xHeight,topBaseline:v.topBaseline,blockBounds:v.blockBounds,visibleBounds:v.visibleBounds,timings:v.timings}))})}),Promise.resolve().then(()=>{h.contextLost||s0(m)})}function Yf({path:o,atlasIndex:n,sdfViewBox:s},{sdfGlyphSize:l,sdfCanvas:i,contextLost:r},u){if(r)return Promise.resolve({timing:-1});const{textureWidth:c,sdfExponent:f}=Eo,h=Math.max(s[2]-s[0],s[3]-s[1]),d=Math.floor(n/4),m=d%(c/l)*l,v=Math.floor(d/(c/l))*l,x=n%4;return e0(l,l,o,s,h,f,i,m,v,x,u)}function u0(o){const n=o.sdfCanvas;n.addEventListener("webglcontextlost",s=>{console.log("Context Lost",s),s.preventDefault(),o.contextLost=!0}),n.addEventListener("webglcontextrestored",s=>{console.log("Context Restored",s),o.contextLost=!1;const l=[];o.glyphsByFont.forEach(i=>{i.forEach(r=>{l.push(Yf(r,o,!0))})}),Promise.all(l).then(()=>{Xf(o),o.sdfTexture.needsUpdate=!0})})}function c0({font:o,characters:n,sdfGlyphSize:s},l){let i=Array.isArray(n)?n.join(`
`):""+n;Zf({font:o,sdfGlyphSize:s,text:i},l)}function f0(o,n){for(let s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);return o}let xs;function Ac(o){return xs||(xs=typeof document>"u"?{}:document.createElement("a")),xs.href=o,xs.href}function Xf(o){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:n,sdfTexture:s}=o,{width:l,height:i}=n,r=o.sdfCanvas.getContext("webgl");let u=s.image.data;(!u||u.length!==l*i*4)&&(u=new Uint8Array(l*i*4),s.image={width:l,height:i,data:u},s.flipY=!1,s.isDataTexture=!0),r.readPixels(0,0,l,i,r.RGBA,r.UNSIGNED_BYTE,u)}}const d0=Ro({name:"Typesetter",dependencies:[$p,qp,jp],init(o,n,s){return o(n,s())}}),h0=Ro({name:"Typesetter",dependencies:[d0],init(o){return function(n){return new Promise(s=>{o.typeset(n,s)})}},getTransferables(o){const n=[];for(let s in o)o[s]&&o[s].buffer&&n.push(o[s].buffer);return n}}),Dc={};function p0(o){let n=Dc[o];if(!n){const s=new Rs(1,1,o,o),l=s.clone(),i=s.attributes,r=l.attributes,u=new sf,c=i.uv.count;for(let f=0;f<c;f++)r.position.array[f*3]*=-1,r.normal.array[f*3+2]*=-1;["position","normal","uv"].forEach(f=>{u.setAttribute(f,new E1([...i[f].array,...r[f].array],i[f].itemSize))}),u.setIndex([...s.index.array,...l.index.array.map(f=>f+c)]),u.translate(.5,.5,0),n=Dc[o]=u}return n}const m0="aTroikaGlyphBounds",Ic="aTroikaGlyphIndex",g0="aTroikaGlyphColor";class v0 extends g1{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new v1,this.boundingBox=new y1}computeBoundingSphere(){}computeBoundingBox(){}setSide(n){const s=this.getIndex().count;this.setDrawRange(n===x1?s/2:0,n===af?s:s/2)}set detail(n){if(n!==this._detail){this._detail=n,(typeof n!="number"||n<1)&&(n=1);let s=p0(n);["position","normal","uv"].forEach(l=>{this.attributes[l]=s.attributes[l].clone()}),this.setIndex(s.getIndex().clone())}}get detail(){return this._detail}set curveRadius(n){n!==this._curveRadius&&(this._curveRadius=n,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(n,s,l,i,r){Va(this,m0,n,4),Va(this,Ic,s,1),Va(this,g0,r,3),this._blockBounds=l,this._chunkedBounds=i,this.instanceCount=s.length,this._updateBounds()}_updateBounds(){const n=this._blockBounds;if(n){const{curveRadius:s,boundingBox:l}=this;if(s){const{PI:i,floor:r,min:u,max:c,sin:f,cos:h}=Math,d=i/2,m=i*2,v=Math.abs(s),x=n[0]/v,S=n[2]/v,_=r((x+d)/m)!==r((S+d)/m)?-v:u(f(x)*v,f(S)*v),w=r((x-d)/m)!==r((S-d)/m)?v:c(f(x)*v,f(S)*v),C=r((x+i)/m)!==r((S+i)/m)?v*2:c(v-h(x)*v,v-h(S)*v);l.min.set(_,n[1],s<0?-C:0),l.max.set(w,n[3],s<0?0:C)}else l.min.set(n[0],n[1],0),l.max.set(n[2],n[3],0);l.getBoundingSphere(this.boundingSphere)}}applyClipRect(n){let s=this.getAttribute(Ic).count,l=this._chunkedBounds;if(l)for(let i=l.length;i--;){s=l[i].end;let r=l[i].rect;if(r[1]<n.w&&r[3]>n.y&&r[0]<n.z&&r[2]>n.x)break}this.instanceCount=s}}function Va(o,n,s,l){const i=o.getAttribute(n);s?i&&i.array.length===s.length?(i.array.set(s),i.needsUpdate=!0):(o.setAttribute(n,new w1(s,l)),delete o._maxInstanceCount,o.dispose()):i&&o.deleteAttribute(n)}const y0=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,x0=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,w0=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,S0=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function C0(o){const n=ol(o,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Gt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Zu(0,0,0,0)},uTroikaClipRect:{value:new Zu(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Gt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Ls},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new S1},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:y0,vertexTransform:x0,fragmentDefs:w0,fragmentColorTransform:S0,customRewriter({vertexShader:s,fragmentShader:l}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(l)&&(l=l.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(s)||(s=s.replace(Hf,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:s,fragmentShader:l}}});return n.transparent=!0,Object.defineProperties(n,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),n}const dl=new C1({color:16777215,side:af,transparent:!0}),Oc=8421504,Fc=new _1,ws=new kt,Za=new kt,ci=[],_0=new kt,Ya="+x+y";function jc(o){return Array.isArray(o)?o[0]:o}let Qf=()=>{const o=new yi(new Rs(1,1),dl);return Qf=()=>o,o},Kf=()=>{const o=new yi(new Rs(1,1,32,1),dl);return Kf=()=>o,o};const E0={type:"syncstart"},k0={type:"synccomplete"},Jf=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],T0=Jf.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let qf=class extends yi{constructor(){const n=new v0;super(n,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Oc,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Ya,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(n){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(n):(this._isSyncing=!0,this.dispatchEvent(E0),Zf({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},s=>{this._isSyncing=!1,this._textRenderInfo=s,this.geometry.updateGlyphs(s.glyphBounds,s.glyphAtlasIndices,s.blockBounds,s.chunkedBounds,s.glyphColors);const l=this._queuedSyncs;l&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{l.forEach(i=>i&&i())})),this.dispatchEvent(k0),n&&n()})))}onBeforeRender(n,s,l,i,r,u){this.sync(),r.isTroikaTextMaterial&&this._prepareForRender(r),r._hadOwnSide=r.hasOwnProperty("side"),this.geometry.setSide(r._actualSide=r.side),r.side=m1}onAfterRender(n,s,l,i,r,u){r._hadOwnSide?r.side=r._actualSide:delete r.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let n=this._derivedMaterial;const s=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=dl.clone());if((!n||n.baseMaterial!==s)&&(n=this._derivedMaterial=C0(s),s.addEventListener("dispose",function l(){s.removeEventListener("dispose",l),n.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let l=n._outlineMtl;return l||(l=n._outlineMtl=Object.create(n,{id:{value:n.id+.1}}),l.isTextOutlineMaterial=!0,l.depthWrite=!1,l.map=null,n.addEventListener("dispose",function i(){n.removeEventListener("dispose",i),l.dispose()})),[l,n]}else return n}set material(n){n&&n.isTroikaTextMaterial?(this._derivedMaterial=n,this._baseMaterial=n.baseMaterial):this._baseMaterial=n}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(n){this.geometry.detail=n}get curveRadius(){return this.geometry.curveRadius}set curveRadius(n){this.geometry.curveRadius=n}get customDepthMaterial(){return jc(this.material).getDepthMaterial()}get customDistanceMaterial(){return jc(this.material).getDistanceMaterial()}_prepareForRender(n){const s=n.isTextOutlineMaterial,l=n.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:c,blockBounds:f}=i;l.uTroikaSDFTexture.value=c,l.uTroikaSDFTextureSize.value.set(c.image.width,c.image.height),l.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,l.uTroikaSDFExponent.value=i.sdfExponent,l.uTroikaTotalBounds.value.fromArray(f),l.uTroikaUseGlyphColors.value=!s&&!!i.glyphColors;let h=0,d=0,m=0,v,x,S,_=0,w=0;if(s){let{outlineWidth:E,outlineOffsetX:T,outlineOffsetY:P,outlineBlur:M,outlineOpacity:L}=this;h=this._parsePercent(E)||0,d=Math.max(0,this._parsePercent(M)||0),v=L,_=this._parsePercent(T)||0,w=this._parsePercent(P)||0}else m=Math.max(0,this._parsePercent(this.strokeWidth)||0),m&&(S=this.strokeColor,l.uTroikaStrokeColor.value.set(S??Oc),x=this.strokeOpacity,x==null&&(x=1)),v=this.fillOpacity;l.uTroikaDistanceOffset.value=h,l.uTroikaPositionOffset.value.set(_,w),l.uTroikaBlurRadius.value=d,l.uTroikaStrokeWidth.value=m,l.uTroikaStrokeOpacity.value=x,l.uTroikaFillOpacity.value=v??1,l.uTroikaCurveRadius.value=this.curveRadius||0;let C=this.clipRect;if(C&&Array.isArray(C)&&C.length===4)l.uTroikaClipRect.value.fromArray(C);else{const E=(this.fontSize||.1)*100;l.uTroikaClipRect.value.set(f[0]-E,f[1]-E,f[2]+E,f[3]+E)}this.geometry.applyClipRect(l.uTroikaClipRect.value)}l.uTroikaSDFDebug.value=!!this.debugSDF,n.polygonOffset=!!this.depthOffset,n.polygonOffsetFactor=n.polygonOffsetUnits=this.depthOffset||0;const r=s?this.outlineColor||0:this.color;if(r==null)delete n.color;else{const c=n.hasOwnProperty("color")?n.color:n.color=new Ls;(r!==c._input||typeof r=="object")&&c.set(c._input=r)}let u=this.orientation||Ya;if(u!==n._orientation){let c=l.uTroikaOrient.value;u=u.replace(/[^-+xyz]/g,"");let f=u!==Ya&&u.match(/^([-+])([xyz])([-+])([xyz])$/);if(f){let[,h,d,m,v]=f;ws.set(0,0,0)[d]=h==="-"?1:-1,Za.set(0,0,0)[v]=m==="-"?-1:1,Fc.lookAt(_0,ws.cross(Za),Za),c.setFromMatrix4(Fc)}else c.identity();n._orientation=u}}_parsePercent(n){if(typeof n=="string"){let s=n.match(/^(-?[\d.]+)%$/),l=s?parseFloat(s[1]):NaN;n=(isNaN(l)?0:l/100)*this.fontSize}return n}localPositionToTextCoords(n,s=new Gt){s.copy(n);const l=this.curveRadius;return l&&(s.x=Math.atan2(n.x,Math.abs(l)-Math.abs(n.z))*Math.abs(l)),s}worldPositionToTextCoords(n,s=new Gt){return ws.copy(n),this.localPositionToTextCoords(this.worldToLocal(ws),s)}raycast(n,s){const{textRenderInfo:l,curveRadius:i}=this;if(l){const r=l.blockBounds,u=i?Kf():Qf(),c=u.geometry,{position:f,uv:h}=c.attributes;for(let d=0;d<h.count;d++){let m=r[0]+h.getX(d)*(r[2]-r[0]);const v=r[1]+h.getY(d)*(r[3]-r[1]);let x=0;i&&(x=i-Math.cos(m/i)*i,m=Math.sin(m/i)*i),f.setXYZ(d,m,v,x)}c.boundingSphere=this.geometry.boundingSphere,c.boundingBox=this.geometry.boundingBox,u.matrixWorld=this.matrixWorld,u.material.side=this.material.side,ci.length=0,u.raycast(n,ci);for(let d=0;d<ci.length;d++)ci[d].object=this,s.push(ci[d])}}copy(n){const s=this.geometry;return super.copy(n),this.geometry=s,T0.forEach(l=>{this[l]=n[l]}),this}clone(){return new this.constructor().copy(this)}};Jf.forEach(o=>{const n="_private_"+o;Object.defineProperty(qf.prototype,o,{get(){return this[n]},set(s){s!==this[n]&&(this[n]=s,this._needsSync=!0)}})});const zc=N.forwardRef(({sdfGlyphSize:o=64,anchorX:n="center",anchorY:s="middle",font:l,fontSize:i=1,children:r,characters:u,onSync:c,...f},h)=>{const d=Ht(({invalidate:S})=>S),[m]=N.useState(()=>new qf),[v,x]=N.useMemo(()=>{const S=[];let _="";return N.Children.forEach(r,w=>{typeof w=="string"||typeof w=="number"?_+=w:S.push(w)}),[S,_]},[r]);return Z1(()=>new Promise(S=>c0({font:l,characters:u},S)),["troika-text",l,u]),N.useLayoutEffect(()=>void m.sync(()=>{d(),c&&c(m)})),N.useEffect(()=>()=>m.dispose(),[m]),N.createElement("primitive",bs({object:m,ref:h,font:l,text:x,anchorX:n,anchorY:s,fontSize:i,sdfGlyphSize:o},f),v)});function m2(o,n,s){const l=Ht(v=>v.size),i=Ht(v=>v.viewport),r=typeof o=="number"?o:l.width*i.dpr,u=typeof n=="number"?n:l.height*i.dpr,c=(typeof o=="number"?s:o)||{},{samples:f=0,depth:h,...d}=c,m=N.useMemo(()=>{const v=new k1(r,u,{minFilter:Ts,magFilter:Ts,type:lf,...d});return h&&(v.depthTexture=new T1(r,u,b1)),v.samples=f,v},[]);return N.useLayoutEffect(()=>{m.setSize(r,u),f&&(m.samples=f)},[f,m,r,u]),N.useEffect(()=>()=>m.dispose(),[]),m}function g2({resolution:o=256,near:n=.1,far:s=1e3,envMap:l,fog:i}={}){const r=Ht(({gl:v})=>v),u=Ht(({scene:v})=>v),c=N.useMemo(()=>{const v=new P1(o);return v.texture.type=lf,v},[o]);N.useEffect(()=>()=>{c.dispose()},[c]);const f=N.useMemo(()=>new M1(n,s,c),[n,s,c]);let h,d;const m=N.useCallback(()=>{h=u.fog,d=u.background,u.background=l||d,u.fog=i||h,f.update(r,u),u.fog=h,u.background=d},[r,u,f]);return{fbo:c,camera:f,update:m}}const v2=N.forwardRef(({makeDefault:o,camera:n,regress:s,domElement:l,enableDamping:i=!0,keyEvents:r=!1,onChange:u,onStart:c,onEnd:f,...h},d)=>{const m=Ht(L=>L.invalidate),v=Ht(L=>L.camera),x=Ht(L=>L.gl),S=Ht(L=>L.events),_=Ht(L=>L.setEvents),w=Ht(L=>L.set),C=Ht(L=>L.get),E=Ht(L=>L.performance),T=n||v,P=l||S.connected||x.domElement,M=N.useMemo(()=>new Mp(T),[T]);return cl(()=>{M.enabled&&M.update()},-1),N.useEffect(()=>(r&&M.connect(r===!0?P:r),M.connect(P),()=>void M.dispose()),[r,P,s,M,m]),N.useEffect(()=>{const L=V=>{m(),s&&E.regress(),u&&u(V)},D=V=>{c&&c(V)},z=V=>{f&&f(V)};return M.addEventListener("change",L),M.addEventListener("start",D),M.addEventListener("end",z),()=>{M.removeEventListener("start",D),M.removeEventListener("end",z),M.removeEventListener("change",L)}},[u,c,f,M,m,_]),N.useEffect(()=>{if(o){const L=C().controls;return w({controls:M}),()=>w({controls:L})}},[o,M]),N.createElement("primitive",bs({ref:d,object:M,enableDamping:i},h))});var $f={exports:{}},b0="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",P0=b0,M0=P0;function ed(){}function td(){}td.resetWarningCache=ed;var L0=function(){function o(l,i,r,u,c,f){if(f!==M0){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}o.isRequired=o;function n(){return o}var s={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:n,element:o,elementType:o,instanceOf:n,node:o,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:td,resetWarningCache:ed};return s.PropTypes=s,s};$f.exports=L0();var R0=$f.exports;const y2=vi(R0),U0={BASE_URL:"/hengkang.guthub.io",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Bc=o=>{let n;const s=new Set,l=(d,m)=>{const v=typeof d=="function"?d(n):d;if(!Object.is(v,n)){const x=n;n=m??(typeof v!="object"||v===null)?v:Object.assign({},n,v),s.forEach(S=>S(n,x))}},i=()=>n,f={setState:l,getState:i,getInitialState:()=>h,subscribe:d=>(s.add(d),()=>s.delete(d)),destroy:()=>{(U0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},h=n=o(l,i,f);return f},nd=o=>o?Bc(o):Bc;var rd={exports:{}},od={},id={exports:{}},sd={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=N;function A0(o,n){return o===n&&(o!==0||1/o===1/n)||o!==o&&n!==n}var D0=typeof Object.is=="function"?Object.is:A0,I0=Lo.useState,O0=Lo.useEffect,F0=Lo.useLayoutEffect,j0=Lo.useDebugValue;function z0(o,n){var s=n(),l=I0({inst:{value:s,getSnapshot:n}}),i=l[0].inst,r=l[1];return F0(function(){i.value=s,i.getSnapshot=n,Xa(i)&&r({inst:i})},[o,s,n]),O0(function(){return Xa(i)&&r({inst:i}),o(function(){Xa(i)&&r({inst:i})})},[o]),j0(s),s}function Xa(o){var n=o.getSnapshot;o=o.value;try{var s=n();return!D0(o,s)}catch{return!0}}function B0(o,n){return n()}var N0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?B0:z0;sd.useSyncExternalStore=Lo.useSyncExternalStore!==void 0?Lo.useSyncExternalStore:N0;id.exports=sd;var W0=id.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=N,G0=W0;function H0(o,n){return o===n&&(o!==0||1/o===1/n)||o!==o&&n!==n}var V0=typeof Object.is=="function"?Object.is:H0,Z0=G0.useSyncExternalStore,Y0=Is.useRef,X0=Is.useEffect,Q0=Is.useMemo,K0=Is.useDebugValue;od.useSyncExternalStoreWithSelector=function(o,n,s,l,i){var r=Y0(null);if(r.current===null){var u={hasValue:!1,value:null};r.current=u}else u=r.current;r=Q0(function(){function f(x){if(!h){if(h=!0,d=x,x=l(x),i!==void 0&&u.hasValue){var S=u.value;if(i(S,x))return m=S}return m=x}if(S=m,V0(d,x))return S;var _=l(x);return i!==void 0&&i(S,_)?S:(d=x,m=_)}var h=!1,d,m,v=s===void 0?null:s;return[function(){return f(n())},v===null?void 0:function(){return f(v())}]},[n,s,l,i]);var c=Z0(o,r[0],r[1]);return X0(function(){u.hasValue=!0,u.value=c},[c]),K0(c),c};rd.exports=od;var J0=rd.exports;const ad=vi(J0),ld={BASE_URL:"/hengkang.guthub.io",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:q0}=In,{useSyncExternalStoreWithSelector:$0}=ad;let Nc=!1;const em=o=>o;function tm(o,n=em,s){(ld?"production":void 0)!=="production"&&s&&!Nc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Nc=!0);const l=$0(o.subscribe,o.getState,o.getServerState||o.getInitialState,n,s);return q0(l),l}const Wc=o=>{(ld?"production":void 0)!=="production"&&typeof o!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof o=="function"?nd(o):o,s=(l,i)=>tm(n,l,i);return Object.assign(s,n),s},x2=o=>o?Wc(o):Wc;var lt="colors",en="sizes",Ce="space",nm={gap:Ce,gridGap:Ce,columnGap:Ce,gridColumnGap:Ce,rowGap:Ce,gridRowGap:Ce,inset:Ce,insetBlock:Ce,insetBlockEnd:Ce,insetBlockStart:Ce,insetInline:Ce,insetInlineEnd:Ce,insetInlineStart:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,marginBlock:Ce,marginBlockEnd:Ce,marginBlockStart:Ce,marginInline:Ce,marginInlineEnd:Ce,marginInlineStart:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,paddingBlock:Ce,paddingBlockEnd:Ce,paddingBlockStart:Ce,paddingInline:Ce,paddingInlineEnd:Ce,paddingInlineStart:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,scrollMargin:Ce,scrollMarginTop:Ce,scrollMarginRight:Ce,scrollMarginBottom:Ce,scrollMarginLeft:Ce,scrollMarginX:Ce,scrollMarginY:Ce,scrollMarginBlock:Ce,scrollMarginBlockEnd:Ce,scrollMarginBlockStart:Ce,scrollMarginInline:Ce,scrollMarginInlineEnd:Ce,scrollMarginInlineStart:Ce,scrollPadding:Ce,scrollPaddingTop:Ce,scrollPaddingRight:Ce,scrollPaddingBottom:Ce,scrollPaddingLeft:Ce,scrollPaddingX:Ce,scrollPaddingY:Ce,scrollPaddingBlock:Ce,scrollPaddingBlockEnd:Ce,scrollPaddingBlockStart:Ce,scrollPaddingInline:Ce,scrollPaddingInlineEnd:Ce,scrollPaddingInlineStart:Ce,fontSize:"fontSizes",background:lt,backgroundColor:lt,backgroundImage:lt,borderImage:lt,border:lt,borderBlock:lt,borderBlockEnd:lt,borderBlockStart:lt,borderBottom:lt,borderBottomColor:lt,borderColor:lt,borderInline:lt,borderInlineEnd:lt,borderInlineStart:lt,borderLeft:lt,borderLeftColor:lt,borderRight:lt,borderRightColor:lt,borderTop:lt,borderTopColor:lt,caretColor:lt,color:lt,columnRuleColor:lt,fill:lt,outline:lt,outlineColor:lt,stroke:lt,textDecorationColor:lt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:en,minBlockSize:en,maxBlockSize:en,inlineSize:en,minInlineSize:en,maxInlineSize:en,width:en,minWidth:en,maxWidth:en,height:en,minHeight:en,maxHeight:en,flexBasis:en,gridTemplateColumns:en,gridTemplateRows:en,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},rm=(o,n)=>typeof n=="function"?{"()":Function.prototype.toString.call(n)}:n,Uo=()=>{const o=Object.create(null);return(n,s,...l)=>{const i=(r=>JSON.stringify(r,rm))(n);return i in o?o[i]:o[i]=s(n,...l)}},Vr=Symbol.for("sxs.internal"),hl=(o,n)=>Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)),Gc=o=>{for(const n in o)return!0;return!1},{hasOwnProperty:om}=Object.prototype,sl=o=>o.includes("-")?o:o.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),im=/\s+(?![^()]*\))/,So=o=>n=>o(...typeof n=="string"?String(n).split(im):[n]),Hc={appearance:o=>({WebkitAppearance:o,appearance:o}),backfaceVisibility:o=>({WebkitBackfaceVisibility:o,backfaceVisibility:o}),backdropFilter:o=>({WebkitBackdropFilter:o,backdropFilter:o}),backgroundClip:o=>({WebkitBackgroundClip:o,backgroundClip:o}),boxDecorationBreak:o=>({WebkitBoxDecorationBreak:o,boxDecorationBreak:o}),clipPath:o=>({WebkitClipPath:o,clipPath:o}),content:o=>({content:o.includes('"')||o.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(o)?o:`"${o}"`}),hyphens:o=>({WebkitHyphens:o,hyphens:o}),maskImage:o=>({WebkitMaskImage:o,maskImage:o}),maskSize:o=>({WebkitMaskSize:o,maskSize:o}),tabSize:o=>({MozTabSize:o,tabSize:o}),textSizeAdjust:o=>({WebkitTextSizeAdjust:o,textSizeAdjust:o}),userSelect:o=>({WebkitUserSelect:o,userSelect:o}),marginBlock:So((o,n)=>({marginBlockStart:o,marginBlockEnd:n||o})),marginInline:So((o,n)=>({marginInlineStart:o,marginInlineEnd:n||o})),maxSize:So((o,n)=>({maxBlockSize:o,maxInlineSize:n||o})),minSize:So((o,n)=>({minBlockSize:o,minInlineSize:n||o})),paddingBlock:So((o,n)=>({paddingBlockStart:o,paddingBlockEnd:n||o})),paddingInline:So((o,n)=>({paddingInlineStart:o,paddingInlineEnd:n||o}))},Qa=/([\d.]+)([^]*)/,sm=(o,n)=>o.length?o.reduce((s,l)=>(s.push(...n.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(l)&&/&.*&/.test(i)?`:is(${l})`:l):l+" "+i)),s),[]):n,am=(o,n)=>o in lm&&typeof n=="string"?n.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(s,l,i,r)=>l+(i==="stretch"?`-moz-available${r};${sl(o)}:${l}-webkit-fill-available`:`-moz-fit-content${r};${sl(o)}:${l}fit-content`)+r):String(n),lm={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},hr=o=>o?o+"-":"",ud=(o,n,s)=>o.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(l,i,r,u,c)=>u=="$"==!!r?l:(i||u=="--"?"calc(":"")+"var(--"+(u==="$"?hr(n)+(c.includes("$")?"":hr(s))+c.replace(/\$/g,"-"):c)+")"+(i||u=="--"?"*"+(i||"")+(r||"1")+")":"")),um=/\s*,\s*(?![^()]*\))/,cm=Object.prototype.toString,bo=(o,n,s,l,i)=>{let r,u,c;const f=(h,d,m)=>{let v,x;const S=_=>{for(v in _){const E=v.charCodeAt(0)===64,T=E&&Array.isArray(_[v])?_[v]:[_[v]];for(x of T){const P=/[A-Z]/.test(C=v)?C:C.replace(/-[^]/g,L=>L[1].toUpperCase()),M=typeof x=="object"&&x&&x.toString===cm&&(!l.utils[P]||!d.length);if(P in l.utils&&!M){const L=l.utils[P];if(L!==u){u=L,S(L(x)),u=null;continue}}else if(P in Hc){const L=Hc[P];if(L!==c){c=L,S(L(x)),c=null;continue}}if(E&&(w=v.slice(1)in l.media?"@media "+l.media[v.slice(1)]:v,v=w.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(L,D,z,V,I,K)=>{const U=Qa.test(D),Q=.0625*(U?-1:1),[Y,ae]=U?[V,D]:[D,V];return"("+(z[0]==="="?"":z[0]===">"===U?"max-":"min-")+Y+":"+(z[0]!=="="&&z.length===1?ae.replace(Qa,(te,fe,X)=>Number(fe)+Q*(z===">"?1:-1)+X):ae)+(I?") and ("+(I[0]===">"?"min-":"max-")+Y+":"+(I.length===1?K.replace(Qa,(te,fe,X)=>Number(fe)+Q*(I===">"?-1:1)+X):K):"")+")"})),M){const L=E?m.concat(v):[...m],D=E?[...d]:sm(d,v.split(um));r!==void 0&&i(Vc(...r)),r=void 0,f(x,D,L)}else r===void 0&&(r=[[],d,m]),v=E||v.charCodeAt(0)!==36?v:`--${hr(l.prefix)}${v.slice(1).replace(/\$/g,"-")}`,x=M?x:typeof x=="number"?x&&P in fm?String(x)+"px":String(x):ud(am(P,x??""),l.prefix,l.themeMap[P]),r[0].push(`${E?`${v} `:`${sl(v)}:`}${x}`)}}var w,C};S(h),r!==void 0&&i(Vc(...r)),r=void 0};f(o,n,s)},Vc=(o,n,s)=>`${s.map(l=>`${l}{`).join("")}${n.length?`${n.join(",")}{`:""}${o.join(";")}${n.length?"}":""}${Array(s.length?s.length+1:0).join("}")}`,fm={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Zc=o=>String.fromCharCode(o+(o>25?39:97)),Zr=o=>(n=>{let s,l="";for(s=Math.abs(n);s>52;s=s/52|0)l=Zc(s%52)+l;return Zc(s%52)+l})(((n,s)=>{let l=s.length;for(;l;)n=33*n^s.charCodeAt(--l);return n})(5381,JSON.stringify(o))>>>0),pi=["themed","global","styled","onevar","resonevar","allvar","inline"],dm=o=>{if(o.href&&!o.href.startsWith(location.origin))return!1;try{return!!o.cssRules}catch{return!1}},hm=o=>{let n;const s=()=>{const{cssRules:i}=n.sheet;return[].map.call(i,(r,u)=>{const{cssText:c}=r;let f="";if(c.startsWith("--sxs"))return"";if(i[u-1]&&(f=i[u-1].cssText).startsWith("--sxs")){if(!r.cssRules.length)return"";for(const h in n.rules)if(n.rules[h].group===r)return`--sxs{--sxs:${[...n.rules[h].cache].join(" ")}}${c}`;return r.cssRules.length?`${f}${c}`:""}return c}).join("")},l=()=>{if(n){const{rules:c,sheet:f}=n;if(!f.deleteRule){for(;Object(Object(f.cssRules)[0]).type===3;)f.cssRules.splice(0,1);f.cssRules=[]}for(const h in c)delete c[h]}const i=Object(o).styleSheets||[];for(const c of i)if(dm(c)){for(let f=0,h=c.cssRules;h[f];++f){const d=Object(h[f]);if(d.type!==1)continue;const m=Object(h[f+1]);if(m.type!==4)continue;++f;const{cssText:v}=d;if(!v.startsWith("--sxs"))continue;const x=v.slice(14,-3).trim().split(/\s+/),S=pi[x[0]];S&&(n||(n={sheet:c,reset:l,rules:{},toString:s}),n.rules[S]={group:m,index:f,cache:new Set(x)})}if(n)break}if(!n){const c=(f,h)=>({type:h,cssRules:[],insertRule(d,m){this.cssRules.splice(m,0,c(d,{import:3,undefined:1}[(d.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return f==="@media{}"?`@media{${[].map.call(this.cssRules,d=>d.cssText).join("")}}`:f}});n={sheet:o?(o.head||o).appendChild(document.createElement("style")).sheet:c("","text/css"),rules:{},reset:l,toString:s}}const{sheet:r,rules:u}=n;for(let c=pi.length-1;c>=0;--c){const f=pi[c];if(!u[f]){const h=pi[c+1],d=u[h]?u[h].index:r.cssRules.length;r.insertRule("@media{}",d),r.insertRule(`--sxs{--sxs:${c}}`,d),u[f]={group:r.cssRules[d+1],index:d,cache:new Set([c])}}pm(u[f])}};return l(),n},pm=o=>{const n=o.group;let s=n.cssRules.length;o.apply=l=>{try{n.insertRule(l,s),++s}catch{}}},fi=Symbol(),mm=Uo(),Yc=(o,n)=>mm(o,()=>(...s)=>{let l={type:null,composers:new Set};for(const i of s)if(i!=null)if(i[Vr]){l.type==null&&(l.type=i[Vr].type);for(const r of i[Vr].composers)l.composers.add(r)}else i.constructor!==Object||i.$$typeof?l.type==null&&(l.type=i):l.composers.add(gm(i,o));return l.type==null&&(l.type="span"),l.composers.size||l.composers.add(["PJLV",{},[],[],{},[]]),vm(o,l,n)}),gm=({variants:o,compoundVariants:n,defaultVariants:s,...l},i)=>{const r=`${hr(i.prefix)}c-${Zr(l)}`,u=[],c=[],f=Object.create(null),h=[];for(const v in s)f[v]=String(s[v]);if(typeof o=="object"&&o)for(const v in o){d=f,m=v,om.call(d,m)||(f[v]="undefined");const x=o[v];for(const S in x){const _={[v]:String(S)};String(S)==="undefined"&&h.push(v);const w=x[S],C=[_,w,!Gc(w)];u.push(C)}}var d,m;if(typeof n=="object"&&n)for(const v of n){let{css:x,...S}=v;x=typeof x=="object"&&x||{};for(const w in S)S[w]=String(S[w]);const _=[S,x,!Gc(x)];c.push(_)}return[r,l,u,c,f,h]},vm=(o,n,s)=>{const[l,i,r,u]=ym(n.composers),c=typeof n.type=="function"||n.type.$$typeof?(m=>{function v(){for(let x=0;x<v[fi].length;x++){const[S,_]=v[fi][x];m.rules[S].apply(_)}return v[fi]=[],null}return v[fi]=[],v.rules={},pi.forEach(x=>v.rules[x]={apply:S=>v[fi].push([x,S])}),v})(s):null,f=(c||s).rules,h=`.${l}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,d=m=>{m=typeof m=="object"&&m||xm;const{css:v,...x}=m,S={};for(const C in r)if(delete x[C],C in m){let E=m[C];typeof E=="object"&&E?S[C]={"@initial":r[C],...E}:(E=String(E),S[C]=E!=="undefined"||u.has(C)?E:r[C])}else S[C]=r[C];const _=new Set([...i]);for(const[C,E,T,P]of n.composers){s.rules.styled.cache.has(C)||(s.rules.styled.cache.add(C),bo(E,[`.${C}`],[],o,D=>{f.styled.apply(D)}));const M=Xc(T,S,o.media),L=Xc(P,S,o.media,!0);for(const D of M)if(D!==void 0)for(const[z,V,I]of D){const K=`${C}-${Zr(V)}-${z}`;_.add(K);const U=(I?s.rules.resonevar:s.rules.onevar).cache,Q=I?f.resonevar:f.onevar;U.has(K)||(U.add(K),bo(V,[`.${K}`],[],o,Y=>{Q.apply(Y)}))}for(const D of L)if(D!==void 0)for(const[z,V]of D){const I=`${C}-${Zr(V)}-${z}`;_.add(I),s.rules.allvar.cache.has(I)||(s.rules.allvar.cache.add(I),bo(V,[`.${I}`],[],o,K=>{f.allvar.apply(K)}))}}if(typeof v=="object"&&v){const C=`${l}-i${Zr(v)}-css`;_.add(C),s.rules.inline.cache.has(C)||(s.rules.inline.cache.add(C),bo(v,[`.${C}`],[],o,E=>{f.inline.apply(E)}))}for(const C of String(m.className||"").trim().split(/\s+/))C&&_.add(C);const w=x.className=[..._].join(" ");return{type:n.type,className:w,selector:h,props:x,toString:()=>w,deferredInjector:c}};return hl(d,{className:l,selector:h,[Vr]:n,toString:()=>(s.rules.styled.cache.has(l)||d(),l)})},ym=o=>{let n="";const s=[],l={},i=[];for(const[r,,,,u,c]of o){n===""&&(n=r),s.push(r),i.push(...c);for(const f in u){const h=u[f];(l[f]===void 0||h!=="undefined"||c.includes(h))&&(l[f]=h)}}return[n,s,l,new Set(i)]},Xc=(o,n,s,l)=>{const i=[];e:for(let[r,u,c]of o){if(c)continue;let f,h=0,d=!1;for(f in r){const m=r[f];let v=n[f];if(v!==m){if(typeof v!="object"||!v)continue e;{let x,S,_=0;for(const w in v){if(m===String(v[w])){if(w!=="@initial"){const C=w.slice(1);(S=S||[]).push(C in s?s[C]:w.replace(/^@media ?/,"")),d=!0}h+=_,x=!0}++_}if(S&&S.length&&(u={["@media "+S.join(", ")]:u}),!x)continue e}}}(i[h]=i[h]||[]).push([l?"cv":`${f}-${r[f]}`,u,d])}return i},xm={},wm=Uo(),Sm=(o,n)=>wm(o,()=>(...s)=>{const l=()=>{for(let i of s){i=typeof i=="object"&&i||{};let r=Zr(i);if(!n.rules.global.cache.has(r)){if(n.rules.global.cache.add(r),"@import"in i){let u=[].indexOf.call(n.sheet.cssRules,n.rules.themed.group)-1;for(let c of[].concat(i["@import"]))c=c.includes('"')||c.includes("'")?c:`"${c}"`,n.sheet.insertRule(`@import ${c};`,u++);delete i["@import"]}bo(i,[],[],o,u=>{n.rules.global.apply(u)})}}return""};return hl(l,{toString:l})}),Cm=Uo(),_m=(o,n)=>Cm(o,()=>s=>{const l=`${hr(o.prefix)}k-${Zr(s)}`,i=()=>{if(!n.rules.global.cache.has(l)){n.rules.global.cache.add(l);const r=[];bo(s,[],[],o,c=>r.push(c));const u=`@keyframes ${l}{${r.join("")}}`;n.rules.global.apply(u)}return l};return hl(i,{get name(){return i()},toString:i})}),Em=class{constructor(o,n,s,l){this.token=o==null?"":String(o),this.value=n==null?"":String(n),this.scale=s==null?"":String(s),this.prefix=l==null?"":String(l)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+hr(this.prefix)+hr(this.scale)+this.token}toString(){return this.computedValue}},km=Uo(),Tm=(o,n)=>km(o,()=>(s,l)=>{l=typeof s=="object"&&s||Object(l);const i=`.${s=(s=typeof s=="string"?s:"")||`${hr(o.prefix)}t-${Zr(l)}`}`,r={},u=[];for(const f in l){r[f]={};for(const h in l[f]){const d=`--${hr(o.prefix)}${f}-${h}`,m=ud(String(l[f][h]),o.prefix,f);r[f][h]=new Em(h,m,f,o.prefix),u.push(`${d}:${m}`)}}const c=()=>{if(u.length&&!n.rules.themed.cache.has(s)){n.rules.themed.cache.add(s);const f=`${l===o.theme?":root,":""}.${s}{${u.join(";")}}`;n.rules.themed.apply(f)}return s};return{...r,get className(){return c()},selector:i,toString:c}}),bm=Uo(),Qc,Pm=Uo(),Mm=o=>{const n=(s=>{let l=!1;const i=bm(s,r=>{l=!0;const u="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",c=typeof r.media=="object"&&r.media||{},f=typeof r.root=="object"?r.root||null:globalThis.document||null,h=typeof r.theme=="object"&&r.theme||{},d={prefix:u,media:c,theme:h,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...nm},utils:typeof r.utils=="object"&&r.utils||{}},m=hm(f),v={css:Yc(d,m),globalCss:Sm(d,m),keyframes:_m(d,m),createTheme:Tm(d,m),reset(){m.reset(),v.theme.toString()},theme:{},sheet:m,config:d,prefix:u,getCssText:m.toString,toString:m.toString};return String(v.theme=v.createTheme(h)),v});return l||i.reset(),i})(o);return n.styled=(({config:s,sheet:l})=>Pm(s,()=>{const i=Yc(s,l);return(...r)=>{const u=i(...r),c=u[Vr].type,f=In.forwardRef((h,d)=>{const m=h&&h.as||c,{props:v,deferredInjector:x}=u(h);return delete v.as,v.ref=d,x?In.createElement(In.Fragment,null,In.createElement(m,v),In.createElement(x,null)):In.createElement(m,v)});return f.className=u.className,f.displayName=`Styled.${c.displayName||c.name||c}`,f.selector=u.selector,f.toString=()=>u.selector,f[Vr]=u[Vr],f}}))(n),n},Lm=()=>Qc||(Qc=Mm()),Pt=(...o)=>Lm().styled(...o);const{useDebugValue:Rm}=In,{useSyncExternalStoreWithSelector:Um}=ad,Am=o=>o;function Dm(o,n=Am,s){const l=Um(o.subscribe,o.getState,o.getServerState||o.getInitialState,n,s);return Rm(l),l}const Kc=(o,n)=>{const s=nd(o),l=(i,r=n)=>Dm(s,i,r);return Object.assign(l,s),l},Im=(o,n)=>o?Kc(o,n):Kc;function Om(o,n){if(Object.is(o,n))return!0;if(typeof o!="object"||o===null||typeof n!="object"||n===null)return!1;if(o instanceof Map&&n instanceof Map){if(o.size!==n.size)return!1;for(const[l,i]of o)if(!Object.is(i,n.get(l)))return!1;return!0}if(o instanceof Set&&n instanceof Set){if(o.size!==n.size)return!1;for(const l of o)if(!n.has(l))return!1;return!0}const s=Object.keys(o);if(s.length!==Object.keys(n).length)return!1;for(const l of s)if(!Object.prototype.hasOwnProperty.call(n,l)||!Object.is(o[l],n[l]))return!1;return!0}const pl=Im((o,n)=>{function s(){var l;const{accumulated:i,startTime:r,infos:u}=n(),c=(l=n().log)==null?void 0:l.maxMemory,{totalFrames:f,log:h,gl:d,max:m}=i,v={calls:d.calls/f,triangles:d.triangles/f,points:d.points/f,lines:d.lines/f},x={gpu:h.gpu/f,cpu:h.cpu/f,mem:h.mem/f,fps:h.fps/f};return{sessionTime:(window.performance.now()-r)/1e3,infos:u,log:x,gl:v,max:m,maxMemory:c,totalFrames:f}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:s}}),jn=o=>pl(o,Om);Object.assign(jn,pl);const{getState:Fn,setState:Cn}=pl,Dn={value:0,fpsLimit:60,isOverLimit:0},di=o=>(o==null?void 0:o.reduce((n,s)=>n+s,0))/o.length;class Fm{constructor(n={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,n),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=L1.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let n=0;const s=l=>{++n<20?this.rafId=window.requestAnimationFrame(s):(this.detected=Math.ceil(1e3*n/(l-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=l)};this.rafId=window.requestAnimationFrame(s)}addUI(n){this.names.indexOf(n)===-1&&(this.names.push(n),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(n){const s=16.666666666666668,l=s-n.timeRemaining(),i=s*Dn.fpsLimit/10/l;i<0||(Dn.value=i,Dn.isOverLimit<25?Dn.isOverLimit++:Cn({overclockingFps:!0}))}nextFrame(n){this.frameId++;const s=n||this.now();let l=s-this.paramTime,i=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=s;else if(s>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const r=this.frameId-this.paramFrame,u=r*1e3/l,c=Fn().overclockingFps?Dn.value:u;if(i=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/l,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const f=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=(f==null?void 0:f.duration)||0,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(u),this.logsAccums.fps.push(c),this.logsAccums.gpu.push(i),this.overClock&&typeof window.requestIdleCallback<"u"&&(Dn.isOverLimit>0&&c>u?Dn.isOverLimit--:Fn().overclockingFps&&Cn({overclockingFps:!1})),s>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:di(this.logsAccums.cpu),gpu:di(this.logsAccums.gpu),mem:di(this.logsAccums.mem),fps:di(this.logsAccums.fps),duration:Math.round(l),maxMemory:this.maxMemory,frameCount:r}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=s),this.overClock&&s-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=n,Dn.fpsLimit=Math.round(di(this.logsAccums.fpsFixed)/10)*100,Cn({fpsLimit:Dn.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=s)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=s,this.circularId=0;else{const r=s-this.chartTime;let u=this.chartHz*r/1e3;for(;--u>0&&this.detected;){const f=(this.frameId-this.chartFrame)/r*1e3,h=Fn().overclockingFps?Dn.value:f;this.fpsChart[this.circularId%this.chartLen]=h;const d=1e3/this.currentMem,m=this.currentCpu,v=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/l*100))+4;v>0&&(this.gpuChart[this.circularId%this.chartLen]=v),m>0&&(this.cpuChart[this.circularId%this.chartLen]=m),d>0&&(this.memChart[this.circularId%this.chartLen]=d);for(let x=0;x<this.names.length;x++)this.chartLogger({i:x,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=s}}}startGpu(){const n=this.gl,s=this.extension;if(!(!n||!s)&&this.isWebGL2){let l=!1,i,r;if(this.query){this.queryHasResult=!1;let u=this.query;if(l=n.getQueryParameter(u,n.QUERY_RESULT_AVAILABLE),i=n.getParameter(s.GPU_DISJOINT_EXT),l&&!i){r=n.getQueryParameter(this.query,n.QUERY_RESULT);const c=r*1e-6;(l||i)&&(n.deleteQuery(this.query),u=null),l&&c>0&&(i||this.activeAccums.forEach((f,h)=>{this.gpuAccums[h]=c}))}}(l||!this.query)&&(this.queryCreated=!0,this.query=n.createQuery(),n.beginQuery(s.TIME_ELAPSED_EXT,this.query))}}endGpu(){const n=this.extension,s=this.gl;this.isWebGL2&&this.queryCreated&&s.getQuery(n.TIME_ELAPSED_EXT,s.CURRENT_QUERY)&&s.endQuery(n.TIME_ELAPSED_EXT)}begin(n){this.startGpu(),this.updateAccums(n)}end(n){this.endGpu(),this.updateAccums(n)}updateAccums(n){let s=this.names.indexOf(n);s===-1&&(s=this.names.length,this.addUI(n));const l=this.now();this.activeAccums[s]=!this.activeAccums[s],this.t0=l}}const jm=o=>{o.forEach((n,s)=>{const{meshes:l}=n;if(!l)return;let i={total:0,type:"Triangle",data:[]};Object.keys(l).forEach(r=>{const u=l[r],{geometry:c,material:f}=u;let h=c.index;const d=c.attributes.position;if(!d)return;let m=1;f.wireframe===!0&&(m=0);const v=h!==null?h.count:d.count,x=c.drawRange.start*m,S=c.drawRange.count*m,_=x,w=Math.min(v,x+S)-1;let C=1;const E=u.count||1;let T="Triangle",P=0;u.isMesh?f.wireframe===!0?(T="Line",C=C/2):(T="Triangle",C=C/3):u.isLine?(T="Line",u.isLineSegments?C=C/2:u.isLineLoop?C=C:C=C-1):u.isPoints?(T="Point",C=C):u.isSprite&&(T="Triangle",C=C/3);const M=Math.round(Math.max(0,w-_+1)*(C*E));M>P&&(P=M,i.type=T),i.total+=M,i.data.push({drawCount:M,type:T}),u.userData.drawCount={type:T,count:M}}),n.drawCounts=i})};var cd={exports:{}};(function(o){var n=Object.prototype.hasOwnProperty,s="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(s=!1));function i(f,h,d){this.fn=f,this.context=h,this.once=d||!1}function r(f,h,d,m,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new i(d,m||f,v),S=s?s+h:h;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],x]:f._events[S].push(x):(f._events[S]=x,f._eventsCount++),f}function u(f,h){--f._eventsCount===0?f._events=new l:delete f._events[h]}function c(){this._events=new l,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],d,m;if(this._eventsCount===0)return h;for(m in d=this._events)n.call(d,m)&&h.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},c.prototype.listeners=function(h){var d=s?s+h:h,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,x=m.length,S=new Array(x);v<x;v++)S[v]=m[v].fn;return S},c.prototype.listenerCount=function(h){var d=s?s+h:h,m=this._events[d];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,d,m,v,x,S){var _=s?s+h:h;if(!this._events[_])return!1;var w=this._events[_],C=arguments.length,E,T;if(w.fn){switch(w.once&&this.removeListener(h,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,m),!0;case 4:return w.fn.call(w.context,d,m,v),!0;case 5:return w.fn.call(w.context,d,m,v,x),!0;case 6:return w.fn.call(w.context,d,m,v,x,S),!0}for(T=1,E=new Array(C-1);T<C;T++)E[T-1]=arguments[T];w.fn.apply(w.context,E)}else{var P=w.length,M;for(T=0;T<P;T++)switch(w[T].once&&this.removeListener(h,w[T].fn,void 0,!0),C){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,d);break;case 3:w[T].fn.call(w[T].context,d,m);break;case 4:w[T].fn.call(w[T].context,d,m,v);break;default:if(!E)for(M=1,E=new Array(C-1);M<C;M++)E[M-1]=arguments[M];w[T].fn.apply(w[T].context,E)}}return!0},c.prototype.on=function(h,d,m){return r(this,h,d,m,!1)},c.prototype.once=function(h,d,m){return r(this,h,d,m,!0)},c.prototype.removeListener=function(h,d,m,v){var x=s?s+h:h;if(!this._events[x])return this;if(!d)return u(this,x),this;var S=this._events[x];if(S.fn)S.fn===d&&(!v||S.once)&&(!m||S.context===m)&&u(this,x);else{for(var _=0,w=[],C=S.length;_<C;_++)(S[_].fn!==d||v&&!S[_].once||m&&S[_].context!==m)&&w.push(S[_]);w.length?this._events[x]=w.length===1?w[0]:w:u(this,x)}return this},c.prototype.removeAllListeners=function(h){var d;return h?(d=s?s+h:h,this._events[d]&&u(this,d)):(this._events=new l,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=s,c.EventEmitter=c,o.exports=c})(cd);var zm=cd.exports;const Bm=vi(zm),ml=new Bm;function Nm(o,n,s){return ml.on(o,n)}function Wm(o,n,s){var l;ml.removeListener(o,n,(l=s==null?void 0:s.context)!=null?l:null,s==null?void 0:s.once)}function Gm(o,n){ml.emit(o,n)}function Hm(o,n,s=[],l){const i=N.useRef(n);N.useEffect(()=>void(i.current=n),[n]),N.useEffect(()=>{const r=c=>{var f;return(f=i.current)==null?void 0:f.call(i,c)},u=Nm(o,r);return()=>Wm(o,r,{...l,context:u})},[o,void 0,...s])}const Vm=Gr.prototype.updateMatrixWorld,Zm=Gr.prototype.updateWorldMatrix,Jc=Gr.prototype.updateMatrix,qc=["calls","triangles","points","lines"],$c=["gpu","cpu","mem","fps"];let Po={value:0},_n={value:0};const Ym=o=>{let n=""+o;return n=n.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),n!==null},ef=(o,n)=>{o.defines||(o.defines={}),o.defines&&!o.defines.muiPerf&&(o.defines=Object.assign(o.defines||{},{muiPerf:o.uuid}));const s=o.uuid;return n[s]||(n[s]={meshes:{},material:o},o.needsUpdate=!0),o.needsUpdate=!1,s},Xm=o=>o==="muiPerf",Qm=({overClock:o,logsPerSecond:n,chart:s,deepAnalyze:l,matrixUpdate:i})=>{const{gl:r,scene:u}=Ht();Cn({gl:r,scene:u});const c=N.useMemo(()=>{const f=new Fm({trackGPU:!0,overClock:o,chartLen:s?s.length:120,chartHz:s?s.hz:60,logsPerSecond:n||10,gl:r.getContext(),chartLogger:w=>{Cn({chart:w})},paramLogger:w=>{const C={maxMemory:w.maxMemory,gpu:w.gpu,cpu:w.cpu,mem:w.mem,fps:w.fps,totalTime:w.duration,frameCount:w.frameCount};Cn({log:C});const{accumulated:E}=Fn(),T=r.info.render;E.totalFrames++,E.gl.calls+=T.calls,E.gl.triangles+=T.triangles,E.gl.points+=T.points,E.gl.lines+=T.lines,E.log.gpu+=w.gpu,E.log.cpu+=w.cpu,E.log.mem+=w.mem,E.log.fps+=w.fps;for(let P=0;P<qc.length;P++){const M=qc[P],L=T[M];L>E.max.gl[M]&&(E.max.gl[M]=L)}for(let P=0;P<$c.length;P++){const M=$c[P],L=w[M];L>E.max.log[M]&&(E.max.log[M]=L)}Cn({accumulated:E}),Gm("log",[C,r])}}),h=r.getContext();let d=null,m=null;const v=h.getExtension("WEBGL_debug_renderer_info"),x=h.getParameter(h.VERSION);v!=null&&(d=h.getParameter(v.UNMASKED_RENDERER_WEBGL),m=h.getParameter(v.UNMASKED_VENDOR_WEBGL)),m||(m="Unknown vendor"),d||(d=h.getParameter(h.RENDERER)),Cn({startTime:window.performance.now(),infos:{version:x,renderer:d,vendor:m}});const S=new Map,_=new Map;return Object.defineProperty(ks.prototype,"onBeforeRender",{get(){return(...w)=>{var C;f&&f.begin("profiler"),(C=S.get(this))==null||C(...w)}},set(w){S.set(this,w)},configurable:!0}),Object.defineProperty(ks.prototype,"onAfterRender",{get(){return(...w)=>{var C;f&&f.end("profiler"),(C=_.get(this))==null||C(...w)}},set(w){_.set(this,w)},configurable:!0}),f},[]);return N.useEffect(()=>{c&&(c.overClock=o||!1,o===!1&&(Cn({overclockingFps:!1}),Dn.value=0,Dn.isOverLimit=0),c.chartHz=(s==null?void 0:s.hz)||60,c.chartLen=(s==null?void 0:s.length)||120)},[o,c,s==null?void 0:s.length,s==null?void 0:s.hz]),N.useEffect(()=>{i&&(Gr.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&Po.value++,Vm.apply(this,arguments)},Gr.prototype.updateWorldMatrix=function(){Po.value++,Zm.apply(this,arguments)},Gr.prototype.updateMatrix=function(){_n.value++,Jc.apply(this,arguments)}),r.info.autoReset=!1;let f=null,h=null;if(r.info)return f=lh(function(){Fn().paused&&Cn({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),c.startCpuProfiling=!0),_n.value-=1,Po.value=0,_n.value=0,r.info&&r.info.reset()}),h=uh(function(){var m,v;if(c&&!c.paused&&(c.nextFrame(window.performance.now()),o&&typeof window.requestIdleCallback<"u"&&(c.idleCbId=requestIdleCallback(c.nextFps))),l){const x={},S=new Map;u.traverse(function(w){if((w instanceof yi||w instanceof R1)&&w.material){let C=w.material.uuid;Array.isArray(w.material)&&w.material.length>1?C=ef(w.material[1],x):C=ef(w.material,x),x[C].meshes[w.uuid]=w}}),(v=(m=r==null?void 0:r.info)==null?void 0:m.programs)==null||v.forEach(_=>{const w=_.cacheKey.split(","),C=w[w.findIndex(Xm)+1];if(Ym(C)&&x[C]){const{material:E,meshes:T}=x[C];S.set(C,{program:_,material:E,meshes:T,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),S.size!==Fn().programs.size&&(jm(S),Cn({programs:S,triggerProgramsUpdate:Fn().triggerProgramsUpdate++}))}}),()=>{c&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(c.idleCbId),window.cancelAnimationFrame(c.rafId),window.cancelAnimationFrame(c.checkQueryId)),i&&(Gr.prototype.updateMatrixWorld=Jc),f(),h()}},[c,r,s,i]),N.useEffect(()=>{const f=ch(function(){return c&&(c.paused=!0,_n.value=0,Po.value=0,Cn({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{f()}},[]),null},Km=Pt("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),Ka=Pt("small",{position:"absolute",right:0,fontSize:"10px"}),Vt=Pt("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),an=Pt("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),Jm=Pt("div",{display:"flex"}),qm=Pt("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),$m=Pt("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),eg=Pt("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),gl=Pt("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),tg=Pt("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),ng=Pt("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),rg=Pt("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),og=Pt("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),ig=Pt("div",{marginTop:"0"}),tf=Pt("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),fd=Pt("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),dd=Pt("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),sg=Pt("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),ag=Pt("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function Ct(o,n){if(o==null)return{};var s={},l=Object.keys(o),i,r;for(r=0;r<l.length;r++)i=l[r],!(n.indexOf(i)>=0)&&(s[i]=o[i]);return s}var lg=["color"],hd=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,lg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),ug=["color"],cg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,ug);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),fg=["color"],dg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,fg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),hg=["color"],pg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,hg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),mg=["color"],gg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,mg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),vg=["color"],yg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,vg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),xg=["color"],wg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,xg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),Sg=["color"],Cg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Sg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),_g=["color"],al=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,_g);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),Eg=["color"],kg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Eg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),Tg=["color"],bg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Tg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),Pg=["color"],Mg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Pg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),Lg=["color"],Rg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Lg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),Ug=["color"],Ag=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Ug);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),Dg=["color"],Ig=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Dg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),Og=["color"],Fg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Og);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),jg=["color"],zg=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,jg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),Bg=["color"],Ng=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Bg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}),Wg=["color"],pd=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Wg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:l}))}),Gg=["color"],md=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Gg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:l}))}),Hg=["color"],gd=N.forwardRef(function(o,n){var s=o.color,l=s===void 0?"currentColor":s,i=Ct(o,Hg);return N.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:n}),N.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))});const An=N.memo(({isPerf:o,color:n,colorBlind:s,customData:l,isMemory:i,isShadersInfo:r,metric:u,fontSize:c,offsetY:f=0,offsetX:h,round:d,hasInstance:m})=>{const{width:v,height:x}=Ht(w=>w.viewport),S=N.useRef(null),_=N.useRef(null);return Hm("log",function([C,E]){var T;if(!C||!S.current||(l&&(S.current.text=(Math.round(Fn().customData*Math.pow(10,d))/Math.pow(10,d)).toFixed(d)),!u))return;let P=C[u];if(r?P=(T=E.info.programs)==null?void 0:T.length:u==="matriceCount"?P=_n.value:!o&&E.info.render&&(P=(i?E.info.memory:E.info.render)[u]),u==="fps"&&(S.current.color=Fn().overclockingFps?Zt(s).overClock.toString():`rgb(${Zt(s).fps.toString()})`),S.current.text=(Math.round(P*Math.pow(10,d))/Math.pow(10,d)).toFixed(d),m){const M=E.info.instance;if(typeof M>"u"&&u!=="matriceCount")return;let L;u==="matriceCount"?L=Po.value:L=M[u],L>0?(S.current.fontSize=c/1.15,_.current.fontSize=P>0?c/1.4:c,S.current.position.y=x/2-f-c/1.9,_.current.text=" 	"+(Math.round(L*Math.pow(10,d))/Math.pow(10,d)).toFixed(d)):(_.current.text&&(_.current.text=""),S.current.position.y=x/2-f-c,S.current.fontSize=c)}_n.value-=1,S.current.updateMatrix(),S.current.matrixWorld.copy(S.current.matrix)}),A.jsxs(N.Suspense,{fallback:null,children:[A.jsxs(zc,{textAlign:"justify",matrixAutoUpdate:!1,ref:S,fontSize:c,position:[-v/2+h+c,x/2-f-c,0],color:n,characters:"0123456789",onUpdate:w=>{w.updateMatrix(),_n.value-=1,w.matrixWorld.copy(w.matrix)},children:[A.jsx("meshBasicMaterial",{blending:Yu}),"0"]}),m&&A.jsx(zc,{textAlign:"justify",matrixAutoUpdate:!1,ref:_,fontSize:8,position:[-v/2+h+c,x/2-f-c*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:w=>{w.updateMatrix(),_n.value-=1,w.matrixWorld.copy(w.matrix)},children:A.jsx("meshBasicMaterial",{blending:Yu})})]})}),Vg=({colorBlind:o,customData:n,minimal:s,matrixUpdate:l})=>A.jsxs(A.Fragment,{children:[A.jsx(An,{colorBlind:o,color:`rgb(${Zt(o).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),A.jsx(An,{color:`rgb(${Zt(o).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),A.jsx(An,{color:`rgb(${Zt(o).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),s?null:A.jsxs(A.Fragment,{children:[A.jsx(An,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),A.jsx(An,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),A.jsx(An,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),A.jsx(An,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),A.jsx(An,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),A.jsx(An,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),A.jsx(An,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),l&&A.jsx(An,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),n&&A.jsx(An,{color:`rgb(${Zt(o).custom.toString()})`,customData:n,fontSize:14,offsetY:0,offsetX:s?200:320,round:n.round||2})]}),Zg=({colorBlind:o,minimal:n,chart:s={length:120,hz:60}})=>{const l=N.useMemo(()=>({fps:new Float32Array(s.length*3),cpu:new Float32Array(s.length*3),gpu:new Float32Array(s.length*3)}),[s]),i=N.useRef(null),r=N.useRef(null),u=N.useRef(null),c=N.useRef(null),f=N.useMemo(()=>new kt(0,0,0),[]),h=(d,m=1,v,x)=>{let S=0;const{width:_,height:w}=x,C=Fn().chart.data[d];if(!C||C.length===0)return;const E=n?2:6,T=n?12:50;let P=C.length;for(let M=0;M<P;M++){let L=(Fn().chart.circularId+M+1)%P;C[L]!==void 0&&(C[L]>S&&(S=C[L]*m),f.set(E+M/(P-1)*(_-E*2)-_/2,Math.min(100,C[L])*m/100*(w-E*2-T)-w/2,0),f.toArray(v.attributes.position.array,M*3))}v.attributes.position.needsUpdate=!0};return cl(function({viewport:m}){h("fps",1,i.current,m),r.current&&r.current.color.set(Fn().overclockingFps?Zt(o).overClock.toString():`rgb(${Zt(o).fps.toString()})`),h("gpu",5,u.current,m),h("cpu",5,c.current,m)}),A.jsxs(A.Fragment,{children:[A.jsxs("line",{onUpdate:d=>{d.updateMatrix(),_n.value-=1,d.matrixWorld.copy(d.matrix)},children:[A.jsx("bufferGeometry",{ref:i,children:A.jsx("bufferAttribute",{attach:"attributes-position",count:s.length,array:l.fps,itemSize:3,usage:Aa,needsUpdate:!0})}),A.jsx("lineBasicMaterial",{ref:r,color:`rgb(${Zt(o).fps.toString()})`,transparent:!0,opacity:.5})]}),A.jsxs("line",{onUpdate:d=>{d.updateMatrix(),_n.value-=1,d.matrixWorld.copy(d.matrix)},children:[A.jsx("bufferGeometry",{ref:u,children:A.jsx("bufferAttribute",{attach:"attributes-position",count:s.length,array:l.gpu,itemSize:3,usage:Aa,needsUpdate:!0})}),A.jsx("lineBasicMaterial",{color:`rgb(${Zt(o).gpu.toString()})`,transparent:!0,opacity:.5})]}),A.jsxs("line",{onUpdate:d=>{d.updateMatrix(),_n.value-=1,d.matrixWorld.copy(d.matrix)},children:[A.jsx("bufferGeometry",{ref:c,children:A.jsx("bufferAttribute",{attach:"attributes-position",count:s.length,array:l.cpu,itemSize:3,usage:Aa,needsUpdate:!0})}),A.jsx("lineBasicMaterial",{color:`rgb(${Zt(o).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},Yg=({colorBlind:o,chart:n,customData:s,matrixUpdate:l,showGraph:i=!0,antialias:r=!0,minimal:u})=>{const c=N.useRef(void 0),f=jn(h=>h.paused);return A.jsxs($m,{style:{display:"flex",position:"absolute",height:`${u?37:i?100:60}px`,minWidth:`${u?"100px":s?"370px":"310px"}`},children:[A.jsx(Ah,{ref:c,orthographic:!0,camera:{rotation:[0,0,0]},dpr:r?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:h})=>{h.traverse(d=>{d.matrixWorldAutoUpdate=!1,d.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${u?37:i?100:60}px`},children:f?null:A.jsxs(A.Fragment,{children:[A.jsx(Xg,{}),A.jsx(Vg,{customData:s,minimal:u,matrixUpdate:l}),i&&A.jsx(Zg,{colorBlind:o,minimal:u,chart:n})]})}),f&&A.jsxs(eg,{children:[A.jsx(Ig,{})," PAUSED"]})]})},Xg=()=>(cl(function({gl:n,scene:s,camera:l}){l.updateMatrix(),_n.value-=1,l.matrixWorld.copy(l.matrix),l.matrixWorldInverse.copy(l.matrixWorld).invert(),n.render(s,l),Po.value=0,_n.value=0},1/0),null),Qg=N.forwardRef(({portal:o,className:n,children:s,name:l,...i},r)=>{const u=Ht(d=>d.gl),c=N.useRef(null),f=N.useRef(null),h=(o==null?void 0:o.current)!=null?o.current:u.domElement.parentNode;return N.useLayoutEffect(()=>{if(!c.current||!h)return;const d=document.createElement("div"),m=f.current=ff(d);return h.appendChild(d),()=>{m.unmount(),f.current=null,h.removeChild(d)}},[h]),N.useLayoutEffect(()=>{const d=f.current;d&&d.render(A.jsx("div",{ref:r,className:n,children:s}))}),A.jsx("group",{name:l,...i,ref:c})});function Kg(o){let n=0;for(let l in o.attributes){const i=o.getAttribute(l);n+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const s=o.getIndex();return n+=s?s.count*s.itemSize*s.array.BYTES_PER_ELEMENT:0,n}const nf=(o,n)=>{const s=i=>{switch(i){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},l=i=>{switch(i){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:o,url:n.image.currentSrc,encoding:l(n.encoding),wrapT:s(n.wrapT),flipY:n.flipY.toString()}},Jg=({program:o,material:n,setTexNumber:s})=>{const l=jn(u=>u.gl),[i,r]=N.useState(null);return N.useEffect(()=>{if(l){const u=o==null?void 0:o.getUniforms();let c=0;const f=new Map;u.seq.forEach(h=>{if(!h.id.includes("uTroika")&&h.id!=="isOrthographic"&&h.id!=="uvTransform"&&h.id!=="lightProbe"&&h.id!=="projectionMatrix"&&h.id!=="viewMatrix"&&h.id!=="normalMatrix"&&h.id!=="modelMatrix"&&h.id!=="modelViewMatrix"){let d=[],m={name:h.id};h.cache&&(h.cache.forEach(v=>{typeof v<"u"&&d.push(v.toString().substring(0,4))}),m.value=d.join(),n[h.id]&&n[h.id].image&&n[h.id].image&&(c++,m.value=nf(h.id,n[h.id])),m.value||(m.value="empty"),f.set(h.id,m))}}),n.uniforms&&Object.keys(n.uniforms).forEach(h=>{const d=n.uniforms[h];if(d.value){const{value:m}=d;let v={name:h};if(h.includes("uTroika"))return;if(m.isTexture)c++,v.value=nf(h,m);else{let x=JSON.stringify(m);try{x=JSON.stringify(m)}catch{x=m.toString()}v.value=x}f.set(h,v)}}),c>0&&s(c),r(f)}},[]),A.jsx(fd,{children:i&&Array.from(i.values()).map(u=>A.jsx("span",{children:typeof u.value=="string"?A.jsx("li",{children:A.jsxs("span",{children:[u.name," :"," ",A.jsxs("b",{children:[u.value.substring(0,30),u.value.length>30?"...":""]})]})}):A.jsxs(A.Fragment,{children:[A.jsx("li",{children:A.jsxs("b",{children:[u.value.name,":"]})}),A.jsxs("div",{children:[Object.keys(u.value).map(c=>c!=="name"?A.jsx("div",{children:c==="url"?A.jsx("a",{href:u.value[c],target:"_blank",children:A.jsx("img",{src:u.value[c]})}):A.jsxs("li",{children:[c,": ",A.jsx("b",{children:u.value[c]})]})},c):null),A.jsxs(dd,{onClick:()=>{var c;console.info(n[u.value.name]||((c=n==null?void 0:n.uniforms[u.value.name])==null?void 0:c.value))},children:["console.info(",u.value.name,");"]})]})]})},u.name))})},qg=({el:o})=>{jn(l=>l.log);const n=jn(l=>l.gl),s=l=>{if(!n)return 0;const i=Math.round(l.drawCounts.total/(n.info.render.triangles+n.info.render.lines+n.info.render.points)*100*10)/10;return isFinite(i)&&i||0};return A.jsx(A.Fragment,{children:o.drawCounts.total>0&&A.jsxs(Vt,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[o.drawCounts.type==="Triangle"?A.jsx(gd,{style:{top:"-1px"}}):A.jsx(hd,{style:{top:"-1px"}}),o.drawCounts.total,A.jsxs("small",{children:[o.drawCounts.type,"s"]}),n&&A.jsxs(an,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[o.visible&&!o.material.wireframe?s(o):0,"%"]})]})})},$g=({el:o})=>{const[n,s]=N.useState(o.visible),[l,i]=N.useState(o.expand),[r,u]=N.useState(0),{meshes:c,program:f,material:h}=o;return A.jsxs(ng,{children:[A.jsxs(qm,{onClick:()=>{o.expand=!l,Object.keys(c).forEach(d=>{const m=c[d];m.material.wireframe=!1}),i(!l)},children:[A.jsx(gl,{style:{marginRight:"6px"},children:l?A.jsx("span",{children:A.jsx(pd,{})}):A.jsx("span",{children:A.jsx(md,{})})}),f&&A.jsxs("span",{children:[A.jsx(rg,{children:f.name}),A.jsxs(Vt,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[A.jsx(bg,{style:{top:"-1px"}}),Object.keys(c).length,A.jsx("small",{children:Object.keys(c).length>1?"users":"user"})]}),r>0&&A.jsxs(Vt,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[r>1?A.jsx(al,{style:{top:"-1px"}}):A.jsx(al,{style:{top:"-1px"}}),r,A.jsx("small",{children:"tex"})]}),A.jsx(qg,{el:o}),h.glslVersion==="300 es"&&A.jsxs(Vt,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[A.jsx(Fg,{style:{top:"-1px"}}),"300",A.jsx("small",{children:"es"}),A.jsx(an,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),A.jsx(tg,{onPointerEnter:()=>{Object.keys(c).forEach(d=>{const m=c[d];m.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(c).forEach(d=>{const m=c[d];m.material.wireframe=!1})},onClick:d=>{d.stopPropagation(),Object.keys(c).forEach(m=>{const v=c[m],x=!n;v.visible=x,o.visible=x,s(x)})},children:n?A.jsx(Cg,{}):A.jsx(wg,{})})]}),A.jsxs("div",{style:{maxHeight:l?"9999px":0,overflow:"hidden"},children:[A.jsxs(tf,{children:[A.jsx(dg,{})," Uniforms:"]}),A.jsx(Jg,{program:f,material:h,setTexNumber:u}),A.jsxs(tf,{children:[A.jsx(pg,{})," Geometries:"]}),A.jsx(fd,{children:c&&Object.keys(c).map(d=>c[d]&&c[d].geometry&&A.jsxs(ag,{children:[A.jsxs("span",{children:[c[d].geometry.type,": "]}),c[d].userData&&c[d].userData.drawCount&&A.jsxs("b",{children:[A.jsxs("div",{children:[c[d].userData.drawCount.count,A.jsxs("small",{children:[" ",c[d].userData.drawCount.type,"s"]})]}),A.jsx("br",{}),A.jsxs("div",{children:[Math.round(Kg(c[d].geometry)/1024*1e3)/1e3,"Kb",A.jsx("small",{children:" memory used"})]})]})]},d))}),A.jsxs(dd,{onClick:()=>{console.info(h)},children:["console.info(",h.type,")"]})]})]})},e2=()=>{jn(n=>n.triggerProgramsUpdate);const o=jn(n=>n.programs);return A.jsx(ig,{children:o&&Array.from(o.values()).map(n=>n&&n?A.jsx($g,{el:n},n.material.uuid):null)})},Zt=o=>({overClock:"#ff6eff",fps:o?"100, 143, 255":"238,38,110",cpu:o?"254, 254, 98":"66,226,46",gpu:o?"254,254,254":"253,151,31",custom:o?"86,180,233":"40,255,255"}),t2=({showGraph:o,colorBlind:n})=>{const s=jn(i=>i.overclockingFps),l=jn(i=>i.fpsLimit);return A.jsxs(an,{style:o?{color:s?Zt(n).overClock.toString():`rgb(${Zt(n).fps})`}:{},children:["FPS ",s?`${l}`:""]})},n2=({showGraph:o,colorBlind:n,customData:s,minimal:l})=>{const i=jn(r=>r.gl);return i?A.jsxs(Jm,{children:[A.jsxs(Vt,{children:[A.jsx(Mg,{}),A.jsx(an,{style:o?{color:`rgb(${Zt(n).gpu.toString()})`}:{},children:"GPU"}),A.jsx(Ka,{children:"ms"})]}),A.jsxs(Vt,{children:[A.jsx(zg,{}),A.jsx(an,{style:o?{color:`rgb(${Zt(n).cpu.toString()})`}:{},children:"CPU"}),A.jsx(Ka,{children:"ms"})]}),A.jsxs(Vt,{children:[A.jsx(kg,{}),A.jsx(t2,{showGraph:o,colorBlind:n})]}),!l&&i&&A.jsxs(Vt,{children:[A.jsx(Ng,{}),A.jsx(an,{children:i.info.render.calls===1?"call":"calls"})]}),!l&&i&&A.jsxs(Vt,{children:[A.jsx(gd,{}),A.jsx(an,{children:"Triangles"})]}),s&&A.jsxs(Vt,{children:[A.jsx(cg,{}),A.jsx(an,{style:o?{color:`rgb(${Zt(n).custom})`}:{},children:s.name}),s.info&&A.jsx(Ka,{children:s.info})]})]}):null},r2=({showGraph:o,colorBlind:n,deepAnalyze:s,customData:l,matrixUpdate:i,openByDefault:r,minimal:u})=>A.jsxs(A.Fragment,{children:[A.jsx(n2,{showGraph:o,colorBlind:n,customData:l,minimal:u}),!u&&A.jsx(i2,{matrixUpdate:i,openByDefault:r,deepAnalyze:s,showGraph:o})]}),o2=({matrixUpdate:o})=>A.jsxs("div",{children:[A.jsxs(Vt,{children:[A.jsx(Rg,{}),A.jsx(an,{children:"Geometries"})]}),A.jsxs(Vt,{children:[A.jsx(al,{}),A.jsx(an,{children:"Textures"})]}),A.jsxs(Vt,{children:[A.jsx(hd,{}),A.jsx(an,{children:"shaders"})]}),A.jsxs(Vt,{children:[A.jsx(Ag,{}),A.jsx(an,{children:"Lines"})]}),A.jsxs(Vt,{children:[A.jsx(gg,{}),A.jsx(an,{children:"Points"})]}),o&&A.jsxs(Vt,{children:[A.jsx(yg,{}),A.jsx(an,{children:"Matrices"})]})]}),rf=({tab:o,title:n,set:s})=>{const l=jn(i=>i.tab);return A.jsx(gl,{className:`${l===o?" __perf_toggle_tab_active":""}`,onClick:()=>{s(!0),Cn({tab:o})},children:A.jsx("span",{children:n})})},i2=({openByDefault:o,showGraph:n,deepAnalyze:s,matrixUpdate:l})=>{const[i,r]=In.useState(o);return A.jsxs("span",{children:[A.jsx(s2,{show:i,showGraph:n,matrixUpdate:l}),o&&!s?null:A.jsxs(sg,{className:"__perf_toggle",children:[s&&A.jsx(rf,{tab:"programs",title:"Programs",set:r}),s&&A.jsx(rf,{tab:"infos",title:"Infos",set:r}),A.jsx(gl,{onClick:()=>{r(!i)},children:i?A.jsxs("span",{children:[A.jsx(pd,{})," Minimize"]}):A.jsxs("span",{children:[A.jsx(md,{})," More"]})})]})]})},s2=({show:o,showGraph:n,matrixUpdate:s})=>{const l=jn(i=>i.tab);return A.jsxs(A.Fragment,{children:[A.jsx(o2,{matrixUpdate:s}),o&&A.jsx("div",{children:A.jsx(og,{style:{marginTop:n?"38px":0},children:l==="programs"&&A.jsx(e2,{})})})]})},w2=({showGraph:o=!0,colorBlind:n=!1,openByDefault:s=!0,className:l,overClock:i=!1,style:r,position:u="top-right",chart:c,logsPerSecond:f,deepAnalyze:h=!1,antialias:d=!0,customData:m,matrixUpdate:v,minimal:x})=>{const S=N.useRef(null);return A.jsxs(A.Fragment,{children:[A.jsx(Qm,{logsPerSecond:f,chart:c,overClock:i,deepAnalyze:h,matrixUpdate:v}),A.jsx(Qg,{name:"r3f-perf",children:A.jsxs(Km,{className:(l?" ".concat(l):" ")+` ${u||""} ${x?"minimal":""}`,style:{minHeight:x?"37px":o?"100px":"60px",...r},ref:S,children:[A.jsx(Yg,{perfContainerRef:S,colorBlind:n,chart:c,showGraph:o,antialias:d,customData:m,minimal:x,matrixUpdate:v}),A.jsx(r2,{colorBlind:n,showGraph:o,deepAnalyze:h,openByDefault:s,customData:m,matrixUpdate:v,minimal:x})]})})]})};export{h2 as C,d2 as F,v2 as O,y2 as P,u2 as _,bs as a,Ht as b,m2 as c,cl as d,x2 as e,g2 as f,Ah as g,w2 as h,Xu as i,A as j,Mm as q,c2 as u};
