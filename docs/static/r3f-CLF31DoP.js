import{r as Q,a as H1,g as Ho,R as hr}from"./react-4ldeB94U.js";import{L as tl,T as zr,R as $i,U as Ka,a as W1,O as mi,P as Fo,S as Go,b as nl,N as V1,A as Z1,B as Nf,M as Y1,C as ns,W as zf,c as X1,d as Q1,e as K1,V as J1,f as zt,g as Tn,h as q1,i as $1,j as eh,k as th,E as nh,l as Ni,m as zi,Q as _c,n as Cc,o as no,p as Ci,D as Bf,H as tr,F as Rr,q as Qi,r as Vn,s as rh,t as ih,u as oh,v as ah,w as sh,x as lh,y as uh,I as ch,z as fh,G as dh,J as hh,K as Gf,X as ph,Y as Ec,Z as vh,_ as Hf,$ as gh,a0 as mh,a1 as Nl,a2 as yh,a3 as wh,a4 as xh,a5 as $r,a6 as Ja,a7 as Sh,a8 as Tl,a9 as Wf,aa as _h,ab as Ch,ac as Eh,ad as Th,ae as Va,af as kh,ag as Mh,ah as Tc,ai as bh,aj as Rh,ak as Ih,al as Ph,am as Lh,an as Ah,ao as yi,ap as Uh,aq as kc,ar as rl}from"./three-HkuiySu2.js";var Vf={exports:{}},rs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh=Q,Dh=Symbol.for("react.element"),Fh=Symbol.for("react.fragment"),jh=Object.prototype.hasOwnProperty,Nh=Oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zh={key:!0,ref:!0,__self:!0,__source:!0};function Zf(i,e,a){var s,o={},r=null,u=null;a!==void 0&&(r=""+a),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(u=e.ref);for(s in e)jh.call(e,s)&&!zh.hasOwnProperty(s)&&(o[s]=e[s]);if(i&&i.defaultProps)for(s in e=i.defaultProps,e)o[s]===void 0&&(o[s]=e[s]);return{$$typeof:Dh,type:i,key:r,ref:u,props:o,_owner:Nh.current}}rs.Fragment=Fh;rs.jsx=Zf;rs.jsxs=Zf;Vf.exports=rs;var W=Vf.exports,Mc={},Yf,bc=H1;Yf=Mc.createRoot=bc.createRoot,Mc.hydrateRoot=bc.hydrateRoot;function qa(){return qa=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)({}).hasOwnProperty.call(a,s)&&(i[s]=a[s])}return i},qa.apply(null,arguments)}var Xf={exports:{}},Ei={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ei.ConcurrentRoot=1;Ei.ContinuousEventPriority=4;Ei.DefaultEventPriority=16;Ei.DiscreteEventPriority=1;Ei.IdleEventPriority=536870912;Ei.LegacyRoot=0;Xf.exports=Ei;var Ki=Xf.exports;function Bh(i){let e;const a=new Set,s=(h,d)=>{const v=typeof h=="function"?h(e):h;if(v!==e){const g=e;e=d?v:Object.assign({},e,v),a.forEach(y=>y(e,g))}},o=()=>e,r=(h,d=o,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=d(e);function y(){const S=d(e);if(!v(g,S)){const E=g;h(g=S,E)}}return a.add(y),()=>a.delete(y)},c={setState:s,getState:o,subscribe:(h,d,v)=>d||v?r(h,d,v):(a.add(h),()=>a.delete(h)),destroy:()=>a.clear()};return e=i(s,o,c),c}const Gh=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Rc=Gh?Q.useEffect:Q.useLayoutEffect;function Hh(i){const e=typeof i=="function"?Bh(i):i,a=(s=e.getState,o=Object.is)=>{const[,r]=Q.useReducer(x=>x+1,0),u=e.getState(),f=Q.useRef(u),c=Q.useRef(s),h=Q.useRef(o),d=Q.useRef(!1),v=Q.useRef();v.current===void 0&&(v.current=s(u));let g,y=!1;(f.current!==u||c.current!==s||h.current!==o||d.current)&&(g=s(u),y=!o(v.current,g)),Rc(()=>{y&&(v.current=g),f.current=u,c.current=s,h.current=o,d.current=!1});const S=Q.useRef(u);Rc(()=>{const x=()=>{try{const T=e.getState(),M=c.current(T);h.current(v.current,M)||(f.current=T,v.current=M,r())}catch{d.current=!0,r()}},C=e.subscribe(x);return e.getState()!==S.current&&x(),C},[]);const E=y?g:v.current;return Q.useDebugValue(E),E};return Object.assign(a,e),a[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const s=[a,e];return{next(){const o=s.length<=0;return{value:s.shift(),done:o}}}},a}const Wh=i=>typeof i=="object"&&typeof i.then=="function",wi=[];function Qf(i,e,a=(s,o)=>s===o){if(i===e)return!0;if(!i||!e)return!1;const s=i.length;if(e.length!==s)return!1;for(let o=0;o<s;o++)if(!a(i[o],e[o]))return!1;return!0}function Kf(i,e=null,a=!1,s={}){e===null&&(e=[i]);for(const r of wi)if(Qf(e,r.keys,r.equal)){if(a)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return s.lifespan&&s.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,s.lifespan)),r.response;if(!a)throw r.promise}const o={keys:e,equal:s.equal,remove:()=>{const r=wi.indexOf(o);r!==-1&&wi.splice(r,1)},promise:(Wh(i)?i:i(...e)).then(r=>{o.response=r,s.lifespan&&s.lifespan>0&&(o.timeout=setTimeout(o.remove,s.lifespan))}).catch(r=>o.error=r)};if(wi.push(o),!a)throw o.promise}const Jf=(i,e,a)=>Kf(i,e,!1,a),Vh=(i,e,a)=>void Kf(i,e,!0,a),Zh=i=>{if(i===void 0||i.length===0)wi.splice(0,wi.length);else{const e=wi.find(a=>Qf(i,a.keys,a.equal));e&&e.remove()}};var qf={exports:{}},$f={exports:{}},ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(J,K){var N=J.length;J.push(K);e:for(;0<N;){var A=N-1>>>1,z=J[A];if(0<o(z,K))J[A]=K,J[N]=z,N=A;else break e}}function a(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var K=J[0],N=J.pop();if(N!==K){J[0]=N;e:for(var A=0,z=J.length,Y=z>>>1;A<Y;){var $=2*(A+1)-1,q=J[$],re=$+1,oe=J[re];if(0>o(q,N))re<z&&0>o(oe,q)?(J[A]=oe,J[re]=N,A=re):(J[A]=q,J[$]=N,A=$);else if(re<z&&0>o(oe,N))J[A]=oe,J[re]=N,A=re;else break e}}return K}function o(J,K){var N=J.sortIndex-K.sortIndex;return N!==0?N:J.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var u=Date,f=u.now();i.unstable_now=function(){return u.now()-f}}var c=[],h=[],d=1,v=null,g=3,y=!1,S=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(J){for(var K=a(h);K!==null;){if(K.callback===null)s(h);else if(K.startTime<=J)s(h),K.sortIndex=K.expirationTime,e(c,K);else break;K=a(h)}}function R(J){if(E=!1,M(J),!S)if(a(c)!==null)S=!0,ee(b);else{var K=a(h);K!==null&&ye(R,K.startTime-J)}}function b(J,K){S=!1,E&&(E=!1,C(L),L=-1),y=!0;var N=g;try{for(M(K),v=a(c);v!==null&&(!(v.expirationTime>K)||J&&!V());){var A=v.callback;if(typeof A=="function"){v.callback=null,g=v.priorityLevel;var z=A(v.expirationTime<=K);K=i.unstable_now(),typeof z=="function"?v.callback=z:v===a(c)&&s(c),M(K)}else s(c);v=a(c)}if(v!==null)var Y=!0;else{var $=a(h);$!==null&&ye(R,$.startTime-K),Y=!1}return Y}finally{v=null,g=N,y=!1}}var I=!1,D=null,L=-1,F=5,O=-1;function V(){return!(i.unstable_now()-O<F)}function U(){if(D!==null){var J=i.unstable_now();O=J;var K=!0;try{K=D(!0,J)}finally{K?H():(I=!1,D=null)}}else I=!1}var H;if(typeof T=="function")H=function(){T(U)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,fe=G.port2;G.port1.onmessage=U,H=function(){fe.postMessage(null)}}else H=function(){x(U,0)};function ee(J){D=J,I||(I=!0,H())}function ye(J,K){L=x(function(){J(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){S||y||(S=!0,ee(b))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_getFirstCallbackNode=function(){return a(c)},i.unstable_next=function(J){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var N=g;g=K;try{return J()}finally{g=N}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,K){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var N=g;g=J;try{return K()}finally{g=N}},i.unstable_scheduleCallback=function(J,K,N){var A=i.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?A+N:A):N=A,J){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=N+z,J={id:d++,callback:K,priorityLevel:J,startTime:N,expirationTime:z,sortIndex:-1},N>A?(J.sortIndex=N,e(h,J),a(c)===null&&J===a(h)&&(E?(C(L),L=-1):E=!0,ye(R,N-A))):(J.sortIndex=z,e(c,J),S||y||(S=!0,ee(b))),J},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(J){var K=g;return function(){var N=g;g=K;try{return J.apply(this,arguments)}finally{g=N}}}})(ed);$f.exports=ed;var kl=$f.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh=function(e){var a={},s=Q,o=kl,r=Object.assign;function u(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),b=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=b&&t[b]||t["@@iterator"],typeof t=="function"?t:null)}function D(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case C:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S:return(t.displayName||"Context")+".Consumer";case y:return(t._context.displayName||"Context")+".Provider";case E:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T:return n=t.displayName||null,n!==null?n:D(t.type)||"Memo";case M:n=t._payload,t=t._init;try{return D(t(n))}catch{}}return null}function L(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(n);case 8:return n===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function F(t){var n=t,l=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(l=n.return),t=n.return;while(t)}return n.tag===3?l:null}function O(t){if(F(t)!==t)throw Error(u(188))}function V(t){var n=t.alternate;if(!n){if(n=F(t),n===null)throw Error(u(188));return n!==t?null:t}for(var l=t,p=n;;){var m=l.return;if(m===null)break;var w=m.alternate;if(w===null){if(p=m.return,p!==null){l=p;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===l)return O(m),t;if(w===p)return O(m),n;w=w.sibling}throw Error(u(188))}if(l.return!==p.return)l=m,p=w;else{for(var P=!1,Z=m.child;Z;){if(Z===l){P=!0,l=m,p=w;break}if(Z===p){P=!0,p=m,l=w;break}Z=Z.sibling}if(!P){for(Z=w.child;Z;){if(Z===l){P=!0,l=w,p=m;break}if(Z===p){P=!0,p=w,l=m;break}Z=Z.sibling}if(!P)throw Error(u(189))}}if(l.alternate!==p)throw Error(u(190))}if(l.tag!==3)throw Error(u(188));return l.stateNode.current===l?t:n}function U(t){return t=V(t),t!==null?H(t):null}function H(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=H(t);if(n!==null)return n;t=t.sibling}return null}function G(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){if(t.tag!==4){var n=G(t);if(n!==null)return n}t=t.sibling}return null}var fe=Array.isArray,ee=e.getPublicInstance,ye=e.getRootHostContext,J=e.getChildHostContext,K=e.prepareForCommit,N=e.resetAfterCommit,A=e.createInstance,z=e.appendInitialChild,Y=e.finalizeInitialChildren,$=e.prepareUpdate,q=e.shouldSetTextContent,re=e.createTextInstance,oe=e.scheduleTimeout,de=e.cancelTimeout,Te=e.noTimeout,Re=e.isPrimaryRenderer,ve=e.supportsMutation,ge=e.supportsPersistence,He=e.supportsHydration,Xe=e.getInstanceFromNode,Ie=e.preparePortalMount,De=e.getCurrentEventPriority,Ve=e.detachDeletedInstance,we=e.supportsMicrotasks,je=e.scheduleMicrotask,Le=e.supportsTestSelectors,he=e.findFiberRoot,qe=e.getBoundingRect,be=e.getTextContent,Oe=e.isHiddenSubtree,Me=e.matchAccessibilityRole,vt=e.setFocusIfFocusable,Fe=e.setupIntersectionObserver,Ne=e.appendChild,ze=e.appendChildToContainer,$e=e.commitTextUpdate,xt=e.commitMount,Ct=e.commitUpdate,it=e.insertBefore,Ye=e.insertInContainerBefore,j=e.removeChild,pe=e.removeChildFromContainer,Se=e.resetTextContent,Ue=e.hideInstance,Je=e.hideTextInstance,ue=e.unhideInstance,et=e.unhideTextInstance,ln=e.clearContainer,Et=e.cloneInstance,rt=e.createContainerChildSet,Tt=e.appendChildToContainerChildSet,bt=e.finalizeContainerChildren,tt=e.replaceContainerChildren,kt=e.cloneHiddenInstance,Nt=e.cloneHiddenTextInstance,rn=e.canHydrateInstance,Vt=e.canHydrateTextInstance,Rn=e.canHydrateSuspenseInstance,wn=e.isSuspenseInstancePending,In=e.isSuspenseInstanceFallback,xn=e.registerSuspenseInstanceRetry,un=e.getNextHydratableSibling,st=e.getFirstHydratableChild,on=e.getFirstHydratableChildWithinContainer,yr=e.getFirstHydratableChildWithinSuspenseInstance,_=e.hydrateInstance,k=e.hydrateTextInstance,B=e.hydrateSuspenseInstance,ne=e.getNextHydratableInstanceAfterSuspenseInstance,ae=e.commitHydratedContainer,le=e.commitHydratedSuspenseInstance,xe=e.clearSuspenseBoundary,me=e.clearSuspenseBoundaryFromContainer,Ce=e.shouldDeleteUnhydratedTailInstances,Ee=e.didNotMatchHydratedContainerTextInstance,ke=e.didNotMatchHydratedTextInstance,ie;function Mt(t){if(ie===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);ie=n&&n[1]||""}return`
`+ie+t}var Ze=!1;function We(t,n){if(!t||Ze)return"";Ze=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(_e){var p=_e}Reflect.construct(t,[],n)}else{try{n.call()}catch(_e){p=_e}t.call(n.prototype)}else{try{throw Error()}catch(_e){p=_e}t()}}catch(_e){if(_e&&p&&typeof _e.stack=="string"){for(var m=_e.stack.split(`
`),w=p.stack.split(`
`),P=m.length-1,Z=w.length-1;1<=P&&0<=Z&&m[P]!==w[Z];)Z--;for(;1<=P&&0<=Z;P--,Z--)if(m[P]!==w[Z]){if(P!==1||Z!==1)do if(P--,Z--,0>Z||m[P]!==w[Z]){var ce=`
`+m[P].replace(" at new "," at ");return t.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",t.displayName)),ce}while(1<=P&&0<=Z);break}}}finally{Ze=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?Mt(t):""}var at=Object.prototype.hasOwnProperty,ut=[],St=-1;function gt(t){return{current:t}}function ot(t){0>St||(t.current=ut[St],ut[St]=null,St--)}function ct(t,n){St++,ut[St]=t.current,t.current=n}var mt={},At=gt(mt),ft=gt(!1),Ut=mt;function Kt(t,n){var l=t.type.contextTypes;if(!l)return mt;var p=t.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===n)return p.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in l)m[w]=n[w];return p&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=m),m}function Gt(t){return t=t.childContextTypes,t!=null}function Ht(){ot(ft),ot(At)}function Rt(t,n,l){if(At.current!==mt)throw Error(u(168));ct(At,n),ct(ft,l)}function Zt(t,n,l){var p=t.stateNode;if(n=n.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var m in p)if(!(m in n))throw Error(u(108,L(t)||"Unknown",m));return r({},l,p)}function It(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mt,Ut=At.current,ct(At,t),ct(ft,ft.current),!0}function dt(t,n,l){var p=t.stateNode;if(!p)throw Error(u(169));l?(t=Zt(t,n,Ut),p.__reactInternalMemoizedMergedChildContext=t,ot(ft),ot(At),ct(At,t)):ot(ft),ct(ft,l)}var Ft=Math.clz32?Math.clz32:Zn,jn=Math.log,qt=Math.LN2;function Zn(t){return t>>>=0,t===0?32:31-(jn(t)/qt|0)|0}var Ir=64,Pr=4194304;function Lr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ti(t,n){var l=t.pendingLanes;if(l===0)return 0;var p=0,m=t.suspendedLanes,w=t.pingedLanes,P=l&268435455;if(P!==0){var Z=P&~m;Z!==0?p=Lr(Z):(w&=P,w!==0&&(p=Lr(w)))}else P=l&~m,P!==0?p=Lr(P):w!==0&&(p=Lr(w));if(p===0)return 0;if(n!==0&&n!==p&&!(n&m)&&(m=p&-p,w=n&-n,m>=w||m===16&&(w&4194240)!==0))return n;if(p&4&&(p|=l&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=p;0<n;)l=31-Ft(n),m=1<<l,p|=t[l],n&=~m;return p}function Xo(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(t,n){for(var l=t.suspendedLanes,p=t.pingedLanes,m=t.expirationTimes,w=t.pendingLanes;0<w;){var P=31-Ft(w),Z=1<<P,ce=m[P];ce===-1?(!(Z&l)||Z&p)&&(m[P]=Xo(Z,n)):ce<=n&&(t.expiredLanes|=Z),w&=~Z}}function Ar(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ti(t){for(var n=[],l=0;31>l;l++)n.push(t);return n}function Cr(t,n,l){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Ft(n),t[n]=l}function Gr(t,n){var l=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var p=t.eventTimes;for(t=t.expirationTimes;0<l;){var m=31-Ft(l),w=1<<m;n[m]=0,p[m]=-1,t[m]=-1,l&=~w}}function Er(t,n){var l=t.entangledLanes|=n;for(t=t.entanglements;l;){var p=31-Ft(l),m=1<<p;m&n|t[p]&n&&(t[p]|=n),l&=~m}}var _t=0;function ao(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ur=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,so=o.unstable_shouldYield,Qo=o.unstable_requestPaint,Yt=o.unstable_now,ni=o.unstable_ImmediatePriority,Ko=o.unstable_UserBlockingPriority,Pn=o.unstable_NormalPriority,lo=o.unstable_IdlePriority,ri=null,Yn=null;function uo(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(ri,t,void 0,(t.current.flags&128)===128)}catch{}}function Jo(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Xn=typeof Object.is=="function"?Object.is:Jo,Ln=null,Tr=!1,rr=!1;function co(t){Ln===null?Ln=[t]:Ln.push(t)}function fo(t){Tr=!0,co(t)}function Nn(){if(!rr&&Ln!==null){rr=!0;var t=0,n=_t;try{var l=Ln;for(_t=1;t<l.length;t++){var p=l[t];do p=p(!0);while(p!==null)}Ln=null,Tr=!1}catch(m){throw Ln!==null&&(Ln=Ln.slice(t+1)),Ur(ni,Nn),m}finally{_t=n,rr=!1}}return null}var ii=f.ReactCurrentBatchConfig;function oi(t,n){if(Xn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var l=Object.keys(t),p=Object.keys(n);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var m=l[p];if(!at.call(n,m)||!Xn(t[m],n[m]))return!1}return!0}function ai(t){switch(t.tag){case 5:return Mt(t.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 2:case 15:return t=We(t.type,!1),t;case 11:return t=We(t.type.render,!1),t;case 1:return t=We(t.type,!0),t;default:return""}}function An(t,n){if(t&&t.defaultProps){n=r({},n),t=t.defaultProps;for(var l in t)n[l]===void 0&&(n[l]=t[l]);return n}return n}var hn=gt(null),Mi=null,wr=null,Hr=null;function bi(){Hr=wr=Mi=null}function qo(t,n,l){Re?(ct(hn,n._currentValue),n._currentValue=l):(ct(hn,n._currentValue2),n._currentValue2=l)}function pn(t){var n=hn.current;ot(hn),Re?t._currentValue=n:t._currentValue2=n}function Un(t,n,l){for(;t!==null;){var p=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,p!==null&&(p.childLanes|=n)):p!==null&&(p.childLanes&n)!==n&&(p.childLanes|=n),t===l)break;t=t.return}}function $t(t,n){Mi=t,Hr=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(qn=!0),t.firstContext=null)}function en(t){var n=Re?t._currentValue:t._currentValue2;if(Hr!==t)if(t={context:t,memoizedValue:n,next:null},wr===null){if(Mi===null)throw Error(u(308));wr=t,Mi.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return n}var Qn=null,Wr=!1;function ls(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ql(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Vr(t,n){var l=t.updateQueue;l!==null&&(l=l.shared,an!==null&&t.mode&1&&!(wt&2)?(t=l.interleaved,t===null?(n.next=n,Qn===null?Qn=[l]:Qn.push(l)):(n.next=t.next,t.next=n),l.interleaved=n):(t=l.pending,t===null?n.next=n:(n.next=t.next,t.next=n),l.pending=n))}function $o(t,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var p=n.lanes;p&=t.pendingLanes,l|=p,n.lanes=l,Er(t,l)}}function Kl(t,n){var l=t.updateQueue,p=t.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var m=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var P={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};w===null?m=w=P:w=w.next=P,l=l.next}while(l!==null);w===null?m=w=n:w=w.next=n}else m=w=n;l={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:p.shared,effects:p.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=n:t.next=n,l.lastBaseUpdate=n}function ea(t,n,l,p){var m=t.updateQueue;Wr=!1;var w=m.firstBaseUpdate,P=m.lastBaseUpdate,Z=m.shared.pending;if(Z!==null){m.shared.pending=null;var ce=Z,_e=ce.next;ce.next=null,P===null?w=_e:P.next=_e,P=ce;var Be=t.alternate;Be!==null&&(Be=Be.updateQueue,Z=Be.lastBaseUpdate,Z!==P&&(Z===null?Be.firstBaseUpdate=_e:Z.next=_e,Be.lastBaseUpdate=ce))}if(w!==null){var ht=m.baseState;P=0,Be=_e=ce=null,Z=w;do{var nt=Z.lane,Dt=Z.eventTime;if((p&nt)===nt){Be!==null&&(Be=Be.next={eventTime:Dt,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Ke=t,En=Z;switch(nt=n,Dt=l,En.tag){case 1:if(Ke=En.payload,typeof Ke=="function"){ht=Ke.call(Dt,ht,nt);break e}ht=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=En.payload,nt=typeof Ke=="function"?Ke.call(Dt,ht,nt):Ke,nt==null)break e;ht=r({},ht,nt);break e;case 2:Wr=!0}}Z.callback!==null&&Z.lane!==0&&(t.flags|=64,nt=m.effects,nt===null?m.effects=[Z]:nt.push(Z))}else Dt={eventTime:Dt,lane:nt,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Be===null?(_e=Be=Dt,ce=ht):Be=Be.next=Dt,P|=nt;if(Z=Z.next,Z===null){if(Z=m.shared.pending,Z===null)break;nt=Z,Z=nt.next,nt.next=null,m.lastBaseUpdate=nt,m.shared.pending=null}}while(!0);if(Be===null&&(ce=ht),m.baseState=ce,m.firstBaseUpdate=_e,m.lastBaseUpdate=Be,n=m.shared.interleaved,n!==null){m=n;do P|=m.lane,m=m.next;while(m!==n)}else w===null&&(m.shared.lanes=0);Fi|=P,t.lanes=P,t.memoizedState=ht}}function Jl(t,n,l){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var p=t[n],m=p.callback;if(m!==null){if(p.callback=null,p=l,typeof m!="function")throw Error(u(191,m));m.call(p)}}}var ql=new s.Component().refs;function us(t,n,l,p){n=t.memoizedState,l=l(p,n),l=l==null?n:r({},n,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var ta={isMounted:function(t){return(t=t._reactInternals)?F(t)===t:!1},enqueueSetState:function(t,n,l){t=t._reactInternals;var p=Dn(),m=Xr(t),w=Or(p,m);w.payload=n,l!=null&&(w.callback=l),Vr(t,w),n=lr(t,m,p),n!==null&&$o(n,t,m)},enqueueReplaceState:function(t,n,l){t=t._reactInternals;var p=Dn(),m=Xr(t),w=Or(p,m);w.tag=1,w.payload=n,l!=null&&(w.callback=l),Vr(t,w),n=lr(t,m,p),n!==null&&$o(n,t,m)},enqueueForceUpdate:function(t,n){t=t._reactInternals;var l=Dn(),p=Xr(t),m=Or(l,p);m.tag=2,n!=null&&(m.callback=n),Vr(t,m),n=lr(t,p,l),n!==null&&$o(n,t,p)}};function $l(t,n,l,p,m,w,P){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(p,w,P):n.prototype&&n.prototype.isPureReactComponent?!oi(l,p)||!oi(m,w):!0}function eu(t,n,l){var p=!1,m=mt,w=n.contextType;return typeof w=="object"&&w!==null?w=en(w):(m=Gt(n)?Ut:At.current,p=n.contextTypes,w=(p=p!=null)?Kt(t,m):mt),n=new n(l,w),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ta,t.stateNode=n,n._reactInternals=t,p&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=m,t.__reactInternalMemoizedMaskedChildContext=w),n}function tu(t,n,l,p){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,p),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,p),n.state!==t&&ta.enqueueReplaceState(n,n.state,null)}function cs(t,n,l,p){var m=t.stateNode;m.props=l,m.state=t.memoizedState,m.refs=ql,ls(t);var w=n.contextType;typeof w=="object"&&w!==null?m.context=en(w):(w=Gt(n)?Ut:At.current,m.context=Kt(t,w)),m.state=t.memoizedState,w=n.getDerivedStateFromProps,typeof w=="function"&&(us(t,n,w,l),m.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&ta.enqueueReplaceState(m,m.state,null),ea(t,l,m,p),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308)}var Ri=[],Ii=0,na=null,ra=0,ir=[],or=0,si=null,Dr=1,Fr="";function li(t,n){Ri[Ii++]=ra,Ri[Ii++]=na,na=t,ra=n}function nu(t,n,l){ir[or++]=Dr,ir[or++]=Fr,ir[or++]=si,si=t;var p=Dr;t=Fr;var m=32-Ft(p)-1;p&=~(1<<m),l+=1;var w=32-Ft(n)+m;if(30<w){var P=m-m%5;w=(p&(1<<P)-1).toString(32),p>>=P,m-=P,Dr=1<<32-Ft(n)+m|l<<m|p,Fr=w+t}else Dr=1<<w|l<<m|p,Fr=t}function fs(t){t.return!==null&&(li(t,1),nu(t,1,0))}function ds(t){for(;t===na;)na=Ri[--Ii],Ri[Ii]=null,ra=Ri[--Ii],Ri[Ii]=null;for(;t===si;)si=ir[--or],ir[or]=null,Fr=ir[--or],ir[or]=null,Dr=ir[--or],ir[or]=null}var Kn=null,Jn=null,Wt=!1,ho=!1,xr=null;function ru(t,n){var l=ur(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=t,n=t.deletions,n===null?(t.deletions=[l],t.flags|=16):n.push(l)}function iu(t,n){switch(t.tag){case 5:return n=rn(n,t.type,t.pendingProps),n!==null?(t.stateNode=n,Kn=t,Jn=st(n),!0):!1;case 6:return n=Vt(n,t.pendingProps),n!==null?(t.stateNode=n,Kn=t,Jn=null,!0):!1;case 13:if(n=Rn(n),n!==null){var l=si!==null?{id:Dr,overflow:Fr}:null;return t.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=ur(18,null,null,0),l.stateNode=n,l.return=t,t.child=l,Kn=t,Jn=null,!0}return!1;default:return!1}}function hs(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ps(t){if(Wt){var n=Jn;if(n){var l=n;if(!iu(t,n)){if(hs(t))throw Error(u(418));n=un(l);var p=Kn;n&&iu(t,n)?ru(p,l):(t.flags=t.flags&-4097|2,Wt=!1,Kn=t)}}else{if(hs(t))throw Error(u(418));t.flags=t.flags&-4097|2,Wt=!1,Kn=t}}}function ou(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function po(t){if(!He||t!==Kn)return!1;if(!Wt)return ou(t),Wt=!0,!1;if(t.tag!==3&&(t.tag!==5||Ce(t.type)&&!q(t.type,t.memoizedProps))){var n=Jn;if(n){if(hs(t)){for(t=Jn;t;)t=un(t);throw Error(u(418))}for(;n;)ru(t,n),n=un(n)}}if(ou(t),t.tag===13){if(!He)throw Error(u(316));if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Jn=ne(t)}else Jn=Kn?un(t.stateNode):null;return!0}function Pi(){He&&(Jn=Kn=null,ho=Wt=!1)}function vs(t){xr===null?xr=[t]:xr.push(t)}function vo(t,n,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(u(309));var p=l.stateNode}if(!p)throw Error(u(147,t));var m=p,w=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===w?n.ref:(n=function(P){var Z=m.refs;Z===ql&&(Z=m.refs={}),P===null?delete Z[w]:Z[w]=P},n._stringRef=w,n)}if(typeof t!="string")throw Error(u(284));if(!l._owner)throw Error(u(290,t))}return t}function ia(t,n){throw t=Object.prototype.toString.call(n),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function au(t){var n=t._init;return n(t._payload)}function su(t){function n(te,X){if(t){var se=te.deletions;se===null?(te.deletions=[X],te.flags|=16):se.push(X)}}function l(te,X){if(!t)return null;for(;X!==null;)n(te,X),X=X.sibling;return null}function p(te,X){for(te=new Map;X!==null;)X.key!==null?te.set(X.key,X):te.set(X.index,X),X=X.sibling;return te}function m(te,X){return te=Kr(te,X),te.index=0,te.sibling=null,te}function w(te,X,se){return te.index=se,t?(se=te.alternate,se!==null?(se=se.index,se<X?(te.flags|=2,X):se):(te.flags|=2,X)):(te.flags|=1048576,X)}function P(te){return t&&te.alternate===null&&(te.flags|=2),te}function Z(te,X,se,Ae){return X===null||X.tag!==6?(X=qs(se,te.mode,Ae),X.return=te,X):(X=m(X,se),X.return=te,X)}function ce(te,X,se,Ae){var Qe=se.type;return Qe===d?Be(te,X,se.props.children,Ae,se.key):X!==null&&(X.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&au(Qe)===X.type)?(Ae=m(X,se.props),Ae.ref=vo(te,X,se),Ae.return=te,Ae):(Ae=Oa(se.type,se.key,se.props,null,te.mode,Ae),Ae.ref=vo(te,X,se),Ae.return=te,Ae)}function _e(te,X,se,Ae){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=$s(se,te.mode,Ae),X.return=te,X):(X=m(X,se.children||[]),X.return=te,X)}function Be(te,X,se,Ae,Qe){return X===null||X.tag!==7?(X=vi(se,te.mode,Ae,Qe),X.return=te,X):(X=m(X,se),X.return=te,X)}function ht(te,X,se){if(typeof X=="string"&&X!==""||typeof X=="number")return X=qs(""+X,te.mode,se),X.return=te,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return se=Oa(X.type,X.key,X.props,null,te.mode,se),se.ref=vo(te,null,X),se.return=te,se;case h:return X=$s(X,te.mode,se),X.return=te,X;case M:var Ae=X._init;return ht(te,Ae(X._payload),se)}if(fe(X)||I(X))return X=vi(X,te.mode,se,null),X.return=te,X;ia(te,X)}return null}function nt(te,X,se,Ae){var Qe=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Qe!==null?null:Z(te,X,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case c:return se.key===Qe?ce(te,X,se,Ae):null;case h:return se.key===Qe?_e(te,X,se,Ae):null;case M:return Qe=se._init,nt(te,X,Qe(se._payload),Ae)}if(fe(se)||I(se))return Qe!==null?null:Be(te,X,se,Ae,null);ia(te,se)}return null}function Dt(te,X,se,Ae,Qe){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return te=te.get(se)||null,Z(X,te,""+Ae,Qe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case c:return te=te.get(Ae.key===null?se:Ae.key)||null,ce(X,te,Ae,Qe);case h:return te=te.get(Ae.key===null?se:Ae.key)||null,_e(X,te,Ae,Qe);case M:var yt=Ae._init;return Dt(te,X,se,yt(Ae._payload),Qe)}if(fe(Ae)||I(Ae))return te=te.get(se)||null,Be(X,te,Ae,Qe,null);ia(X,Ae)}return null}function Ke(te,X,se,Ae){for(var Qe=null,yt=null,pt=X,Pt=X=0,gn=null;pt!==null&&Pt<se.length;Pt++){pt.index>Pt?(gn=pt,pt=null):gn=pt.sibling;var Lt=nt(te,pt,se[Pt],Ae);if(Lt===null){pt===null&&(pt=gn);break}t&&pt&&Lt.alternate===null&&n(te,pt),X=w(Lt,X,Pt),yt===null?Qe=Lt:yt.sibling=Lt,yt=Lt,pt=gn}if(Pt===se.length)return l(te,pt),Wt&&li(te,Pt),Qe;if(pt===null){for(;Pt<se.length;Pt++)pt=ht(te,se[Pt],Ae),pt!==null&&(X=w(pt,X,Pt),yt===null?Qe=pt:yt.sibling=pt,yt=pt);return Wt&&li(te,Pt),Qe}for(pt=p(te,pt);Pt<se.length;Pt++)gn=Dt(pt,te,Pt,se[Pt],Ae),gn!==null&&(t&&gn.alternate!==null&&pt.delete(gn.key===null?Pt:gn.key),X=w(gn,X,Pt),yt===null?Qe=gn:yt.sibling=gn,yt=gn);return t&&pt.forEach(function(Jr){return n(te,Jr)}),Wt&&li(te,Pt),Qe}function En(te,X,se,Ae){var Qe=I(se);if(typeof Qe!="function")throw Error(u(150));if(se=Qe.call(se),se==null)throw Error(u(151));for(var yt=Qe=null,pt=X,Pt=X=0,gn=null,Lt=se.next();pt!==null&&!Lt.done;Pt++,Lt=se.next()){pt.index>Pt?(gn=pt,pt=null):gn=pt.sibling;var Jr=nt(te,pt,Lt.value,Ae);if(Jr===null){pt===null&&(pt=gn);break}t&&pt&&Jr.alternate===null&&n(te,pt),X=w(Jr,X,Pt),yt===null?Qe=Jr:yt.sibling=Jr,yt=Jr,pt=gn}if(Lt.done)return l(te,pt),Wt&&li(te,Pt),Qe;if(pt===null){for(;!Lt.done;Pt++,Lt=se.next())Lt=ht(te,Lt.value,Ae),Lt!==null&&(X=w(Lt,X,Pt),yt===null?Qe=Lt:yt.sibling=Lt,yt=Lt);return Wt&&li(te,Pt),Qe}for(pt=p(te,pt);!Lt.done;Pt++,Lt=se.next())Lt=Dt(pt,te,Pt,Lt.value,Ae),Lt!==null&&(t&&Lt.alternate!==null&&pt.delete(Lt.key===null?Pt:Lt.key),X=w(Lt,X,Pt),yt===null?Qe=Lt:yt.sibling=Lt,yt=Lt);return t&&pt.forEach(function(G1){return n(te,G1)}),Wt&&li(te,Pt),Qe}function cr(te,X,se,Ae){if(typeof se=="object"&&se!==null&&se.type===d&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case c:e:{for(var Qe=se.key,yt=X;yt!==null;){if(yt.key===Qe){if(Qe=se.type,Qe===d){if(yt.tag===7){l(te,yt.sibling),X=m(yt,se.props.children),X.return=te,te=X;break e}}else if(yt.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&au(Qe)===yt.type){l(te,yt.sibling),X=m(yt,se.props),X.ref=vo(te,yt,se),X.return=te,te=X;break e}l(te,yt);break}else n(te,yt);yt=yt.sibling}se.type===d?(X=vi(se.props.children,te.mode,Ae,se.key),X.return=te,te=X):(Ae=Oa(se.type,se.key,se.props,null,te.mode,Ae),Ae.ref=vo(te,X,se),Ae.return=te,te=Ae)}return P(te);case h:e:{for(yt=se.key;X!==null;){if(X.key===yt)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){l(te,X.sibling),X=m(X,se.children||[]),X.return=te,te=X;break e}else{l(te,X);break}else n(te,X);X=X.sibling}X=$s(se,te.mode,Ae),X.return=te,te=X}return P(te);case M:return yt=se._init,cr(te,X,yt(se._payload),Ae)}if(fe(se))return Ke(te,X,se,Ae);if(I(se))return En(te,X,se,Ae);ia(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,X!==null&&X.tag===6?(l(te,X.sibling),X=m(X,se),X.return=te,te=X):(l(te,X),X=qs(se,te.mode,Ae),X.return=te,te=X),P(te)):l(te,X)}return cr}var Li=su(!0),lu=su(!1),go={},ar=gt(go),mo=gt(go),Ai=gt(go);function kr(t){if(t===go)throw Error(u(174));return t}function gs(t,n){ct(Ai,n),ct(mo,t),ct(ar,go),t=ye(n),ot(ar),ct(ar,t)}function Ui(){ot(ar),ot(mo),ot(Ai)}function uu(t){var n=kr(Ai.current),l=kr(ar.current);n=J(l,t.type,n),l!==n&&(ct(mo,t),ct(ar,n))}function ms(t){mo.current===t&&(ot(ar),ot(mo))}var Xt=gt(0);function oa(t){for(var n=t;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||wn(l)||In(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ys=[];function ws(){for(var t=0;t<ys.length;t++){var n=ys[t];Re?n._workInProgressVersionPrimary=null:n._workInProgressVersionSecondary=null}ys.length=0}var aa=f.ReactCurrentDispatcher,sr=f.ReactCurrentBatchConfig,Oi=0,Jt=null,Sn=null,vn=null,sa=!1,yo=!1,wo=0,h1=0;function _n(){throw Error(u(321))}function xs(t,n){if(n===null)return!1;for(var l=0;l<n.length&&l<t.length;l++)if(!Xn(t[l],n[l]))return!1;return!0}function Ss(t,n,l,p,m,w){if(Oi=w,Jt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,aa.current=t===null||t.memoizedState===null?m1:y1,t=l(p,m),yo){w=0;do{if(yo=!1,wo=0,25<=w)throw Error(u(301));w+=1,vn=Sn=null,n.updateQueue=null,aa.current=w1,t=l(p,m)}while(yo)}if(aa.current=da,n=Sn!==null&&Sn.next!==null,Oi=0,vn=Sn=Jt=null,sa=!1,n)throw Error(u(300));return t}function _s(){var t=wo!==0;return wo=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Jt.memoizedState=vn=t:vn=vn.next=t,vn}function Mr(){if(Sn===null){var t=Jt.alternate;t=t!==null?t.memoizedState:null}else t=Sn.next;var n=vn===null?Jt.memoizedState:vn.next;if(n!==null)vn=n,Sn=t;else{if(t===null)throw Error(u(310));Sn=t,t={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},vn===null?Jt.memoizedState=vn=t:vn=vn.next=t}return vn}function ui(t,n){return typeof n=="function"?n(t):n}function la(t){var n=Mr(),l=n.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=t;var p=Sn,m=p.baseQueue,w=l.pending;if(w!==null){if(m!==null){var P=m.next;m.next=w.next,w.next=P}p.baseQueue=m=w,l.pending=null}if(m!==null){w=m.next,p=p.baseState;var Z=P=null,ce=null,_e=w;do{var Be=_e.lane;if((Oi&Be)===Be)ce!==null&&(ce=ce.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),p=_e.hasEagerState?_e.eagerState:t(p,_e.action);else{var ht={lane:Be,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};ce===null?(Z=ce=ht,P=p):ce=ce.next=ht,Jt.lanes|=Be,Fi|=Be}_e=_e.next}while(_e!==null&&_e!==w);ce===null?P=p:ce.next=Z,Xn(p,n.memoizedState)||(qn=!0),n.memoizedState=p,n.baseState=P,n.baseQueue=ce,l.lastRenderedState=p}if(t=l.interleaved,t!==null){m=t;do w=m.lane,Jt.lanes|=w,Fi|=w,m=m.next;while(m!==t)}else m===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function ua(t){var n=Mr(),l=n.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=t;var p=l.dispatch,m=l.pending,w=n.memoizedState;if(m!==null){l.pending=null;var P=m=m.next;do w=t(w,P.action),P=P.next;while(P!==m);Xn(w,n.memoizedState)||(qn=!0),n.memoizedState=w,n.baseQueue===null&&(n.baseState=w),l.lastRenderedState=w}return[w,p]}function cu(){}function fu(t,n){var l=Jt,p=Mr(),m=n(),w=!Xn(p.memoizedState,m);if(w&&(p.memoizedState=m,qn=!0),p=p.queue,So(pu.bind(null,l,p,t),[t]),p.getSnapshot!==n||w||vn!==null&&vn.memoizedState.tag&1){if(l.flags|=2048,xo(9,hu.bind(null,l,p,m,n),void 0,null),an===null)throw Error(u(349));Oi&30||du(l,n,m)}return m}function du(t,n,l){t.flags|=16384,t={getSnapshot:n,value:l},n=Jt.updateQueue,n===null?(n={lastEffect:null,stores:null},Jt.updateQueue=n,n.stores=[t]):(l=n.stores,l===null?n.stores=[t]:l.push(t))}function hu(t,n,l,p){n.value=l,n.getSnapshot=p,vu(n)&&lr(t,1,-1)}function pu(t,n,l){return l(function(){vu(n)&&lr(t,1,-1)})}function vu(t){var n=t.getSnapshot;t=t.value;try{var l=n();return!Xn(t,l)}catch{return!0}}function Cs(t){var n=jr();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:t},n.queue=t,t=t.dispatch=g1.bind(null,Jt,t),[n.memoizedState,t]}function xo(t,n,l,p){return t={tag:t,create:n,destroy:l,deps:p,next:null},n=Jt.updateQueue,n===null?(n={lastEffect:null,stores:null},Jt.updateQueue=n,n.lastEffect=t.next=t):(l=n.lastEffect,l===null?n.lastEffect=t.next=t:(p=l.next,l.next=t,t.next=p,n.lastEffect=t)),t}function gu(){return Mr().memoizedState}function ca(t,n,l,p){var m=jr();Jt.flags|=t,m.memoizedState=xo(1|n,l,void 0,p===void 0?null:p)}function fa(t,n,l,p){var m=Mr();p=p===void 0?null:p;var w=void 0;if(Sn!==null){var P=Sn.memoizedState;if(w=P.destroy,p!==null&&xs(p,P.deps)){m.memoizedState=xo(n,l,w,p);return}}Jt.flags|=t,m.memoizedState=xo(1|n,l,w,p)}function Es(t,n){return ca(8390656,8,t,n)}function So(t,n){return fa(2048,8,t,n)}function mu(t,n){return fa(4,2,t,n)}function yu(t,n){return fa(4,4,t,n)}function wu(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xu(t,n,l){return l=l!=null?l.concat([t]):null,fa(4,4,wu.bind(null,n,t),l)}function Ts(){}function Su(t,n){var l=Mr();n=n===void 0?null:n;var p=l.memoizedState;return p!==null&&n!==null&&xs(n,p[1])?p[0]:(l.memoizedState=[t,n],t)}function _u(t,n){var l=Mr();n=n===void 0?null:n;var p=l.memoizedState;return p!==null&&n!==null&&xs(n,p[1])?p[0]:(t=t(),l.memoizedState=[t,n],t)}function p1(t,n){var l=_t;_t=l!==0&&4>l?l:4,t(!0);var p=sr.transition;sr.transition={};try{t(!1),n()}finally{_t=l,sr.transition=p}}function Cu(){return Mr().memoizedState}function v1(t,n,l){var p=Xr(t);l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},Eu(t)?Tu(n,l):(ku(t,n,l),l=Dn(),t=lr(t,p,l),t!==null&&Mu(t,n,p))}function g1(t,n,l){var p=Xr(t),m={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(Eu(t))Tu(n,m);else{ku(t,n,m);var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=n.lastRenderedReducer,w!==null))try{var P=n.lastRenderedState,Z=w(P,l);if(m.hasEagerState=!0,m.eagerState=Z,Xn(Z,P))return}catch{}finally{}l=Dn(),t=lr(t,p,l),t!==null&&Mu(t,n,p)}}function Eu(t){var n=t.alternate;return t===Jt||n!==null&&n===Jt}function Tu(t,n){yo=sa=!0;var l=t.pending;l===null?n.next=n:(n.next=l.next,l.next=n),t.pending=n}function ku(t,n,l){an!==null&&t.mode&1&&!(wt&2)?(t=n.interleaved,t===null?(l.next=l,Qn===null?Qn=[n]:Qn.push(n)):(l.next=t.next,t.next=l),n.interleaved=l):(t=n.pending,t===null?l.next=l:(l.next=t.next,t.next=l),n.pending=l)}function Mu(t,n,l){if(l&4194240){var p=n.lanes;p&=t.pendingLanes,l|=p,n.lanes=l,Er(t,l)}}var da={readContext:en,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},m1={readContext:en,useCallback:function(t,n){return jr().memoizedState=[t,n===void 0?null:n],t},useContext:en,useEffect:Es,useImperativeHandle:function(t,n,l){return l=l!=null?l.concat([t]):null,ca(4194308,4,wu.bind(null,n,t),l)},useLayoutEffect:function(t,n){return ca(4194308,4,t,n)},useInsertionEffect:function(t,n){return ca(4,2,t,n)},useMemo:function(t,n){var l=jr();return n=n===void 0?null:n,t=t(),l.memoizedState=[t,n],t},useReducer:function(t,n,l){var p=jr();return n=l!==void 0?l(n):n,p.memoizedState=p.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},p.queue=t,t=t.dispatch=v1.bind(null,Jt,t),[p.memoizedState,t]},useRef:function(t){var n=jr();return t={current:t},n.memoizedState=t},useState:Cs,useDebugValue:Ts,useDeferredValue:function(t){var n=Cs(t),l=n[0],p=n[1];return Es(function(){var m=sr.transition;sr.transition={};try{p(t)}finally{sr.transition=m}},[t]),l},useTransition:function(){var t=Cs(!1),n=t[0];return t=p1.bind(null,t[1]),jr().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,l){var p=Jt,m=jr();if(Wt){if(l===void 0)throw Error(u(407));l=l()}else{if(l=n(),an===null)throw Error(u(349));Oi&30||du(p,n,l)}m.memoizedState=l;var w={value:l,getSnapshot:n};return m.queue=w,Es(pu.bind(null,p,w,t),[t]),p.flags|=2048,xo(9,hu.bind(null,p,w,l,n),void 0,null),l},useId:function(){var t=jr(),n=an.identifierPrefix;if(Wt){var l=Fr,p=Dr;l=(p&~(1<<32-Ft(p)-1)).toString(32)+l,n=":"+n+"R"+l,l=wo++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=h1++,n=":"+n+"r"+l.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},y1={readContext:en,useCallback:Su,useContext:en,useEffect:So,useImperativeHandle:xu,useInsertionEffect:mu,useLayoutEffect:yu,useMemo:_u,useReducer:la,useRef:gu,useState:function(){return la(ui)},useDebugValue:Ts,useDeferredValue:function(t){var n=la(ui),l=n[0],p=n[1];return So(function(){var m=sr.transition;sr.transition={};try{p(t)}finally{sr.transition=m}},[t]),l},useTransition:function(){var t=la(ui)[0],n=Mr().memoizedState;return[t,n]},useMutableSource:cu,useSyncExternalStore:fu,useId:Cu,unstable_isNewReconciler:!1},w1={readContext:en,useCallback:Su,useContext:en,useEffect:So,useImperativeHandle:xu,useInsertionEffect:mu,useLayoutEffect:yu,useMemo:_u,useReducer:ua,useRef:gu,useState:function(){return ua(ui)},useDebugValue:Ts,useDeferredValue:function(t){var n=ua(ui),l=n[0],p=n[1];return So(function(){var m=sr.transition;sr.transition={};try{p(t)}finally{sr.transition=m}},[t]),l},useTransition:function(){var t=ua(ui)[0],n=Mr().memoizedState;return[t,n]},useMutableSource:cu,useSyncExternalStore:fu,useId:Cu,unstable_isNewReconciler:!1};function ks(t,n){try{var l="",p=n;do l+=ai(p),p=p.return;while(p);var m=l}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:t,source:n,stack:m}}function Ms(t,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var x1=typeof WeakMap=="function"?WeakMap:Map;function bu(t,n,l){l=Or(-1,l),l.tag=3,l.payload={element:null};var p=n.value;return l.callback=function(){ba||(ba=!0,Vs=p),Ms(t,n)},l}function Ru(t,n,l){l=Or(-1,l),l.tag=3;var p=t.type.getDerivedStateFromError;if(typeof p=="function"){var m=n.value;l.payload=function(){return p(m)},l.callback=function(){Ms(t,n)}}var w=t.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(l.callback=function(){Ms(t,n),typeof p!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var P=n.stack;this.componentDidCatch(n.value,{componentStack:P!==null?P:""})}),l}function Iu(t,n,l){var p=t.pingCache;if(p===null){p=t.pingCache=new x1;var m=new Set;p.set(n,m)}else m=p.get(n),m===void 0&&(m=new Set,p.set(n,m));m.has(l)||(m.add(l),t=U1.bind(null,t,n,l),n.then(t,t))}function Pu(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Lu(t,n,l,p,m){return t.mode&1?(t.flags|=65536,t.lanes=m,t):(t===n?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=Or(-1,1),n.tag=2,Vr(l,n))),l.lanes|=1),t)}function br(t){t.flags|=4}function Au(t,n){if(t!==null&&t.child===n.child)return!0;if(n.flags&16)return!1;for(t=n.child;t!==null;){if(t.flags&12854||t.subtreeFlags&12854)return!1;t=t.sibling}return!0}var _o,Co,ha,pa;if(ve)_o=function(t,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)z(t,l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Co=function(){},ha=function(t,n,l,p,m){if(t=t.memoizedProps,t!==p){var w=n.stateNode,P=kr(ar.current);l=$(w,l,t,p,m,P),(n.updateQueue=l)&&br(n)}},pa=function(t,n,l,p){l!==p&&br(n)};else if(ge){_o=function(t,n,l,p){for(var m=n.child;m!==null;){if(m.tag===5){var w=m.stateNode;l&&p&&(w=kt(w,m.type,m.memoizedProps,m)),z(t,w)}else if(m.tag===6)w=m.stateNode,l&&p&&(w=Nt(w,m.memoizedProps,m)),z(t,w);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)w=m.child,w!==null&&(w.return=m),_o(t,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===n)break;for(;m.sibling===null;){if(m.return===null||m.return===n)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};var Uu=function(t,n,l,p){for(var m=n.child;m!==null;){if(m.tag===5){var w=m.stateNode;l&&p&&(w=kt(w,m.type,m.memoizedProps,m)),Tt(t,w)}else if(m.tag===6)w=m.stateNode,l&&p&&(w=Nt(w,m.memoizedProps,m)),Tt(t,w);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)w=m.child,w!==null&&(w.return=m),Uu(t,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===n)break;for(;m.sibling===null;){if(m.return===null||m.return===n)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};Co=function(t,n){var l=n.stateNode;if(!Au(t,n)){t=l.containerInfo;var p=rt(t);Uu(p,n,!1,!1),l.pendingChildren=p,br(n),bt(t,p)}},ha=function(t,n,l,p,m){var w=t.stateNode,P=t.memoizedProps;if((t=Au(t,n))&&P===p)n.stateNode=w;else{var Z=n.stateNode,ce=kr(ar.current),_e=null;P!==p&&(_e=$(Z,l,P,p,m,ce)),t&&_e===null?n.stateNode=w:(w=Et(w,_e,l,P,p,n,t,Z),Y(w,l,p,m,ce)&&br(n),n.stateNode=w,t?br(n):_o(w,n,!1,!1))}},pa=function(t,n,l,p){l!==p?(t=kr(Ai.current),l=kr(ar.current),n.stateNode=re(p,t,l,n),br(n)):n.stateNode=t.stateNode}}else Co=function(){},ha=function(){},pa=function(){};function Eo(t,n){if(!Wt)switch(t.tailMode){case"hidden":n=t.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:p.sibling=null}}function Cn(t){var n=t.alternate!==null&&t.alternate.child===t.child,l=0,p=0;if(n)for(var m=t.child;m!==null;)l|=m.lanes|m.childLanes,p|=m.subtreeFlags&14680064,p|=m.flags&14680064,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)l|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=p,t.childLanes=l,n}function S1(t,n,l){var p=n.pendingProps;switch(ds(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(n),null;case 1:return Gt(n.type)&&Ht(),Cn(n),null;case 3:return p=n.stateNode,Ui(),ot(ft),ot(At),ws(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(t===null||t.child===null)&&(po(n)?br(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,xr!==null&&(Xs(xr),xr=null))),Co(t,n),Cn(n),null;case 5:ms(n),l=kr(Ai.current);var m=n.type;if(t!==null&&n.stateNode!=null)ha(t,n,m,p,l),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!p){if(n.stateNode===null)throw Error(u(166));return Cn(n),null}if(t=kr(ar.current),po(n)){if(!He)throw Error(u(175));t=_(n.stateNode,n.type,n.memoizedProps,l,t,n,!ho),n.updateQueue=t,t!==null&&br(n)}else{var w=A(m,p,l,t,n);_o(w,n,!1,!1),n.stateNode=w,Y(w,m,p,l,t)&&br(n)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Cn(n),null;case 6:if(t&&n.stateNode!=null)pa(t,n,t.memoizedProps,p);else{if(typeof p!="string"&&n.stateNode===null)throw Error(u(166));if(t=kr(Ai.current),l=kr(ar.current),po(n)){if(!He)throw Error(u(176));if(t=n.stateNode,p=n.memoizedProps,(l=k(t,p,n,!ho))&&(m=Kn,m!==null))switch(w=(m.mode&1)!==0,m.tag){case 3:Ee(m.stateNode.containerInfo,t,p,w);break;case 5:ke(m.type,m.memoizedProps,m.stateNode,t,p,w)}l&&br(n)}else n.stateNode=re(p,t,l,n)}return Cn(n),null;case 13:if(ot(Xt),p=n.memoizedState,Wt&&Jn!==null&&n.mode&1&&!(n.flags&128)){for(t=Jn;t;)t=un(t);return Pi(),n.flags|=98560,n}if(p!==null&&p.dehydrated!==null){if(p=po(n),t===null){if(!p)throw Error(u(318));if(!He)throw Error(u(344));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));B(t,n)}else Pi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;return Cn(n),null}return xr!==null&&(Xs(xr),xr=null),n.flags&128?(n.lanes=l,n):(p=p!==null,l=!1,t===null?po(n):l=t.memoizedState!==null,p&&!l&&(n.child.flags|=8192,n.mode&1&&(t===null||Xt.current&1?cn===0&&(cn=3):Ks())),n.updateQueue!==null&&(n.flags|=4),Cn(n),null);case 4:return Ui(),Co(t,n),t===null&&Ie(n.stateNode.containerInfo),Cn(n),null;case 10:return pn(n.type._context),Cn(n),null;case 17:return Gt(n.type)&&Ht(),Cn(n),null;case 19:if(ot(Xt),m=n.memoizedState,m===null)return Cn(n),null;if(p=(n.flags&128)!==0,w=m.rendering,w===null)if(p)Eo(m,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(w=oa(t),w!==null){for(n.flags|=128,Eo(m,!1),t=w.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),n.subtreeFlags=0,t=l,p=n.child;p!==null;)l=p,m=t,l.flags&=14680066,w=l.alternate,w===null?(l.childLanes=0,l.lanes=m,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=w.childLanes,l.lanes=w.lanes,l.child=w.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=w.memoizedProps,l.memoizedState=w.memoizedState,l.updateQueue=w.updateQueue,l.type=w.type,m=w.dependencies,l.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),p=p.sibling;return ct(Xt,Xt.current&1|2),n.child}t=t.sibling}m.tail!==null&&Yt()>Ws&&(n.flags|=128,p=!0,Eo(m,!1),n.lanes=4194304)}else{if(!p)if(t=oa(w),t!==null){if(n.flags|=128,p=!0,t=t.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),Eo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Wt)return Cn(n),null}else 2*Yt()-m.renderingStartTime>Ws&&l!==1073741824&&(n.flags|=128,p=!0,Eo(m,!1),n.lanes=4194304);m.isBackwards?(w.sibling=n.child,n.child=w):(t=m.last,t!==null?t.sibling=w:n.child=w,m.last=w)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=Yt(),n.sibling=null,t=Xt.current,ct(Xt,p?t&1|2:t&1),n):(Cn(n),null);case 22:case 23:return Qs(),p=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==p&&(n.flags|=8192),p&&n.mode&1?$n&1073741824&&(Cn(n),ve&&n.subtreeFlags&6&&(n.flags|=8192)):Cn(n),null;case 24:return null;case 25:return null}throw Error(u(156,n.tag))}var _1=f.ReactCurrentOwner,qn=!1;function On(t,n,l,p){n.child=t===null?lu(n,null,l,p):Li(n,t.child,l,p)}function Ou(t,n,l,p,m){l=l.render;var w=n.ref;return $t(n,m),p=Ss(t,n,l,p,w,m),l=_s(),t!==null&&!qn?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~m,Nr(t,n,m)):(Wt&&l&&fs(n),n.flags|=1,On(t,n,p,m),n.child)}function Du(t,n,l,p,m){if(t===null){var w=l.type;return typeof w=="function"&&!Js(w)&&w.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=w,Fu(t,n,w,p,m)):(t=Oa(l.type,null,p,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(w=t.child,!(t.lanes&m)){var P=w.memoizedProps;if(l=l.compare,l=l!==null?l:oi,l(P,p)&&t.ref===n.ref)return Nr(t,n,m)}return n.flags|=1,t=Kr(w,p),t.ref=n.ref,t.return=n,n.child=t}function Fu(t,n,l,p,m){if(t!==null&&oi(t.memoizedProps,p)&&t.ref===n.ref)if(qn=!1,(t.lanes&m)!==0)t.flags&131072&&(qn=!0);else return n.lanes=t.lanes,Nr(t,n,m);return bs(t,n,l,p,m)}function ju(t,n,l){var p=n.pendingProps,m=p.children,w=t!==null?t.memoizedState:null;if(p.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null},ct(Di,$n),$n|=l;else if(l&1073741824)n.memoizedState={baseLanes:0,cachePool:null},p=w!==null?w.baseLanes:l,ct(Di,$n),$n|=p;else return t=w!==null?w.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null},n.updateQueue=null,ct(Di,$n),$n|=t,null;else w!==null?(p=w.baseLanes|l,n.memoizedState=null):p=l,ct(Di,$n),$n|=p;return On(t,n,m,l),n.child}function Nu(t,n){var l=n.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function bs(t,n,l,p,m){var w=Gt(l)?Ut:At.current;return w=Kt(n,w),$t(n,m),l=Ss(t,n,l,p,w,m),p=_s(),t!==null&&!qn?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~m,Nr(t,n,m)):(Wt&&p&&fs(n),n.flags|=1,On(t,n,l,m),n.child)}function zu(t,n,l,p,m){if(Gt(l)){var w=!0;It(n)}else w=!1;if($t(n,m),n.stateNode===null)t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2),eu(n,l,p),cs(n,l,p,m),p=!0;else if(t===null){var P=n.stateNode,Z=n.memoizedProps;P.props=Z;var ce=P.context,_e=l.contextType;typeof _e=="object"&&_e!==null?_e=en(_e):(_e=Gt(l)?Ut:At.current,_e=Kt(n,_e));var Be=l.getDerivedStateFromProps,ht=typeof Be=="function"||typeof P.getSnapshotBeforeUpdate=="function";ht||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Z!==p||ce!==_e)&&tu(n,P,p,_e),Wr=!1;var nt=n.memoizedState;P.state=nt,ea(n,p,P,m),ce=n.memoizedState,Z!==p||nt!==ce||ft.current||Wr?(typeof Be=="function"&&(us(n,l,Be,p),ce=n.memoizedState),(Z=Wr||$l(n,l,Z,p,nt,ce,_e))?(ht||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(n.flags|=4194308)):(typeof P.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=p,n.memoizedState=ce),P.props=p,P.state=ce,P.context=_e,p=Z):(typeof P.componentDidMount=="function"&&(n.flags|=4194308),p=!1)}else{P=n.stateNode,Ql(t,n),Z=n.memoizedProps,_e=n.type===n.elementType?Z:An(n.type,Z),P.props=_e,ht=n.pendingProps,nt=P.context,ce=l.contextType,typeof ce=="object"&&ce!==null?ce=en(ce):(ce=Gt(l)?Ut:At.current,ce=Kt(n,ce));var Dt=l.getDerivedStateFromProps;(Be=typeof Dt=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Z!==ht||nt!==ce)&&tu(n,P,p,ce),Wr=!1,nt=n.memoizedState,P.state=nt,ea(n,p,P,m);var Ke=n.memoizedState;Z!==ht||nt!==Ke||ft.current||Wr?(typeof Dt=="function"&&(us(n,l,Dt,p),Ke=n.memoizedState),(_e=Wr||$l(n,l,_e,p,nt,Ke,ce)||!1)?(Be||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Ke,ce),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Ke,ce)),typeof P.componentDidUpdate=="function"&&(n.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof P.componentDidUpdate!="function"||Z===t.memoizedProps&&nt===t.memoizedState||(n.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||Z===t.memoizedProps&&nt===t.memoizedState||(n.flags|=1024),n.memoizedProps=p,n.memoizedState=Ke),P.props=p,P.state=Ke,P.context=ce,p=_e):(typeof P.componentDidUpdate!="function"||Z===t.memoizedProps&&nt===t.memoizedState||(n.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||Z===t.memoizedProps&&nt===t.memoizedState||(n.flags|=1024),p=!1)}return Rs(t,n,l,p,w,m)}function Rs(t,n,l,p,m,w){Nu(t,n);var P=(n.flags&128)!==0;if(!p&&!P)return m&&dt(n,l,!1),Nr(t,n,w);p=n.stateNode,_1.current=n;var Z=P&&typeof l.getDerivedStateFromError!="function"?null:p.render();return n.flags|=1,t!==null&&P?(n.child=Li(n,t.child,null,w),n.child=Li(n,null,Z,w)):On(t,n,Z,w),n.memoizedState=p.state,m&&dt(n,l,!0),n.child}function Bu(t){var n=t.stateNode;n.pendingContext?Rt(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Rt(t,n.context,!1),gs(t,n.containerInfo)}function Gu(t,n,l,p,m){return Pi(),vs(m),n.flags|=256,On(t,n,l,p),n.child}var va={dehydrated:null,treeContext:null,retryLane:0};function ga(t){return{baseLanes:t,cachePool:null}}function Hu(t,n,l){var p=n.pendingProps,m=Xt.current,w=!1,P=(n.flags&128)!==0,Z;if((Z=P)||(Z=t!==null&&t.memoizedState===null?!1:(m&2)!==0),Z?(w=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(m|=1),ct(Xt,m&1),t===null)return ps(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?In(t)?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(m=p.children,t=p.fallback,w?(p=n.mode,w=n.child,m={mode:"hidden",children:m},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=m):w=Da(m,p,0,null),t=vi(t,p,l,null),w.return=n,t.return=n,w.sibling=t,n.child=w,n.child.memoizedState=ga(l),n.memoizedState=va,t):Is(n,m));if(m=t.memoizedState,m!==null){if(Z=m.dehydrated,Z!==null){if(P)return n.flags&256?(n.flags&=-257,ma(t,n,l,Error(u(422)))):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(w=p.fallback,m=n.mode,p=Da({mode:"visible",children:p.children},m,0,null),w=vi(w,m,l,null),w.flags|=2,p.return=n,w.return=n,p.sibling=w,n.child=p,n.mode&1&&Li(n,t.child,null,l),n.child.memoizedState=ga(l),n.memoizedState=va,w);if(!(n.mode&1))n=ma(t,n,l,null);else if(In(Z))n=ma(t,n,l,Error(u(419)));else if(p=(l&t.childLanes)!==0,qn||p){if(p=an,p!==null){switch(l&-l){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}p=w&(p.suspendedLanes|l)?0:w,p!==0&&p!==m.retryLane&&(m.retryLane=p,lr(t,p,-1))}Ks(),n=ma(t,n,l,Error(u(421)))}else wn(Z)?(n.flags|=128,n.child=t.child,n=O1.bind(null,t),xn(Z,n),n=null):(l=m.treeContext,He&&(Jn=yr(Z),Kn=n,Wt=!0,xr=null,ho=!1,l!==null&&(ir[or++]=Dr,ir[or++]=Fr,ir[or++]=si,Dr=l.id,Fr=l.overflow,si=n)),n=Is(n,n.pendingProps.children),n.flags|=4096);return n}return w?(p=Vu(t,n,p.children,p.fallback,l),w=n.child,m=t.child.memoizedState,w.memoizedState=m===null?ga(l):{baseLanes:m.baseLanes|l,cachePool:null},w.childLanes=t.childLanes&~l,n.memoizedState=va,p):(l=Wu(t,n,p.children,l),n.memoizedState=null,l)}return w?(p=Vu(t,n,p.children,p.fallback,l),w=n.child,m=t.child.memoizedState,w.memoizedState=m===null?ga(l):{baseLanes:m.baseLanes|l,cachePool:null},w.childLanes=t.childLanes&~l,n.memoizedState=va,p):(l=Wu(t,n,p.children,l),n.memoizedState=null,l)}function Is(t,n){return n=Da({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Wu(t,n,l,p){var m=t.child;return t=m.sibling,l=Kr(m,{mode:"visible",children:l}),!(n.mode&1)&&(l.lanes=p),l.return=n,l.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=l}function Vu(t,n,l,p,m){var w=n.mode;t=t.child;var P=t.sibling,Z={mode:"hidden",children:l};return!(w&1)&&n.child!==t?(l=n.child,l.childLanes=0,l.pendingProps=Z,n.deletions=null):(l=Kr(t,Z),l.subtreeFlags=t.subtreeFlags&14680064),P!==null?p=Kr(P,p):(p=vi(p,w,m,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,p}function ma(t,n,l,p){return p!==null&&vs(p),Li(n,t.child,null,l),t=Is(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Zu(t,n,l){t.lanes|=n;var p=t.alternate;p!==null&&(p.lanes|=n),Un(t.return,n,l)}function Ps(t,n,l,p,m){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:m}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=l,w.tailMode=m)}function Yu(t,n,l){var p=n.pendingProps,m=p.revealOrder,w=p.tail;if(On(t,n,p.children,l),p=Xt.current,p&2)p=p&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zu(t,l,n);else if(t.tag===19)Zu(t,l,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}p&=1}if(ct(Xt,p),!(n.mode&1))n.memoizedState=null;else switch(m){case"forwards":for(l=n.child,m=null;l!==null;)t=l.alternate,t!==null&&oa(t)===null&&(m=l),l=l.sibling;l=m,l===null?(m=n.child,n.child=null):(m=l.sibling,l.sibling=null),Ps(n,!1,m,l,w);break;case"backwards":for(l=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&oa(t)===null){n.child=m;break}t=m.sibling,m.sibling=l,l=m,m=t}Ps(n,!0,l,null,w);break;case"together":Ps(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Nr(t,n,l){if(t!==null&&(n.dependencies=t.dependencies),Fi|=n.lanes,!(l&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(u(153));if(n.child!==null){for(t=n.child,l=Kr(t,t.pendingProps),n.child=l,l.return=n;t.sibling!==null;)t=t.sibling,l=l.sibling=Kr(t,t.pendingProps),l.return=n;l.sibling=null}return n.child}function C1(t,n,l){switch(n.tag){case 3:Bu(n),Pi();break;case 5:uu(n);break;case 1:Gt(n.type)&&It(n);break;case 4:gs(n,n.stateNode.containerInfo);break;case 10:qo(n,n.type._context,n.memoizedProps.value);break;case 13:var p=n.memoizedState;if(p!==null)return p.dehydrated!==null?(ct(Xt,Xt.current&1),n.flags|=128,null):l&n.child.childLanes?Hu(t,n,l):(ct(Xt,Xt.current&1),t=Nr(t,n,l),t!==null?t.sibling:null);ct(Xt,Xt.current&1);break;case 19:if(p=(l&n.childLanes)!==0,t.flags&128){if(p)return Yu(t,n,l);n.flags|=128}var m=n.memoizedState;if(m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ct(Xt,Xt.current),p)break;return null;case 22:case 23:return n.lanes=0,ju(t,n,l)}return Nr(t,n,l)}function E1(t,n){switch(ds(n),n.tag){case 1:return Gt(n.type)&&Ht(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ui(),ot(ft),ot(At),ws(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return ms(n),null;case 13:if(ot(Xt),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(u(340));Pi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ot(Xt),null;case 4:return Ui(),null;case 10:return pn(n.type._context),null;case 22:case 23:return Qs(),null;case 24:return null;default:return null}}var ya=!1,ci=!1,T1=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function wa(t,n){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){Gn(t,n,p)}else l.current=null}function Ls(t,n,l){try{l()}catch(p){Gn(t,n,p)}}var Xu=!1;function k1(t,n){for(K(t.containerInfo),Pe=n;Pe!==null;)if(t=Pe,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,Pe=n;else for(;Pe!==null;){t=Pe;try{var l=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(l!==null){var p=l.memoizedProps,m=l.memoizedState,w=t.stateNode,P=w.getSnapshotBeforeUpdate(t.elementType===t.type?p:An(t.type,p),m);w.__reactInternalSnapshotBeforeUpdate=P}break;case 3:ve&&ln(t.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(Z){Gn(t,t.return,Z)}if(n=t.sibling,n!==null){n.return=t.return,Pe=n;break}Pe=t.return}return l=Xu,Xu=!1,l}function fi(t,n,l){var p=n.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var m=p=p.next;do{if((m.tag&t)===t){var w=m.destroy;m.destroy=void 0,w!==void 0&&Ls(n,l,w)}m=m.next}while(m!==p)}}function To(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&t)===t){var p=l.create;l.destroy=p()}l=l.next}while(l!==n)}}function As(t){var n=t.ref;if(n!==null){var l=t.stateNode;switch(t.tag){case 5:t=ee(l);break;default:t=l}typeof n=="function"?n(t):n.current=t}}function Qu(t,n,l){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(ri,n)}catch{}switch(n.tag){case 0:case 11:case 14:case 15:if(t=n.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var p=t=t.next;do{var m=p,w=m.destroy;m=m.tag,w!==void 0&&(m&2||m&4)&&Ls(n,l,w),p=p.next}while(p!==t)}break;case 1:if(wa(n,l),t=n.stateNode,typeof t.componentWillUnmount=="function")try{t.props=n.memoizedProps,t.state=n.memoizedState,t.componentWillUnmount()}catch(P){Gn(n,l,P)}break;case 5:wa(n,l);break;case 4:ve?tc(t,n,l):ge&&ge&&(n=n.stateNode.containerInfo,l=rt(n),tt(n,l))}}function Ku(t,n,l){for(var p=n;;)if(Qu(t,p,l),p.child===null||ve&&p.tag===4){if(p===n)break;for(;p.sibling===null;){if(p.return===null||p.return===n)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else p.child.return=p,p=p.child}function Ju(t){var n=t.alternate;n!==null&&(t.alternate=null,Ju(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ve(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qu(t){return t.tag===5||t.tag===3||t.tag===4}function $u(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ec(t){if(ve){e:{for(var n=t.return;n!==null;){if(qu(n))break e;n=n.return}throw Error(u(160))}var l=n;switch(l.tag){case 5:n=l.stateNode,l.flags&32&&(Se(n),l.flags&=-33),l=$u(t),Os(t,l,n);break;case 3:case 4:n=l.stateNode.containerInfo,l=$u(t),Us(t,l,n);break;default:throw Error(u(161))}}}function Us(t,n,l){var p=t.tag;if(p===5||p===6)t=t.stateNode,n?Ye(l,t,n):ze(l,t);else if(p!==4&&(t=t.child,t!==null))for(Us(t,n,l),t=t.sibling;t!==null;)Us(t,n,l),t=t.sibling}function Os(t,n,l){var p=t.tag;if(p===5||p===6)t=t.stateNode,n?it(l,t,n):Ne(l,t);else if(p!==4&&(t=t.child,t!==null))for(Os(t,n,l),t=t.sibling;t!==null;)Os(t,n,l),t=t.sibling}function tc(t,n,l){for(var p=n,m=!1,w,P;;){if(!m){m=p.return;e:for(;;){if(m===null)throw Error(u(160));switch(w=m.stateNode,m.tag){case 5:P=!1;break e;case 3:w=w.containerInfo,P=!0;break e;case 4:w=w.containerInfo,P=!0;break e}m=m.return}m=!0}if(p.tag===5||p.tag===6)Ku(t,p,l),P?pe(w,p.stateNode):j(w,p.stateNode);else if(p.tag===18)P?me(w,p.stateNode):xe(w,p.stateNode);else if(p.tag===4){if(p.child!==null){w=p.stateNode.containerInfo,P=!0,p.child.return=p,p=p.child;continue}}else if(Qu(t,p,l),p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break;for(;p.sibling===null;){if(p.return===null||p.return===n)return;p=p.return,p.tag===4&&(m=!1)}p.sibling.return=p.return,p=p.sibling}}function Ds(t,n){if(ve){switch(n.tag){case 0:case 11:case 14:case 15:fi(3,n,n.return),To(3,n),fi(5,n,n.return);return;case 1:return;case 5:var l=n.stateNode;if(l!=null){var p=n.memoizedProps;t=t!==null?t.memoizedProps:p;var m=n.type,w=n.updateQueue;n.updateQueue=null,w!==null&&Ct(l,w,m,t,p,n)}return;case 6:if(n.stateNode===null)throw Error(u(162));l=n.memoizedProps,$e(n.stateNode,t!==null?t.memoizedProps:l,l);return;case 3:He&&t!==null&&t.memoizedState.isDehydrated&&ae(n.stateNode.containerInfo);return;case 12:return;case 13:xa(n);return;case 19:xa(n);return;case 17:return}throw Error(u(163))}switch(n.tag){case 0:case 11:case 14:case 15:fi(3,n,n.return),To(3,n),fi(5,n,n.return);return;case 12:return;case 13:xa(n);return;case 19:xa(n);return;case 3:He&&t!==null&&t.memoizedState.isDehydrated&&ae(n.stateNode.containerInfo);break;case 22:case 23:return}e:if(ge){switch(n.tag){case 1:case 5:case 6:break e;case 3:case 4:n=n.stateNode,tt(n.containerInfo,n.pendingChildren);break e}throw Error(u(163))}}function xa(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new T1),n.forEach(function(p){var m=D1.bind(null,t,p);l.has(p)||(l.add(p),p.then(m,m))})}}function M1(t,n){for(Pe=n;Pe!==null;){n=Pe;var l=n.deletions;if(l!==null)for(var p=0;p<l.length;p++){var m=l[p];try{var w=t;ve?tc(w,m,n):Ku(w,m,n);var P=m.alternate;P!==null&&(P.return=null),m.return=null}catch(Qe){Gn(m,n,Qe)}}if(l=n.child,n.subtreeFlags&12854&&l!==null)l.return=n,Pe=l;else for(;Pe!==null;){n=Pe;try{var Z=n.flags;if(Z&32&&ve&&Se(n.stateNode),Z&512){var ce=n.alternate;if(ce!==null){var _e=ce.ref;_e!==null&&(typeof _e=="function"?_e(null):_e.current=null)}}if(Z&8192)switch(n.tag){case 13:if(n.memoizedState!==null){var Be=n.alternate;(Be===null||Be.memoizedState===null)&&(Hs=Yt())}break;case 22:var ht=n.memoizedState!==null,nt=n.alternate,Dt=nt!==null&&nt.memoizedState!==null;if(l=n,ve){e:if(p=l,m=ht,w=null,ve)for(var Ke=p;;){if(Ke.tag===5){if(w===null){w=Ke;var En=Ke.stateNode;m?Ue(En):ue(Ke.stateNode,Ke.memoizedProps)}}else if(Ke.tag===6){if(w===null){var cr=Ke.stateNode;m?Je(cr):et(cr,Ke.memoizedProps)}}else if((Ke.tag!==22&&Ke.tag!==23||Ke.memoizedState===null||Ke===p)&&Ke.child!==null){Ke.child.return=Ke,Ke=Ke.child;continue}if(Ke===p)break;for(;Ke.sibling===null;){if(Ke.return===null||Ke.return===p)break e;w===Ke&&(w=null),Ke=Ke.return}w===Ke&&(w=null),Ke.sibling.return=Ke.return,Ke=Ke.sibling}}if(ht&&!Dt&&l.mode&1){Pe=l;for(var te=l.child;te!==null;){for(l=Pe=te;Pe!==null;){p=Pe;var X=p.child;switch(p.tag){case 0:case 11:case 14:case 15:fi(4,p,p.return);break;case 1:wa(p,p.return);var se=p.stateNode;if(typeof se.componentWillUnmount=="function"){var Ae=p.return;try{se.props=p.memoizedProps,se.state=p.memoizedState,se.componentWillUnmount()}catch(Qe){Gn(p,Ae,Qe)}}break;case 5:wa(p,p.return);break;case 22:if(p.memoizedState!==null){ic(l);continue}}X!==null?(X.return=p,Pe=X):ic(l)}te=te.sibling}}}switch(Z&4102){case 2:ec(n),n.flags&=-3;break;case 6:ec(n),n.flags&=-3,Ds(n.alternate,n);break;case 4096:n.flags&=-4097;break;case 4100:n.flags&=-4097,Ds(n.alternate,n);break;case 4:Ds(n.alternate,n)}}catch(Qe){Gn(n,n.return,Qe)}if(l=n.sibling,l!==null){l.return=n.return,Pe=l;break}Pe=n.return}}}function b1(t,n,l){Pe=t,nc(t)}function nc(t,n,l){for(var p=(t.mode&1)!==0;Pe!==null;){var m=Pe,w=m.child;if(m.tag===22&&p){var P=m.memoizedState!==null||ya;if(!P){var Z=m.alternate,ce=Z!==null&&Z.memoizedState!==null||ci;Z=ya;var _e=ci;if(ya=P,(ci=ce)&&!_e)for(Pe=m;Pe!==null;)P=Pe,ce=P.child,P.tag===22&&P.memoizedState!==null?oc(m):ce!==null?(ce.return=P,Pe=ce):oc(m);for(;w!==null;)Pe=w,nc(w),w=w.sibling;Pe=m,ya=Z,ci=_e}rc(t)}else m.subtreeFlags&8772&&w!==null?(w.return=m,Pe=w):rc(t)}}function rc(t){for(;Pe!==null;){var n=Pe;if(n.flags&8772){var l=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:ci||To(5,n);break;case 1:var p=n.stateNode;if(n.flags&4&&!ci)if(l===null)p.componentDidMount();else{var m=n.elementType===n.type?l.memoizedProps:An(n.type,l.memoizedProps);p.componentDidUpdate(m,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=n.updateQueue;w!==null&&Jl(n,w,p);break;case 3:var P=n.updateQueue;if(P!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=ee(n.child.stateNode);break;case 1:l=n.child.stateNode}Jl(n,P,l)}break;case 5:var Z=n.stateNode;l===null&&n.flags&4&&xt(Z,n.type,n.memoizedProps,n);break;case 6:break;case 4:break;case 12:break;case 13:if(He&&n.memoizedState===null){var ce=n.alternate;if(ce!==null){var _e=ce.memoizedState;if(_e!==null){var Be=_e.dehydrated;Be!==null&&le(Be)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(u(163))}ci||n.flags&512&&As(n)}catch(ht){Gn(n,n.return,ht)}}if(n===t){Pe=null;break}if(l=n.sibling,l!==null){l.return=n.return,Pe=l;break}Pe=n.return}}function ic(t){for(;Pe!==null;){var n=Pe;if(n===t){Pe=null;break}var l=n.sibling;if(l!==null){l.return=n.return,Pe=l;break}Pe=n.return}}function oc(t){for(;Pe!==null;){var n=Pe;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{To(4,n)}catch(ce){Gn(n,l,ce)}break;case 1:var p=n.stateNode;if(typeof p.componentDidMount=="function"){var m=n.return;try{p.componentDidMount()}catch(ce){Gn(n,m,ce)}}var w=n.return;try{As(n)}catch(ce){Gn(n,w,ce)}break;case 5:var P=n.return;try{As(n)}catch(ce){Gn(n,P,ce)}}}catch(ce){Gn(n,n.return,ce)}if(n===t){Pe=null;break}var Z=n.sibling;if(Z!==null){Z.return=n.return,Pe=Z;break}Pe=n.return}}var Sa=0,_a=1,Ca=2,Ea=3,Ta=4;if(typeof Symbol=="function"&&Symbol.for){var ko=Symbol.for;Sa=ko("selector.component"),_a=ko("selector.has_pseudo_class"),Ca=ko("selector.role"),Ea=ko("selector.test_id"),Ta=ko("selector.text")}function Fs(t){var n=Xe(t);if(n!=null){if(typeof n.memoizedProps["data-testname"]!="string")throw Error(u(364));return n}if(t=he(t),t===null)throw Error(u(362));return t.stateNode.current}function js(t,n){switch(n.$$typeof){case Sa:if(t.type===n.value)return!0;break;case _a:e:{n=n.value,t=[t,0];for(var l=0;l<t.length;){var p=t[l++],m=t[l++],w=n[m];if(p.tag!==5||!Oe(p)){for(;w!=null&&js(p,w);)m++,w=n[m];if(m===n.length){n=!0;break e}else for(p=p.child;p!==null;)t.push(p,m),p=p.sibling}}n=!1}return n;case Ca:if(t.tag===5&&Me(t.stateNode,n.value))return!0;break;case Ta:if((t.tag===5||t.tag===6)&&(t=be(t),t!==null&&0<=t.indexOf(n.value)))return!0;break;case Ea:if(t.tag===5&&(t=t.memoizedProps["data-testname"],typeof t=="string"&&t.toLowerCase()===n.value.toLowerCase()))return!0;break;default:throw Error(u(365))}return!1}function Ns(t){switch(t.$$typeof){case Sa:return"<"+(D(t.value)||"Unknown")+">";case _a:return":has("+(Ns(t)||"")+")";case Ca:return'[role="'+t.value+'"]';case Ta:return'"'+t.value+'"';case Ea:return'[data-testname="'+t.value+'"]';default:throw Error(u(365))}}function ac(t,n){var l=[];t=[t,0];for(var p=0;p<t.length;){var m=t[p++],w=t[p++],P=n[w];if(m.tag!==5||!Oe(m)){for(;P!=null&&js(m,P);)w++,P=n[w];if(w===n.length)l.push(m);else for(m=m.child;m!==null;)t.push(m,w),m=m.sibling}}return l}function zs(t,n){if(!Le)throw Error(u(363));t=Fs(t),t=ac(t,n),n=[],t=Array.from(t);for(var l=0;l<t.length;){var p=t[l++];if(p.tag===5)Oe(p)||n.push(p.stateNode);else for(p=p.child;p!==null;)t.push(p),p=p.sibling}return n}var R1=Math.ceil,ka=f.ReactCurrentDispatcher,Bs=f.ReactCurrentOwner,tn=f.ReactCurrentBatchConfig,wt=0,an=null,sn=null,mn=0,$n=0,Di=gt(0),cn=0,Mo=null,Fi=0,Ma=0,Gs=0,bo=null,zn=null,Hs=0,Ws=1/0;function ji(){Ws=Yt()+500}var ba=!1,Vs=null,Zr=null,Ra=!1,Yr=null,Ia=0,Ro=0,Zs=null,Pa=-1,La=0;function Dn(){return wt&6?Yt():Pa!==-1?Pa:Pa=Yt()}function Xr(t){return t.mode&1?wt&2&&mn!==0?mn&-mn:ii.transition!==null?(La===0&&(t=Ir,Ir<<=1,!(Ir&4194240)&&(Ir=64),La=t),La):(t=_t,t!==0?t:De()):1}function lr(t,n,l){if(50<Ro)throw Ro=0,Zs=null,Error(u(185));var p=Aa(t,n);return p===null?null:(Cr(p,n,l),(!(wt&2)||p!==an)&&(p===an&&(!(wt&2)&&(Ma|=n),cn===4&&Qr(p,mn)),Bn(p,l),n===1&&wt===0&&!(t.mode&1)&&(ji(),Tr&&Nn())),p)}function Aa(t,n){t.lanes|=n;var l=t.alternate;for(l!==null&&(l.lanes|=n),l=t,t=t.return;t!==null;)t.childLanes|=n,l=t.alternate,l!==null&&(l.childLanes|=n),l=t,t=t.return;return l.tag===3?l.stateNode:null}function Bn(t,n){var l=t.callbackNode;oo(t,n);var p=ti(t,t===an?mn:0);if(p===0)l!==null&&ki(l),t.callbackNode=null,t.callbackPriority=0;else if(n=p&-p,t.callbackPriority!==n){if(l!=null&&ki(l),n===1)t.tag===0?fo(lc.bind(null,t)):co(lc.bind(null,t)),we?je(function(){wt===0&&Nn()}):Ur(ni,Nn),l=null;else{switch(ao(p)){case 1:l=ni;break;case 4:l=Ko;break;case 16:l=Pn;break;case 536870912:l=lo;break;default:l=Pn}l=mc(l,sc.bind(null,t))}t.callbackPriority=n,t.callbackNode=l}}function sc(t,n){if(Pa=-1,La=0,wt&6)throw Error(u(327));var l=t.callbackNode;if(pi()&&t.callbackNode!==l)return null;var p=ti(t,t===an?mn:0);if(p===0)return null;if(p&30||p&t.expiredLanes||n)n=Ua(t,p);else{n=p;var m=wt;wt|=2;var w=fc();(an!==t||mn!==n)&&(ji(),di(t,n));do try{L1();break}catch(Z){cc(t,Z)}while(!0);bi(),ka.current=w,wt=m,sn!==null?n=0:(an=null,mn=0,n=cn)}if(n!==0){if(n===2&&(m=Ar(t),m!==0&&(p=m,n=Ys(t,m))),n===1)throw l=Mo,di(t,0),Qr(t,p),Bn(t,Yt()),l;if(n===6)Qr(t,p);else{if(m=t.current.alternate,!(p&30)&&!I1(m)&&(n=Ua(t,p),n===2&&(w=Ar(t),w!==0&&(p=w,n=Ys(t,w))),n===1))throw l=Mo,di(t,0),Qr(t,p),Bn(t,Yt()),l;switch(t.finishedWork=m,t.finishedLanes=p,n){case 0:case 1:throw Error(u(345));case 2:hi(t,zn);break;case 3:if(Qr(t,p),(p&130023424)===p&&(n=Hs+500-Yt(),10<n)){if(ti(t,0)!==0)break;if(m=t.suspendedLanes,(m&p)!==p){Dn(),t.pingedLanes|=t.suspendedLanes&m;break}t.timeoutHandle=oe(hi.bind(null,t,zn),n);break}hi(t,zn);break;case 4:if(Qr(t,p),(p&4194240)===p)break;for(n=t.eventTimes,m=-1;0<p;){var P=31-Ft(p);w=1<<P,P=n[P],P>m&&(m=P),p&=~w}if(p=m,p=Yt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*R1(p/1960))-p,10<p){t.timeoutHandle=oe(hi.bind(null,t,zn),p);break}hi(t,zn);break;case 5:hi(t,zn);break;default:throw Error(u(329))}}}return Bn(t,Yt()),t.callbackNode===l?sc.bind(null,t):null}function Ys(t,n){var l=bo;return t.current.memoizedState.isDehydrated&&(di(t,n).flags|=256),t=Ua(t,n),t!==2&&(n=zn,zn=l,n!==null&&Xs(n)),t}function Xs(t){zn===null?zn=t:zn.push.apply(zn,t)}function I1(t){for(var n=t;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var m=l[p],w=m.getSnapshot;m=m.value;try{if(!Xn(w(),m))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qr(t,n){for(n&=~Gs,n&=~Ma,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var l=31-Ft(n),p=1<<l;t[l]=-1,n&=~p}}function lc(t){if(wt&6)throw Error(u(327));pi();var n=ti(t,0);if(!(n&1))return Bn(t,Yt()),null;var l=Ua(t,n);if(t.tag!==0&&l===2){var p=Ar(t);p!==0&&(n=p,l=Ys(t,p))}if(l===1)throw l=Mo,di(t,0),Qr(t,n),Bn(t,Yt()),l;if(l===6)throw Error(u(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,hi(t,zn),Bn(t,Yt()),null}function uc(t){Yr!==null&&Yr.tag===0&&!(wt&6)&&pi();var n=wt;wt|=1;var l=tn.transition,p=_t;try{if(tn.transition=null,_t=1,t)return t()}finally{_t=p,tn.transition=l,wt=n,!(wt&6)&&Nn()}}function Qs(){$n=Di.current,ot(Di)}function di(t,n){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==Te&&(t.timeoutHandle=Te,de(l)),sn!==null)for(l=sn.return;l!==null;){var p=l;switch(ds(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ht();break;case 3:Ui(),ot(ft),ot(At),ws();break;case 5:ms(p);break;case 4:Ui();break;case 13:ot(Xt);break;case 19:ot(Xt);break;case 10:pn(p.type._context);break;case 22:case 23:Qs()}l=l.return}if(an=t,sn=t=Kr(t.current,null),mn=$n=n,cn=0,Mo=null,Gs=Ma=Fi=0,zn=bo=null,Qn!==null){for(n=0;n<Qn.length;n++)if(l=Qn[n],p=l.interleaved,p!==null){l.interleaved=null;var m=p.next,w=l.pending;if(w!==null){var P=w.next;w.next=m,p.next=P}l.pending=p}Qn=null}return t}function cc(t,n){do{var l=sn;try{if(bi(),aa.current=da,sa){for(var p=Jt.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}sa=!1}if(Oi=0,vn=Sn=Jt=null,yo=!1,wo=0,Bs.current=null,l===null||l.return===null){cn=1,Mo=n,sn=null;break}e:{var w=t,P=l.return,Z=l,ce=n;if(n=mn,Z.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var _e=ce,Be=Z,ht=Be.tag;if(!(Be.mode&1)&&(ht===0||ht===11||ht===15)){var nt=Be.alternate;nt?(Be.updateQueue=nt.updateQueue,Be.memoizedState=nt.memoizedState,Be.lanes=nt.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var Dt=Pu(P);if(Dt!==null){Dt.flags&=-257,Lu(Dt,P,Z,w,n),Dt.mode&1&&Iu(w,_e,n),n=Dt,ce=_e;var Ke=n.updateQueue;if(Ke===null){var En=new Set;En.add(ce),n.updateQueue=En}else Ke.add(ce);break e}else{if(!(n&1)){Iu(w,_e,n),Ks();break e}ce=Error(u(426))}}else if(Wt&&Z.mode&1){var cr=Pu(P);if(cr!==null){!(cr.flags&65536)&&(cr.flags|=256),Lu(cr,P,Z,w,n),vs(ce);break e}}w=ce,cn!==4&&(cn=2),bo===null?bo=[w]:bo.push(w),ce=ks(ce,Z),Z=P;do{switch(Z.tag){case 3:Z.flags|=65536,n&=-n,Z.lanes|=n;var te=bu(Z,ce,n);Kl(Z,te);break e;case 1:w=ce;var X=Z.type,se=Z.stateNode;if(!(Z.flags&128)&&(typeof X.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Zr===null||!Zr.has(se)))){Z.flags|=65536,n&=-n,Z.lanes|=n;var Ae=Ru(Z,w,n);Kl(Z,Ae);break e}}Z=Z.return}while(Z!==null)}hc(l)}catch(Qe){n=Qe,sn===l&&l!==null&&(sn=l=l.return);continue}break}while(!0)}function fc(){var t=ka.current;return ka.current=da,t===null?da:t}function Ks(){(cn===0||cn===3||cn===2)&&(cn=4),an===null||!(Fi&268435455)&&!(Ma&268435455)||Qr(an,mn)}function Ua(t,n){var l=wt;wt|=2;var p=fc();an===t&&mn===n||di(t,n);do try{P1();break}catch(m){cc(t,m)}while(!0);if(bi(),wt=l,ka.current=p,sn!==null)throw Error(u(261));return an=null,mn=0,cn}function P1(){for(;sn!==null;)dc(sn)}function L1(){for(;sn!==null&&!so();)dc(sn)}function dc(t){var n=gc(t.alternate,t,$n);t.memoizedProps=t.pendingProps,n===null?hc(t):sn=n,Bs.current=null}function hc(t){var n=t;do{var l=n.alternate;if(t=n.return,n.flags&32768){if(l=E1(l,n),l!==null){l.flags&=32767,sn=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,sn=null;return}}else if(l=S1(l,n,$n),l!==null){sn=l;return}if(n=n.sibling,n!==null){sn=n;return}sn=n=t}while(n!==null);cn===0&&(cn=5)}function hi(t,n){var l=_t,p=tn.transition;try{tn.transition=null,_t=1,A1(t,n,l)}finally{tn.transition=p,_t=l}return null}function A1(t,n,l){do pi();while(Yr!==null);if(wt&6)throw Error(u(327));var p=t.finishedWork,m=t.finishedLanes;if(p===null)return null;if(t.finishedWork=null,t.finishedLanes=0,p===t.current)throw Error(u(177));t.callbackNode=null,t.callbackPriority=0;var w=p.lanes|p.childLanes;if(Gr(t,w),t===an&&(sn=an=null,mn=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||Ra||(Ra=!0,mc(Pn,function(){return pi(),null})),w=(p.flags&15990)!==0,p.subtreeFlags&15990||w){w=tn.transition,tn.transition=null;var P=_t;_t=1;var Z=wt;wt|=4,Bs.current=null,k1(t,p),M1(t,p),N(t.containerInfo),t.current=p,b1(p),Qo(),wt=Z,_t=P,tn.transition=w}else t.current=p;if(Ra&&(Ra=!1,Yr=t,Ia=m),w=t.pendingLanes,w===0&&(Zr=null),uo(p.stateNode),Bn(t,Yt()),n!==null)for(l=t.onRecoverableError,p=0;p<n.length;p++)l(n[p]);if(ba)throw ba=!1,t=Vs,Vs=null,t;return Ia&1&&t.tag!==0&&pi(),w=t.pendingLanes,w&1?t===Zs?Ro++:(Ro=0,Zs=t):Ro=0,Nn(),null}function pi(){if(Yr!==null){var t=ao(Ia),n=tn.transition,l=_t;try{if(tn.transition=null,_t=16>t?16:t,Yr===null)var p=!1;else{if(t=Yr,Yr=null,Ia=0,wt&6)throw Error(u(331));var m=wt;for(wt|=4,Pe=t.current;Pe!==null;){var w=Pe,P=w.child;if(Pe.flags&16){var Z=w.deletions;if(Z!==null){for(var ce=0;ce<Z.length;ce++){var _e=Z[ce];for(Pe=_e;Pe!==null;){var Be=Pe;switch(Be.tag){case 0:case 11:case 15:fi(8,Be,w)}var ht=Be.child;if(ht!==null)ht.return=Be,Pe=ht;else for(;Pe!==null;){Be=Pe;var nt=Be.sibling,Dt=Be.return;if(Ju(Be),Be===_e){Pe=null;break}if(nt!==null){nt.return=Dt,Pe=nt;break}Pe=Dt}}}var Ke=w.alternate;if(Ke!==null){var En=Ke.child;if(En!==null){Ke.child=null;do{var cr=En.sibling;En.sibling=null,En=cr}while(En!==null)}}Pe=w}}if(w.subtreeFlags&2064&&P!==null)P.return=w,Pe=P;else e:for(;Pe!==null;){if(w=Pe,w.flags&2048)switch(w.tag){case 0:case 11:case 15:fi(9,w,w.return)}var te=w.sibling;if(te!==null){te.return=w.return,Pe=te;break e}Pe=w.return}}var X=t.current;for(Pe=X;Pe!==null;){P=Pe;var se=P.child;if(P.subtreeFlags&2064&&se!==null)se.return=P,Pe=se;else e:for(P=X;Pe!==null;){if(Z=Pe,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:To(9,Z)}}catch(Qe){Gn(Z,Z.return,Qe)}if(Z===P){Pe=null;break e}var Ae=Z.sibling;if(Ae!==null){Ae.return=Z.return,Pe=Ae;break e}Pe=Z.return}}if(wt=m,Nn(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(ri,t)}catch{}p=!0}return p}finally{_t=l,tn.transition=n}}return!1}function pc(t,n,l){n=ks(l,n),n=bu(t,n,1),Vr(t,n),n=Dn(),t=Aa(t,1),t!==null&&(Cr(t,1,n),Bn(t,n))}function Gn(t,n,l){if(t.tag===3)pc(t,t,l);else for(;n!==null;){if(n.tag===3){pc(n,t,l);break}else if(n.tag===1){var p=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Zr===null||!Zr.has(p))){t=ks(l,t),t=Ru(n,t,1),Vr(n,t),t=Dn(),n=Aa(n,1),n!==null&&(Cr(n,1,t),Bn(n,t));break}}n=n.return}}function U1(t,n,l){var p=t.pingCache;p!==null&&p.delete(n),n=Dn(),t.pingedLanes|=t.suspendedLanes&l,an===t&&(mn&l)===l&&(cn===4||cn===3&&(mn&130023424)===mn&&500>Yt()-Hs?di(t,0):Gs|=l),Bn(t,n)}function vc(t,n){n===0&&(t.mode&1?(n=Pr,Pr<<=1,!(Pr&130023424)&&(Pr=4194304)):n=1);var l=Dn();t=Aa(t,n),t!==null&&(Cr(t,n,l),Bn(t,l))}function O1(t){var n=t.memoizedState,l=0;n!==null&&(l=n.retryLane),vc(t,l)}function D1(t,n){var l=0;switch(t.tag){case 13:var p=t.stateNode,m=t.memoizedState;m!==null&&(l=m.retryLane);break;case 19:p=t.stateNode;break;default:throw Error(u(314))}p!==null&&p.delete(n),vc(t,l)}var gc;gc=function(t,n,l){if(t!==null)if(t.memoizedProps!==n.pendingProps||ft.current)qn=!0;else{if(!(t.lanes&l)&&!(n.flags&128))return qn=!1,C1(t,n,l);qn=!!(t.flags&131072)}else qn=!1,Wt&&n.flags&1048576&&nu(n,ra,n.index);switch(n.lanes=0,n.tag){case 2:var p=n.type;t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2),t=n.pendingProps;var m=Kt(n,At.current);$t(n,l),m=Ss(null,n,p,t,m,l);var w=_s();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Gt(p)?(w=!0,It(n)):w=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ls(n),m.updater=ta,n.stateNode=m,m._reactInternals=n,cs(n,p,t,l),n=Rs(null,n,p,!0,w,l)):(n.tag=0,Wt&&w&&fs(n),On(null,n,m,l),n=n.child),n;case 16:p=n.elementType;e:{switch(t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2),t=n.pendingProps,m=p._init,p=m(p._payload),n.type=p,m=n.tag=j1(p),t=An(p,t),m){case 0:n=bs(null,n,p,t,l);break e;case 1:n=zu(null,n,p,t,l);break e;case 11:n=Ou(null,n,p,t,l);break e;case 14:n=Du(null,n,p,An(p.type,t),l);break e}throw Error(u(306,p,""))}return n;case 0:return p=n.type,m=n.pendingProps,m=n.elementType===p?m:An(p,m),bs(t,n,p,m,l);case 1:return p=n.type,m=n.pendingProps,m=n.elementType===p?m:An(p,m),zu(t,n,p,m,l);case 3:e:{if(Bu(n),t===null)throw Error(u(387));p=n.pendingProps,w=n.memoizedState,m=w.element,Ql(t,n),ea(n,p,null,l);var P=n.memoizedState;if(p=P.element,He&&w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache,transitions:P.transitions},n.updateQueue.baseState=w,n.memoizedState=w,n.flags&256){m=Error(u(423)),n=Gu(t,n,p,l,m);break e}else if(p!==m){m=Error(u(424)),n=Gu(t,n,p,l,m);break e}else for(He&&(Jn=on(n.stateNode.containerInfo),Kn=n,Wt=!0,xr=null,ho=!1),l=lu(n,null,p,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Pi(),p===m){n=Nr(t,n,l);break e}On(t,n,p,l)}n=n.child}return n;case 5:return uu(n),t===null&&ps(n),p=n.type,m=n.pendingProps,w=t!==null?t.memoizedProps:null,P=m.children,q(p,m)?P=null:w!==null&&q(p,w)&&(n.flags|=32),Nu(t,n),On(t,n,P,l),n.child;case 6:return t===null&&ps(n),null;case 13:return Hu(t,n,l);case 4:return gs(n,n.stateNode.containerInfo),p=n.pendingProps,t===null?n.child=Li(n,null,p,l):On(t,n,p,l),n.child;case 11:return p=n.type,m=n.pendingProps,m=n.elementType===p?m:An(p,m),Ou(t,n,p,m,l);case 7:return On(t,n,n.pendingProps,l),n.child;case 8:return On(t,n,n.pendingProps.children,l),n.child;case 12:return On(t,n,n.pendingProps.children,l),n.child;case 10:e:{if(p=n.type._context,m=n.pendingProps,w=n.memoizedProps,P=m.value,qo(n,p,P),w!==null)if(Xn(w.value,P)){if(w.children===m.children&&!ft.current){n=Nr(t,n,l);break e}}else for(w=n.child,w!==null&&(w.return=n);w!==null;){var Z=w.dependencies;if(Z!==null){P=w.child;for(var ce=Z.firstContext;ce!==null;){if(ce.context===p){if(w.tag===1){ce=Or(-1,l&-l),ce.tag=2;var _e=w.updateQueue;if(_e!==null){_e=_e.shared;var Be=_e.pending;Be===null?ce.next=ce:(ce.next=Be.next,Be.next=ce),_e.pending=ce}}w.lanes|=l,ce=w.alternate,ce!==null&&(ce.lanes|=l),Un(w.return,l,n),Z.lanes|=l;break}ce=ce.next}}else if(w.tag===10)P=w.type===n.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(u(341));P.lanes|=l,Z=P.alternate,Z!==null&&(Z.lanes|=l),Un(P,l,n),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===n){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}On(t,n,m.children,l),n=n.child}return n;case 9:return m=n.type,p=n.pendingProps.children,$t(n,l),m=en(m),p=p(m),n.flags|=1,On(t,n,p,l),n.child;case 14:return p=n.type,m=An(p,n.pendingProps),m=An(p.type,m),Du(t,n,p,m,l);case 15:return Fu(t,n,n.type,n.pendingProps,l);case 17:return p=n.type,m=n.pendingProps,m=n.elementType===p?m:An(p,m),t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,Gt(p)?(t=!0,It(n)):t=!1,$t(n,l),eu(n,p,m),cs(n,p,m,l),Rs(null,n,p,!0,t,l);case 19:return Yu(t,n,l);case 22:return ju(t,n,l)}throw Error(u(156,n.tag))};function mc(t,n){return Ur(t,n)}function F1(t,n,l,p){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(t,n,l,p){return new F1(t,n,l,p)}function Js(t){return t=t.prototype,!(!t||!t.isReactComponent)}function j1(t){if(typeof t=="function")return Js(t)?1:0;if(t!=null){if(t=t.$$typeof,t===E)return 11;if(t===T)return 14}return 2}function Kr(t,n){var l=t.alternate;return l===null?(l=ur(t.tag,n,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=n,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,n=t.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function Oa(t,n,l,p,m,w){var P=2;if(p=t,typeof t=="function")Js(t)&&(P=1);else if(typeof t=="string")P=5;else e:switch(t){case d:return vi(l.children,m,w,n);case v:P=8,m|=8;break;case g:return t=ur(12,l,n,m|2),t.elementType=g,t.lanes=w,t;case x:return t=ur(13,l,n,m),t.elementType=x,t.lanes=w,t;case C:return t=ur(19,l,n,m),t.elementType=C,t.lanes=w,t;case R:return Da(l,m,w,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y:P=10;break e;case S:P=9;break e;case E:P=11;break e;case T:P=14;break e;case M:P=16,p=null;break e}throw Error(u(130,t==null?t:typeof t,""))}return n=ur(P,l,n,m),n.elementType=t,n.type=p,n.lanes=w,n}function vi(t,n,l,p){return t=ur(7,t,p,n),t.lanes=l,t}function Da(t,n,l,p){return t=ur(22,t,p,n),t.elementType=R,t.lanes=l,t.stateNode={},t}function qs(t,n,l){return t=ur(6,t,null,n),t.lanes=l,t}function $s(t,n,l){return n=ur(4,t.children!==null?t.children:[],t.key,n),n.lanes=l,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function N1(t,n,l,p,m){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Te,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=p,this.onRecoverableError=m,He&&(this.mutableSourceEagerHydrationData=null)}function yc(t,n,l,p,m,w,P,Z,ce){return t=new N1(t,n,l,Z,ce),n===1?(n=1,w===!0&&(n|=8)):n=0,w=ur(3,null,null,n),t.current=w,w.stateNode=t,w.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null},ls(w),t}function wc(t){if(!t)return mt;t=t._reactInternals;e:{if(F(t)!==t||t.tag!==1)throw Error(u(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Gt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(u(171))}if(t.tag===1){var l=t.type;if(Gt(l))return Zt(t,l,n)}return n}function xc(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=U(n),t===null?null:t.stateNode}function Sc(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<n?l:n}}function el(t,n){Sc(t,n),(t=t.alternate)&&Sc(t,n)}function z1(t){return t=U(t),t===null?null:t.stateNode}function B1(){return null}return a.attemptContinuousHydration=function(t){if(t.tag===13){var n=Dn();lr(t,134217728,n),el(t,134217728)}},a.attemptHydrationAtCurrentPriority=function(t){if(t.tag===13){var n=Dn(),l=Xr(t);lr(t,l,n),el(t,l)}},a.attemptSynchronousHydration=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var l=Lr(n.pendingLanes);l!==0&&(Er(n,l|1),Bn(n,Yt()),!(wt&6)&&(ji(),Nn()))}break;case 13:var p=Dn();uc(function(){return lr(t,1,p)}),el(t,1)}},a.batchedUpdates=function(t,n){var l=wt;wt|=1;try{return t(n)}finally{wt=l,wt===0&&(ji(),Tr&&Nn())}},a.createComponentSelector=function(t){return{$$typeof:Sa,value:t}},a.createContainer=function(t,n,l,p,m,w,P){return yc(t,n,!1,null,l,p,m,w,P)},a.createHasPseudoClassSelector=function(t){return{$$typeof:_a,value:t}},a.createHydrationContainer=function(t,n,l,p,m,w,P,Z,ce){return t=yc(l,p,!0,t,m,w,P,Z,ce),t.context=wc(null),l=t.current,p=Dn(),m=Xr(l),w=Or(p,m),w.callback=n??null,Vr(l,w),t.current.lanes=m,Cr(t,m,p),Bn(t,p),t},a.createPortal=function(t,n,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:p==null?null:""+p,children:t,containerInfo:n,implementation:l}},a.createRoleSelector=function(t){return{$$typeof:Ca,value:t}},a.createTestNameSelector=function(t){return{$$typeof:Ea,value:t}},a.createTextSelector=function(t){return{$$typeof:Ta,value:t}},a.deferredUpdates=function(t){var n=_t,l=tn.transition;try{return tn.transition=null,_t=16,t()}finally{_t=n,tn.transition=l}},a.discreteUpdates=function(t,n,l,p,m){var w=_t,P=tn.transition;try{return tn.transition=null,_t=1,t(n,l,p,m)}finally{_t=w,tn.transition=P,wt===0&&ji()}},a.findAllNodes=zs,a.findBoundingRects=function(t,n){if(!Le)throw Error(u(363));n=zs(t,n),t=[];for(var l=0;l<n.length;l++)t.push(qe(n[l]));for(n=t.length-1;0<n;n--){l=t[n];for(var p=l.x,m=p+l.width,w=l.y,P=w+l.height,Z=n-1;0<=Z;Z--)if(n!==Z){var ce=t[Z],_e=ce.x,Be=_e+ce.width,ht=ce.y,nt=ht+ce.height;if(p>=_e&&w>=ht&&m<=Be&&P<=nt){t.splice(n,1);break}else if(p!==_e||l.width!==ce.width||nt<w||ht>P){if(!(w!==ht||l.height!==ce.height||Be<p||_e>m)){_e>p&&(ce.width+=_e-p,ce.x=p),Be<m&&(ce.width=m-_e),t.splice(n,1);break}}else{ht>w&&(ce.height+=ht-w,ce.y=w),nt<P&&(ce.height=P-ht),t.splice(n,1);break}}}return t},a.findHostInstance=xc,a.findHostInstanceWithNoPortals=function(t){return t=V(t),t=t!==null?G(t):null,t===null?null:t.stateNode},a.findHostInstanceWithWarning=function(t){return xc(t)},a.flushControlled=function(t){var n=wt;wt|=1;var l=tn.transition,p=_t;try{tn.transition=null,_t=1,t()}finally{_t=p,tn.transition=l,wt=n,wt===0&&(ji(),Nn())}},a.flushPassiveEffects=pi,a.flushSync=uc,a.focusWithin=function(t,n){if(!Le)throw Error(u(363));for(t=Fs(t),n=ac(t,n),n=Array.from(n),t=0;t<n.length;){var l=n[t++];if(!Oe(l)){if(l.tag===5&&vt(l.stateNode))return!0;for(l=l.child;l!==null;)n.push(l),l=l.sibling}}return!1},a.getCurrentUpdatePriority=function(){return _t},a.getFindAllNodesFailureDescription=function(t,n){if(!Le)throw Error(u(363));var l=0,p=[];t=[Fs(t),0];for(var m=0;m<t.length;){var w=t[m++],P=t[m++],Z=n[P];if((w.tag!==5||!Oe(w))&&(js(w,Z)&&(p.push(Ns(Z)),P++,P>l&&(l=P)),P<n.length))for(w=w.child;w!==null;)t.push(w,P),w=w.sibling}if(l<n.length){for(t=[];l<n.length;l++)t.push(Ns(n[l]));return`findAllNodes was able to match part of the selector:
  `+(p.join(" > ")+`

No matching component was found for:
  `)+t.join(" > ")}return null},a.getPublicRootInstance=function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return ee(t.child.stateNode);default:return t.child.stateNode}},a.injectIntoDevTools=function(t){if(t={bundleType:t.bundleType,version:t.version,rendererPackageName:t.rendererPackageName,rendererConfig:t.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:z1,findFiberByHostInstance:t.findFiberByHostInstance||B1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")t=!1;else{var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)t=!0;else{try{ri=n.inject(t),Yn=n}catch{}t=!!n.checkDCE}}return t},a.isAlreadyRendering=function(){return!1},a.observeVisibleRects=function(t,n,l,p){if(!Le)throw Error(u(363));t=zs(t,n);var m=Fe(t,l,p).disconnect;return{disconnect:function(){m()}}},a.registerMutableSourceForHydration=function(t,n){var l=n._getVersion;l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l)},a.runWithPriority=function(t,n){var l=_t;try{return _t=t,n()}finally{_t=l}},a.shouldError=function(){return null},a.shouldSuspend=function(){return!1},a.updateContainer=function(t,n,l,p){var m=n.current,w=Dn(),P=Xr(m);return l=wc(l),n.context===null?n.context=l:n.pendingContext=l,n=Or(w,P),n.payload={element:t},p=p===void 0?null:p,p!==null&&(n.callback=p),Vr(m,n),t=lr(m,P,w),t!==null&&$o(t,m,P),P},a};qf.exports=Yh;var Xh=qf.exports;const Qh=Ho(Xh),zl={},Kh=i=>void Object.assign(zl,i);function Jh(i,e){function a(d,{args:v=[],attach:g,...y},S){let E=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(y.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const C=y.object;x=Zi(C,{type:d,root:S,attach:g,primitive:!0})}else{const C=zl[E];if(!C)throw new Error(`R3F: ${E} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(v))throw new Error("R3F: The args prop must be an array!");x=Zi(new C(...v),{type:d,root:S,attach:g,memoizedProps:{args:v}})}return x.__r3f.attach===void 0&&(x instanceof Nf?x.__r3f.attach="geometry":x instanceof Y1&&(x.__r3f.attach="material")),E!=="inject"&&al(x,y),x}function s(d,v){let g=!1;if(v){var y,S;(y=v.__r3f)!=null&&y.attach?ol(d,v,v.__r3f.attach):v.isObject3D&&d.isObject3D&&(d.add(v),g=!0),g||(S=d.__r3f)==null||S.objects.push(v),v.__r3f||Zi(v,{}),v.__r3f.parent=d,bl(v),Yi(v)}}function o(d,v,g){let y=!1;if(v){var S,E;if((S=v.__r3f)!=null&&S.attach)ol(d,v,v.__r3f.attach);else if(v.isObject3D&&d.isObject3D){v.parent=d,v.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:v});const x=d.children.filter(T=>T!==v),C=x.indexOf(g);d.children=[...x.slice(0,C),v,...x.slice(C)],y=!0}y||(E=d.__r3f)==null||E.objects.push(v),v.__r3f||Zi(v,{}),v.__r3f.parent=d,bl(v),Yi(v)}}function r(d,v,g=!1){d&&[...d].forEach(y=>u(v,y,g))}function u(d,v,g){if(v){var y,S,E;if(v.__r3f&&(v.__r3f.parent=null),(y=d.__r3f)!=null&&y.objects&&(d.__r3f.objects=d.__r3f.objects.filter(R=>R!==v)),(S=v.__r3f)!=null&&S.attach)Uc(d,v,v.__r3f.attach);else if(v.isObject3D&&d.isObject3D){var x;d.remove(v),(x=v.__r3f)!=null&&x.root&&ap(Za(v),v)}const T=(E=v.__r3f)==null?void 0:E.primitive,M=!T&&(g===void 0?v.dispose!==null:g);if(!T){var C;r((C=v.__r3f)==null?void 0:C.objects,v,M),r(v.children,v,M)}if(delete v.__r3f,M&&v.dispose&&v.type!=="Scene"){const R=()=>{try{v.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?kl.unstable_scheduleCallback(kl.unstable_IdlePriority,R):R()}Yi(d)}}function f(d,v,g,y){var S;const E=(S=d.__r3f)==null?void 0:S.parent;if(!E)return;const x=a(v,g,d.__r3f.root);if(d.children){for(const C of d.children)C.__r3f&&s(x,C);d.children=d.children.filter(C=>!C.__r3f)}d.__r3f.objects.forEach(C=>s(x,C)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||u(E,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),s(E,x),x.raycast&&x.__r3f.eventCount&&Za(x).getState().internal.interaction.push(x),[y,y.alternate].forEach(C=>{C!==null&&(C.stateNode=x,C.ref&&(typeof C.ref=="function"?C.ref(x):C.ref.current=x))})}const c=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Qh({createInstance:a,removeChild:u,appendChild:s,appendInitialChild:s,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,v)=>{if(!v)return;const g=d.getState().scene;g.__r3f&&(g.__r3f.root=d,s(g,v))},removeChildFromContainer:(d,v)=>{v&&u(d.getState().scene,v)},insertInContainerBefore:(d,v,g)=>{if(!v||!g)return;const y=d.getState().scene;y.__r3f&&o(y,v,g)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var v;return!!((v=d==null?void 0:d.__r3f)!=null?v:{}).handlers},prepareUpdate(d,v,g,y){var S;if(((S=d==null?void 0:d.__r3f)!=null?S:{}).primitive&&y.object&&y.object!==d)return[!0];{const{args:x=[],children:C,...T}=y,{args:M=[],children:R,...b}=g;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((D,L)=>D!==M[L]))return[!0];const I=sd(d,T,b,!0);return I.changes.length?[!1,I]:null}},commitUpdate(d,[v,g],y,S,E,x){v?f(d,y,E,x):al(d,g)},commitMount(d,v,g,y){var S;const E=(S=d.__r3f)!=null?S:{};d.raycast&&E.handlers&&E.eventCount&&Za(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Zi(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var v;const{attach:g,parent:y}=(v=d.__r3f)!=null?v:{};g&&y&&Uc(y,d,g),d.isObject3D&&(d.visible=!1),Yi(d)},unhideInstance(d,v){var g;const{attach:y,parent:S}=(g=d.__r3f)!=null?g:{};y&&S&&ol(S,d,y),(d.isObject3D&&v.visible==null||v.visible)&&(d.visible=!0),Yi(d)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():Ki.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&jt.fun(performance.now)?performance.now:jt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:jt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:jt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:al}}var Ic,Pc;const il=i=>"colorSpace"in i||"outputColorSpace"in i,td=()=>{var i;return(i=zl.ColorManagement)!=null?i:null},nd=i=>i&&i.isOrthographicCamera,qh=i=>i&&i.hasOwnProperty("current"),Wo=typeof window<"u"&&((Ic=window.document)!=null&&Ic.createElement||((Pc=window.navigator)==null?void 0:Pc.product)==="ReactNative")?Q.useLayoutEffect:Q.useEffect;function rd(i){const e=Q.useRef(i);return Wo(()=>void(e.current=i),[i]),e}function $h({set:i}){return Wo(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}class id extends Q.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}id.getDerivedStateFromError=()=>({error:!0});const od="__default",Lc=new Map,ep=i=>i&&!!i.memoized&&!!i.changes;function ad(i){var e;const a=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],a),i[1]):i}const Io=i=>{var e;return(e=i.__r3f)==null?void 0:e.root.getState()};function Za(i){let e=i.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const jt={obj:i=>i===Object(i)&&!jt.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,arr:i=>Array.isArray(i),equ(i,e,{arrays:a="shallow",objects:s="reference",strict:o=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(jt.str(i)||jt.num(i)||jt.boo(i))return i===e;const r=jt.obj(i);if(r&&s==="reference")return i===e;const u=jt.arr(i);if(u&&a==="reference")return i===e;if((u||r)&&i===e)return!0;let f;for(f in i)if(!(f in e))return!1;if(r&&a==="shallow"&&s==="shallow"){for(f in o?e:i)if(!jt.equ(i[f],e[f],{strict:o,objects:"reference"}))return!1}else for(f in o?e:i)if(i[f]!==e[f])return!1;if(jt.und(f)){if(u&&i.length===0&&e.length===0||r&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function tp(i){const e={nodes:{},materials:{}};return i&&i.traverse(a=>{a.name&&(e.nodes[a.name]=a),a.material&&!e.materials[a.material.name]&&(e.materials[a.material.name]=a.material)}),e}function np(i){i.dispose&&i.type!=="Scene"&&i.dispose();for(const e in i)e.dispose==null||e.dispose(),delete i[e]}function Zi(i,e){const a=i;return a.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},i}function Ml(i,e){let a=i;if(e.includes("-")){const s=e.split("-"),o=s.pop();return a=s.reduce((r,u)=>r[u],i),{target:a,key:o}}else return{target:a,key:e}}const Ac=/-\d+$/;function ol(i,e,a){if(jt.str(a)){if(Ac.test(a)){const r=a.replace(Ac,""),{target:u,key:f}=Ml(i,r);Array.isArray(u[f])||(u[f]=[])}const{target:s,key:o}=Ml(i,a);e.__r3f.previousAttach=s[o],s[o]=e}else e.__r3f.previousAttach=a(i,e)}function Uc(i,e,a){var s,o;if(jt.str(a)){const{target:r,key:u}=Ml(i,a),f=e.__r3f.previousAttach;f===void 0?delete r[u]:r[u]=f}else(s=e.__r3f)==null||s.previousAttach==null||s.previousAttach(i,e);(o=e.__r3f)==null||delete o.previousAttach}function sd(i,{children:e,key:a,ref:s,...o},{children:r,key:u,ref:f,...c}={},h=!1){const d=i.__r3f,v=Object.entries(o),g=[];if(h){const S=Object.keys(c);for(let E=0;E<S.length;E++)o.hasOwnProperty(S[E])||v.unshift([S[E],od+"remove"])}v.forEach(([S,E])=>{var x;if((x=i.__r3f)!=null&&x.primitive&&S==="object"||jt.equ(E,c[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return g.push([S,E,!0,[]]);let C=[];S.includes("-")&&(C=S.split("-")),g.push([S,E,!1,C]);for(const T in o){const M=o[T];T.startsWith(`${S}-`)&&g.push([T,M,!1,T.split("-")])}});const y={...o};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(y.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(y.attach=d.memoizedProps.attach),{memoized:y,changes:g}}const rp=typeof process<"u"&&!1;function al(i,e){var a;const s=i.__r3f,o=s==null?void 0:s.root,r=o==null||o.getState==null?void 0:o.getState(),{memoized:u,changes:f}=ep(e)?e:sd(i,e),c=s==null?void 0:s.eventCount;i.__r3f&&(i.__r3f.memoizedProps=u);for(let d=0;d<f.length;d++){let[v,g,y,S]=f[d];if(il(i)){const T="srgb",M="srgb-linear";v==="encoding"?(v="colorSpace",g=g===3001?T:M):v==="outputEncoding"&&(v="outputColorSpace",g=g===3001?T:M)}let E=i,x=E[v];if(S.length&&(x=S.reduce((C,T)=>C[T],i),!(x&&x.set))){const[C,...T]=S.reverse();E=T.reverse().reduce((M,R)=>M[R],i),v=C}if(g===od+"remove")if(E.constructor){let C=Lc.get(E.constructor);C||(C=new E.constructor,Lc.set(E.constructor,C)),g=C[v]}else g=0;if(y&&s)g?s.handlers[v]=g:delete s.handlers[v],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof tl)){if(Array.isArray(g))x.fromArray?x.fromArray(g):x.set(...g);else if(x.copy&&g&&g.constructor&&(rp?x.constructor.name===g.constructor.name:x.constructor===g.constructor))x.copy(g);else if(g!==void 0){const C=x instanceof ns;!C&&x.setScalar?x.setScalar(g):x instanceof tl&&g instanceof tl?x.mask=g.mask:x.set(g),!td()&&r&&!r.linear&&C&&x.convertSRGBToLinear()}}else if(E[v]=g,E[v]instanceof zr&&E[v].format===$i&&E[v].type===Ka&&r){const C=E[v];il(C)&&il(r.gl)?C.colorSpace=r.gl.outputColorSpace:C.encoding=r.gl.outputEncoding}Yi(i)}if(s&&s.parent&&i.raycast&&c!==s.eventCount){const d=Za(i).getState().internal,v=d.interaction.indexOf(i);v>-1&&d.interaction.splice(v,1),s.eventCount&&d.interaction.push(i)}return!(f.length===1&&f[0][0]==="onUpdate")&&f.length&&(a=i.__r3f)!=null&&a.parent&&bl(i),i}function Yi(i){var e,a;const s=(e=i.__r3f)==null||(a=e.root)==null||a.getState==null?void 0:a.getState();s&&s.internal.frames===0&&s.invalidate()}function bl(i){i.onUpdate==null||i.onUpdate(i)}function ip(i,e){i.manual||(nd(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix(),i.updateMatrixWorld())}function Fa(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function op(){var i;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ki.DefaultEventPriority;switch((i=e.event)==null?void 0:i.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ki.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ki.ContinuousEventPriority;default:return Ki.DefaultEventPriority}}function ld(i,e,a,s){const o=a.get(e);o&&(a.delete(e),a.size===0&&(i.delete(s),o.target.releasePointerCapture(s)))}function ap(i,e){const{internal:a}=i.getState();a.interaction=a.interaction.filter(s=>s!==e),a.initialHits=a.initialHits.filter(s=>s!==e),a.hovered.forEach((s,o)=>{(s.eventObject===e||s.object===e)&&a.hovered.delete(o)}),a.capturedMap.forEach((s,o)=>{ld(a.capturedMap,e,s,o)})}function sp(i){function e(c){const{internal:h}=i.getState(),d=c.offsetX-h.initialClick[0],v=c.offsetY-h.initialClick[1];return Math.round(Math.sqrt(d*d+v*v))}function a(c){return c.filter(h=>["Move","Over","Enter","Out","Leave"].some(d=>{var v;return(v=h.__r3f)==null?void 0:v.handlers["onPointer"+d]}))}function s(c,h){const d=i.getState(),v=new Set,g=[],y=h?h(d.internal.interaction):d.internal.interaction;for(let C=0;C<y.length;C++){const T=Io(y[C]);T&&(T.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(c,d);function S(C){const T=Io(C);if(!T||!T.events.enabled||T.raycaster.camera===null)return[];if(T.raycaster.camera===void 0){var M;T.events.compute==null||T.events.compute(c,T,(M=T.previousRoot)==null?void 0:M.getState()),T.raycaster.camera===void 0&&(T.raycaster.camera=null)}return T.raycaster.camera?T.raycaster.intersectObject(C,!0):[]}let E=y.flatMap(S).sort((C,T)=>{const M=Io(C.object),R=Io(T.object);return!M||!R?C.distance-T.distance:R.events.priority-M.events.priority||C.distance-T.distance}).filter(C=>{const T=Fa(C);return v.has(T)?!1:(v.add(T),!0)});d.events.filter&&(E=d.events.filter(E,d));for(const C of E){let T=C.object;for(;T;){var x;(x=T.__r3f)!=null&&x.eventCount&&g.push({...C,eventObject:T}),T=T.parent}}if("pointerId"in c&&d.internal.capturedMap.has(c.pointerId))for(let C of d.internal.capturedMap.get(c.pointerId).values())v.has(Fa(C.intersection))||g.push(C.intersection);return g}function o(c,h,d,v){const g=i.getState();if(c.length){const y={stopped:!1};for(const S of c){const E=Io(S.object)||g,{raycaster:x,pointer:C,camera:T,internal:M}=E,R=new zt(C.x,C.y,0).unproject(T),b=O=>{var V,U;return(V=(U=M.capturedMap.get(O))==null?void 0:U.has(S.eventObject))!=null?V:!1},I=O=>{const V={intersection:S,target:h.target};M.capturedMap.has(O)?M.capturedMap.get(O).set(S.eventObject,V):M.capturedMap.set(O,new Map([[S.eventObject,V]])),h.target.setPointerCapture(O)},D=O=>{const V=M.capturedMap.get(O);V&&ld(M.capturedMap,S.eventObject,V,O)};let L={};for(let O in h){let V=h[O];typeof V!="function"&&(L[O]=V)}let F={...S,...L,pointer:C,intersections:c,stopped:y.stopped,delta:d,unprojectedPoint:R,ray:x.ray,camera:T,stopPropagation(){const O="pointerId"in h&&M.capturedMap.get(h.pointerId);if((!O||O.has(S.eventObject))&&(F.stopped=y.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(V=>V.eventObject===S.eventObject))){const V=c.slice(0,c.indexOf(S));r([...V,S])}},target:{hasPointerCapture:b,setPointerCapture:I,releasePointerCapture:D},currentTarget:{hasPointerCapture:b,setPointerCapture:I,releasePointerCapture:D},nativeEvent:h};if(v(F),y.stopped===!0)break}}return c}function r(c){const{internal:h}=i.getState();for(const d of h.hovered.values())if(!c.length||!c.find(v=>v.object===d.object&&v.index===d.index&&v.instanceId===d.instanceId)){const g=d.eventObject.__r3f,y=g==null?void 0:g.handlers;if(h.hovered.delete(Fa(d)),g!=null&&g.eventCount){const S={...d,intersections:c};y.onPointerOut==null||y.onPointerOut(S),y.onPointerLeave==null||y.onPointerLeave(S)}}}function u(c,h){for(let d=0;d<h.length;d++){const v=h[d].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(c)}}function f(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return h=>{const{internal:d}=i.getState();"pointerId"in h&&d.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(h.pointerId)&&(d.capturedMap.delete(h.pointerId),r([]))})}}return function(d){const{onPointerMissed:v,internal:g}=i.getState();g.lastEvent.current=d;const y=c==="onPointerMove",S=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",x=s(d,y?a:void 0),C=S?e(d):0;c==="onPointerDown"&&(g.initialClick=[d.offsetX,d.offsetY],g.initialHits=x.map(M=>M.eventObject)),S&&!x.length&&C<=2&&(u(d,g.interaction),v&&v(d)),y&&r(x);function T(M){const R=M.eventObject,b=R.__r3f,I=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(y){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const D=Fa(M),L=g.hovered.get(D);L?L.stopped&&M.stopPropagation():(g.hovered.set(D,M),I.onPointerOver==null||I.onPointerOver(M),I.onPointerEnter==null||I.onPointerEnter(M))}I.onPointerMove==null||I.onPointerMove(M)}else{const D=I[c];D?(!S||g.initialHits.includes(R))&&(u(d,g.interaction.filter(L=>!g.initialHits.includes(L))),D(M)):S&&g.initialHits.includes(R)&&u(d,g.interaction.filter(L=>!g.initialHits.includes(L)))}}o(x,d,C,T)}}return{handlePointer:f}}const ud=i=>!!(i!=null&&i.render),cd=Q.createContext(null),lp=(i,e)=>{const a=Hh((f,c)=>{const h=new zt,d=new zt,v=new zt;function g(C=c().camera,T=d,M=c().size){const{width:R,height:b,top:I,left:D}=M,L=R/b;T instanceof zt?v.copy(T):v.set(...T);const F=C.getWorldPosition(h).distanceTo(v);if(nd(C))return{width:R/C.zoom,height:b/C.zoom,top:I,left:D,factor:1,distance:F,aspect:L};{const O=C.fov*Math.PI/180,V=2*Math.tan(O/2)*F,U=V*(R/b);return{width:U,height:V,top:I,left:D,factor:R/U,distance:F,aspect:L}}}let y;const S=C=>f(T=>({performance:{...T.performance,current:C}})),E=new Tn;return{set:f,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(C=1)=>i(c(),C),advance:(C,T)=>e(C,T,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new q1,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const C=c();y&&clearTimeout(y),C.performance.current!==C.performance.min&&S(C.performance.min),y=setTimeout(()=>S(c().performance.max),C.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:C=>f(T=>({...T,events:{...T.events,...C}})),setSize:(C,T,M,R,b)=>{const I=c().camera,D={width:C,height:T,top:R||0,left:b||0,updateStyle:M};f(L=>({size:D,viewport:{...L.viewport,...g(I,d,D)}}))},setDpr:C=>f(T=>{const M=ad(C);return{viewport:{...T.viewport,dpr:M,initialDpr:T.viewport.initialDpr||M}}}),setFrameloop:(C="always")=>{const T=c().clock;T.stop(),T.elapsedTime=0,C!=="never"&&(T.start(),T.elapsedTime=0),f(()=>({frameloop:C}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Q.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(C,T,M)=>{const R=c().internal;return R.priority=R.priority+(T>0?1:0),R.subscribers.push({ref:C,priority:T,store:M}),R.subscribers=R.subscribers.sort((b,I)=>b.priority-I.priority),()=>{const b=c().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(T>0?1:0),b.subscribers=b.subscribers.filter(I=>I.ref!==C))}}}}}),s=a.getState();let o=s.size,r=s.viewport.dpr,u=s.camera;return a.subscribe(()=>{const{camera:f,size:c,viewport:h,gl:d,set:v}=a.getState();if(c.width!==o.width||c.height!==o.height||h.dpr!==r){var g;o=c,r=h.dpr,ip(f,c),d.setPixelRatio(h.dpr);const y=(g=c.updateStyle)!=null?g:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(c.width,c.height,y)}f!==u&&(u=f,v(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(f)}})))}),a.subscribe(f=>i(f)),a};function Bl(i,e){const a={callback:i};return e.add(a),()=>void e.delete(a)}let ja,fd=new Set,dd=new Set,hd=new Set;const up=i=>Bl(i,fd),cp=i=>Bl(i,dd),fp=i=>Bl(i,hd);function sl(i,e){if(i.size)for(const{callback:a}of i.values())a(e)}function Po(i,e){switch(i){case"before":return sl(fd,e);case"after":return sl(dd,e);case"tail":return sl(hd,e)}}let ll,ul;function cl(i,e,a){let s=e.clock.getDelta();for(e.frameloop==="never"&&typeof i=="number"&&(s=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),ll=e.internal.subscribers,ja=0;ja<ll.length;ja++)ul=ll[ja],ul.ref.current(ul.store.getState(),s,a);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function dp(i){let e=!1,a=!1,s,o,r;function u(h){o=requestAnimationFrame(u),e=!0,s=0,Po("before",h),a=!0;for(const v of i.values()){var d;r=v.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((d=r.gl.xr)!=null&&d.isPresenting)&&(s+=cl(h,r))}if(a=!1,Po("after",h),s===0)return Po("tail",h),e=!1,cancelAnimationFrame(o)}function f(h,d=1){var v;if(!h)return i.forEach(g=>f(g.store.getState(),d));(v=h.gl.xr)!=null&&v.isPresenting||!h.internal.active||h.frameloop==="never"||(d>1?h.internal.frames=Math.min(60,h.internal.frames+d):a?h.internal.frames=2:h.internal.frames=1,e||(e=!0,requestAnimationFrame(u)))}function c(h,d=!0,v,g){if(d&&Po("before",h),v)cl(h,v,g);else for(const y of i.values())cl(h,y.store.getState());d&&Po("after",h)}return{loop:u,invalidate:f,advance:c}}function pd(){const i=Q.useContext(cd);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function fn(i=a=>a,e){return pd()(i,e)}function is(i,e=0){const a=pd(),s=a.getState().internal.subscribe,o=rd(i);return Wo(()=>s(o,e,a),[e,s,a]),null}const Oc=new WeakMap;function vd(i,e){return function(a,...s){let o=Oc.get(a);return o||(o=new a,Oc.set(a,o)),i&&i(o),Promise.all(s.map(r=>new Promise((u,f)=>o.load(r,c=>{c.scene&&Object.assign(c,tp(c.scene)),u(c)},e,c=>f(new Error(`Could not load ${r}: ${c==null?void 0:c.message}`))))))}}function $a(i,e,a,s){const o=Array.isArray(e)?e:[e],r=Jf(vd(a,s),[i,...o],{equal:jt.equ});return Array.isArray(e)?r:r[0]}$a.preload=function(i,e,a){const s=Array.isArray(e)?e:[e];return Vh(vd(a),[i,...s])};$a.clear=function(i,e){const a=Array.isArray(e)?e:[e];return Zh([i,...a])};const eo=new Map,{invalidate:Dc,advance:Fc}=dp(eo),{reconciler:es,applyProps:Bi}=Jh(eo,op),Gi={objects:"shallow",strict:!1},hp=(i,e)=>{const a=typeof i=="function"?i(e):i;return ud(a)?a:new zf({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...i})};function pp(i,e){const a=typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement;if(e){const{width:s,height:o,top:r,left:u,updateStyle:f=a}=e;return{width:s,height:o,top:r,left:u,updateStyle:f}}else if(typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:s,height:o,top:r,left:u}=i.parentElement.getBoundingClientRect();return{width:s,height:o,top:r,left:u,updateStyle:a}}else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0,updateStyle:a};return{width:0,height:0,top:0,left:0}}function vp(i){const e=eo.get(i),a=e==null?void 0:e.fiber,s=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const o=typeof reportError=="function"?reportError:console.error,r=s||lp(Dc,Fc),u=a||es.createContainer(r,Ki.ConcurrentRoot,null,!1,null,"",o,null);e||eo.set(i,{fiber:u,store:r});let f,c=!1,h;return{configure(d={}){let{gl:v,size:g,scene:y,events:S,onCreated:E,shadows:x=!1,linear:C=!1,flat:T=!1,legacy:M=!1,orthographic:R=!1,frameloop:b="always",dpr:I=[1,2],performance:D,raycaster:L,camera:F,onPointerMissed:O}=d,V=r.getState(),U=V.gl;V.gl||V.set({gl:U=hp(v,i)});let H=V.raycaster;H||V.set({raycaster:H=new W1});const{params:G,...fe}=L||{};if(jt.equ(fe,H,Gi)||Bi(H,{...fe}),jt.equ(G,H.params,Gi)||Bi(H,{params:{...H.params,...G}}),!V.camera||V.camera===h&&!jt.equ(h,F,Gi)){h=F;const N=F instanceof X1,A=N?F:R?new mi(0,0,0,0,.1,1e3):new Fo(75,0,.1,1e3);N||(A.position.z=5,F&&(Bi(A,F),("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(A.manual=!0,A.updateProjectionMatrix())),!V.camera&&!(F!=null&&F.rotation)&&A.lookAt(0,0,0)),V.set({camera:A}),H.camera=A}if(!V.scene){let N;y instanceof Go?N=y:(N=new Go,y&&Bi(N,y)),V.set({scene:Zi(N)})}if(!V.xr){var ee;const N=(Y,$)=>{const q=r.getState();q.frameloop!=="never"&&Fc(Y,!0,q,$)},A=()=>{const Y=r.getState();Y.gl.xr.enabled=Y.gl.xr.isPresenting,Y.gl.xr.setAnimationLoop(Y.gl.xr.isPresenting?N:null),Y.gl.xr.isPresenting||Dc(Y)},z={connect(){const Y=r.getState().gl;Y.xr.addEventListener("sessionstart",A),Y.xr.addEventListener("sessionend",A)},disconnect(){const Y=r.getState().gl;Y.xr.removeEventListener("sessionstart",A),Y.xr.removeEventListener("sessionend",A)}};typeof((ee=U.xr)==null?void 0:ee.addEventListener)=="function"&&z.connect(),V.set({xr:z})}if(U.shadowMap){const N=U.shadowMap.enabled,A=U.shadowMap.type;if(U.shadowMap.enabled=!!x,jt.boo(x))U.shadowMap.type=nl;else if(jt.str(x)){var ye;const z={basic:Q1,percentage:K1,soft:nl,variance:J1};U.shadowMap.type=(ye=z[x])!=null?ye:nl}else jt.obj(x)&&Object.assign(U.shadowMap,x);(N!==U.shadowMap.enabled||A!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const J=td();J&&("enabled"in J?J.enabled=!M:"legacyMode"in J&&(J.legacyMode=M)),c||Bi(U,{outputEncoding:C?3e3:3001,toneMapping:T?V1:Z1}),V.legacy!==M&&V.set(()=>({legacy:M})),V.linear!==C&&V.set(()=>({linear:C})),V.flat!==T&&V.set(()=>({flat:T})),v&&!jt.fun(v)&&!ud(v)&&!jt.equ(v,U,Gi)&&Bi(U,v),S&&!V.events.handlers&&V.set({events:S(r)});const K=pp(i,g);return jt.equ(K,V.size,Gi)||V.setSize(K.width,K.height,K.updateStyle,K.top,K.left),I&&V.viewport.dpr!==ad(I)&&V.setDpr(I),V.frameloop!==b&&V.setFrameloop(b),V.onPointerMissed||V.set({onPointerMissed:O}),D&&!jt.equ(D,V.performance,Gi)&&V.set(N=>({performance:{...N.performance,...D}})),f=E,c=!0,this},render(d){return c||this.configure(),es.updateContainer(W.jsx(gp,{store:r,children:d,onCreated:f,rootElement:i}),u,null,()=>{}),r},unmount(){gd(i)}}}function gp({store:i,children:e,onCreated:a,rootElement:s}){return Wo(()=>{const o=i.getState();o.set(r=>({internal:{...r.internal,active:!0}})),a&&a(o),i.getState().events.connected||o.events.connect==null||o.events.connect(s)},[]),W.jsx(cd.Provider,{value:i,children:e})}function gd(i,e){const a=eo.get(i),s=a==null?void 0:a.fiber;if(s){const o=a==null?void 0:a.store.getState();o&&(o.internal.active=!1),es.updateContainer(null,s,null,()=>{o&&setTimeout(()=>{try{var r,u,f,c;o.events.disconnect==null||o.events.disconnect(),(r=o.gl)==null||(u=r.renderLists)==null||u.dispose==null||u.dispose(),(f=o.gl)==null||f.forceContextLoss==null||f.forceContextLoss(),(c=o.gl)!=null&&c.xr&&o.xr.disconnect(),np(o),eo.delete(i)}catch{}},500)})}}es.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Q.version});const fl={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function mp(i){const{handlePointer:e}=sp(i);return{priority:1,enabled:!0,compute(a,s,o){s.pointer.set(a.offsetX/s.size.width*2-1,-(a.offsetY/s.size.height)*2+1),s.raycaster.setFromCamera(s.pointer,s.camera)},connected:void 0,handlers:Object.keys(fl).reduce((a,s)=>({...a,[s]:e(s)}),{}),update:()=>{var a;const{events:s,internal:o}=i.getState();(a=o.lastEvent)!=null&&a.current&&s.handlers&&s.handlers.onPointerMove(o.lastEvent.current)},connect:a=>{var s;const{set:o,events:r}=i.getState();r.disconnect==null||r.disconnect(),o(u=>({events:{...u.events,connected:a}})),Object.entries((s=r.handlers)!=null?s:[]).forEach(([u,f])=>{const[c,h]=fl[u];a.addEventListener(c,f,{passive:h})})},disconnect:()=>{const{set:a,events:s}=i.getState();if(s.connected){var o;Object.entries((o=s.handlers)!=null?o:[]).forEach(([r,u])=>{if(s&&s.connected instanceof HTMLElement){const[f]=fl[r];s.connected.removeEventListener(f,u)}}),a(r=>({events:{...r.events,connected:void 0}}))}}}}function Rl(i,e,a){var s,o,r,u,f;e==null&&(e=100);function c(){var d=Date.now()-u;d<e&&d>=0?s=setTimeout(c,e-d):(s=null,a||(f=i.apply(r,o),r=o=null))}var h=function(){r=this,o=arguments,u=Date.now();var d=a&&!s;return s||(s=setTimeout(c,e)),d&&(f=i.apply(r,o),r=o=null),f};return h.clear=function(){s&&(clearTimeout(s),s=null)},h.flush=function(){s&&(f=i.apply(r,o),r=o=null,clearTimeout(s),s=null)},h}Rl.debounce=Rl;var yp=Rl;const jc=Ho(yp);var wp=Object.defineProperty,xp=Object.defineProperties,Sp=Object.getOwnPropertyDescriptors,Nc=Object.getOwnPropertySymbols,_p=Object.prototype.hasOwnProperty,Cp=Object.prototype.propertyIsEnumerable,zc=(i,e,a)=>e in i?wp(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a,Bc=(i,e)=>{for(var a in e||(e={}))_p.call(e,a)&&zc(i,a,e[a]);if(Nc)for(var a of Nc(e))Cp.call(e,a)&&zc(i,a,e[a]);return i},Ep=(i,e)=>xp(i,Sp(e)),Gc,Hc;typeof window<"u"&&((Gc=window.document)!=null&&Gc.createElement||((Hc=window.navigator)==null?void 0:Hc.product)==="ReactNative")?Q.useLayoutEffect:Q.useEffect;function md(i,e,a){if(!i)return;if(a(i)===!0)return i;let s=i.child;for(;s;){const o=md(s,e,a);if(o)return o;s=s.sibling}}function yd(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const Wc=console.error;console.error=function(){const i=[...arguments].join("");if(i!=null&&i.startsWith("Warning:")&&i.includes("useContext")){console.error=Wc;return}return Wc.apply(this,arguments)};const Gl=yd(Q.createContext(null));class wd extends Q.Component{render(){return Q.createElement(Gl.Provider,{value:this._reactInternals},this.props.children)}}function Tp(){const i=Q.useContext(Gl);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Q.useId();return Q.useMemo(()=>{for(const s of[i,i==null?void 0:i.alternate]){if(!s)continue;const o=md(s,!1,r=>{let u=r.memoizedState;for(;u;){if(u.memoizedState===e)return!0;u=u.next}});if(o)return o}},[i,e])}function kp(){const i=Tp(),[e]=Q.useState(()=>new Map);e.clear();let a=i;for(;a;){if(a.type&&typeof a.type=="object"){const o=a.type._context===void 0&&a.type.Provider===a.type?a.type:a.type._context;o&&o!==Gl&&!e.has(o)&&e.set(o,Q.useContext(yd(o)))}a=a.return}return e}function Mp(){const i=kp();return Q.useMemo(()=>Array.from(i.keys()).reduce((e,a)=>s=>Q.createElement(e,null,Q.createElement(a.Provider,Ep(Bc({},s),{value:i.get(a)}))),e=>Q.createElement(wd,Bc({},e))),[i])}function bp({debounce:i,scroll:e,polyfill:a,offsetSize:s}={debounce:0,scroll:!1,offsetSize:!1}){const o=a||typeof window<"u"&&window.ResizeObserver,[r,u]=Q.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!o)return r.width=1280,r.height=800,[()=>{},r,()=>{}];const f=Q.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r}),c=i?typeof i=="number"?i:i.scroll:null,h=i?typeof i=="number"?i:i.resize:null,d=Q.useRef(!1);Q.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[v,g,y]=Q.useMemo(()=>{const C=()=>{if(!f.current.element)return;const{left:T,top:M,width:R,height:b,bottom:I,right:D,x:L,y:F}=f.current.element.getBoundingClientRect(),O={left:T,top:M,width:R,height:b,bottom:I,right:D,x:L,y:F};f.current.element instanceof HTMLElement&&s&&(O.height=f.current.element.offsetHeight,O.width=f.current.element.offsetWidth),Object.freeze(O),d.current&&!Lp(f.current.lastBounds,O)&&u(f.current.lastBounds=O)};return[C,h?jc(C,h):C,c?jc(C,c):C]},[u,s,c,h]);function S(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(C=>C.removeEventListener("scroll",y,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null)}function E(){f.current.element&&(f.current.resizeObserver=new o(y),f.current.resizeObserver.observe(f.current.element),e&&f.current.scrollContainers&&f.current.scrollContainers.forEach(C=>C.addEventListener("scroll",y,{capture:!0,passive:!0})))}const x=C=>{!C||C===f.current.element||(S(),f.current.element=C,f.current.scrollContainers=xd(C),E())};return Ip(y,!!e),Rp(g),Q.useEffect(()=>{S(),E()},[e,y,g]),Q.useEffect(()=>S,[]),[x,r,v]}function Rp(i){Q.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function Ip(i,e){Q.useEffect(()=>{if(e){const a=i;return window.addEventListener("scroll",a,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",a,!0)}},[i,e])}function xd(i){const e=[];if(!i||i===document.body)return e;const{overflow:a,overflowX:s,overflowY:o}=window.getComputedStyle(i);return[a,s,o].some(r=>r==="auto"||r==="scroll")&&e.push(i),[...e,...xd(i.parentElement)]}const Pp=["x","y","top","bottom","left","right","width","height"],Lp=(i,e)=>Pp.every(a=>i[a]===e[a]),Ap=Q.forwardRef(function({children:e,fallback:a,resize:s,style:o,gl:r,events:u=mp,eventSource:f,eventPrefix:c,shadows:h,linear:d,flat:v,legacy:g,orthographic:y,frameloop:S,dpr:E,performance:x,raycaster:C,camera:T,scene:M,onPointerMissed:R,onCreated:b,...I},D){Q.useMemo(()=>Kh($1),[]);const L=Mp(),[F,O]=bp({scroll:!0,debounce:{scroll:50,resize:0},...s}),V=Q.useRef(null),U=Q.useRef(null);Q.useImperativeHandle(D,()=>V.current);const H=rd(R),[G,fe]=Q.useState(!1),[ee,ye]=Q.useState(!1);if(G)throw G;if(ee)throw ee;const J=Q.useRef(null);Wo(()=>{const N=V.current;O.width>0&&O.height>0&&N&&(J.current||(J.current=vp(N)),J.current.configure({gl:r,events:u,shadows:h,linear:d,flat:v,legacy:g,orthographic:y,frameloop:S,dpr:E,performance:x,raycaster:C,camera:T,scene:M,size:O,onPointerMissed:(...A)=>H.current==null?void 0:H.current(...A),onCreated:A=>{A.events.connect==null||A.events.connect(f?qh(f)?f.current:f:U.current),c&&A.setEvents({compute:(z,Y)=>{const $=z[c+"X"],q=z[c+"Y"];Y.pointer.set($/Y.size.width*2-1,-(q/Y.size.height)*2+1),Y.raycaster.setFromCamera(Y.pointer,Y.camera)}}),b==null||b(A)}}),J.current.render(W.jsx(L,{children:W.jsx(id,{set:ye,children:W.jsx(Q.Suspense,{fallback:W.jsx($h,{set:fe}),children:e})})})))}),Q.useEffect(()=>{const N=V.current;if(N)return()=>gd(N)},[]);const K=f?"none":"auto";return W.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...o},...I,children:W.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:W.jsx("canvas",{ref:V,style:{display:"block"},children:a})})})}),Up=Q.forwardRef(function(e,a){return W.jsx(wd,{children:W.jsx(Ap,{...e,ref:a})})});function Op(i,e,a){return Math.max(e,Math.min(i,a))}const bn={toVector(i,e){return i===void 0&&(i=e),Array.isArray(i)?i:[i,i]},add(i,e){return[i[0]+e[0],i[1]+e[1]]},sub(i,e){return[i[0]-e[0],i[1]-e[1]]},addTo(i,e){i[0]+=e[0],i[1]+=e[1]},subTo(i,e){i[0]-=e[0],i[1]-=e[1]}};function Vc(i,e,a){return e===0||Math.abs(e)===1/0?Math.pow(i,a*5):i*e*a/(e+a*i)}function Zc(i,e,a,s=.15){return s===0?Op(i,e,a):i<e?-Vc(e-i,a-e,s)+e:i>a?+Vc(i-a,a-e,s)+a:i}function Dp(i,[e,a],[s,o]){const[[r,u],[f,c]]=i;return[Zc(e,r,u,s),Zc(a,f,c,o)]}function Fp(i,e){if(typeof i!="object"||i===null)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var s=a.call(i,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function jp(i){var e=Fp(i,"string");return typeof e=="symbol"?e:String(e)}function Hn(i,e,a){return e=jp(e),e in i?Object.defineProperty(i,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[e]=a,i}function Yc(i,e){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),a.push.apply(a,s)}return a}function Qt(i){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Yc(Object(a),!0).forEach(function(s){Hn(i,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):Yc(Object(a)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(a,s))})}return i}const Sd={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Xc(i){return i?i[0].toUpperCase()+i.slice(1):""}const Np=["enter","leave"];function zp(i=!1,e){return i&&!Np.includes(e)}function Bp(i,e="",a=!1){const s=Sd[i],o=s&&s[e]||e;return"on"+Xc(i)+Xc(o)+(zp(a,o)?"Capture":"")}const Gp=["gotpointercapture","lostpointercapture"];function Hp(i){let e=i.substring(2).toLowerCase();const a=!!~e.indexOf("passive");a&&(e=e.replace("passive",""));const s=Gp.includes(e)?"capturecapture":"capture",o=!!~e.indexOf(s);return o&&(e=e.replace("capture","")),{device:e,capture:o,passive:a}}function Wp(i,e=""){const a=Sd[i],s=a&&a[e]||e;return i+s}function os(i){return"touches"in i}function _d(i){return os(i)?"touch":"pointerType"in i?i.pointerType:"mouse"}function Vp(i){return Array.from(i.touches).filter(e=>{var a,s;return e.target===i.currentTarget||((a=i.currentTarget)===null||a===void 0||(s=a.contains)===null||s===void 0?void 0:s.call(a,e.target))})}function Zp(i){return i.type==="touchend"||i.type==="touchcancel"?i.changedTouches:i.targetTouches}function Cd(i){return os(i)?Zp(i)[0]:i}function Yp(i){return Vp(i).map(e=>e.identifier)}function dl(i){const e=Cd(i);return os(i)?e.identifier:e.pointerId}function Qc(i){const e=Cd(i);return[e.clientX,e.clientY]}function Xp(i){const e={};if("buttons"in i&&(e.buttons=i.buttons),"shiftKey"in i){const{shiftKey:a,altKey:s,metaKey:o,ctrlKey:r}=i;Object.assign(e,{shiftKey:a,altKey:s,metaKey:o,ctrlKey:r})}return e}function ts(i,...e){return typeof i=="function"?i(...e):i}function Qp(){}function Kp(...i){return i.length===0?Qp:i.length===1?i[0]:function(){let e;for(const a of i)e=a.apply(this,arguments)||e;return e}}function Kc(i,e){return Object.assign({},e,i||{})}const Jp=32;class qp{constructor(e,a,s){this.ctrl=e,this.args=a,this.key=s,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:a,ingKey:s,args:o}=this;a[s]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=o,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const a=this.state,s=this.config;a._active||(this.reset(),this.computeInitial(),a._active=!0,a.target=e.target,a.currentTarget=e.currentTarget,a.lastOffset=s.from?ts(s.from,a):a.offset,a.offset=a.lastOffset,a.startTime=a.timeStamp=e.timeStamp)}computeValues(e){const a=this.state;a._values=e,a.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:a,config:s,shared:o}=this;a.args=this.args;let r=0;if(e&&(a.event=e,s.preventDefault&&e.cancelable&&a.event.preventDefault(),a.type=e.type,o.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,o.locked=!!document.pointerLockElement,Object.assign(o,Xp(e)),o.down=o.pressed=o.buttons%2===1||o.touches>0,r=e.timeStamp-a.timeStamp,a.timeStamp=e.timeStamp,a.elapsedTime=a.timeStamp-a.startTime),a._active){const I=a._delta.map(Math.abs);bn.addTo(a._distance,I)}this.axisIntent&&this.axisIntent(e);const[u,f]=a._movement,[c,h]=s.threshold,{_step:d,values:v}=a;if(s.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(u)>=c&&v[0]),d[1]===!1&&(d[1]=Math.abs(f)>=h&&v[1])):(d[0]===!1&&(d[0]=Math.abs(u)>=c&&Math.sign(u)*c),d[1]===!1&&(d[1]=Math.abs(f)>=h&&Math.sign(f)*h)),a.intentional=d[0]!==!1||d[1]!==!1,!a.intentional)return;const g=[0,0];if(s.hasCustomTransform){const[I,D]=v;g[0]=d[0]!==!1?I-d[0]:0,g[1]=d[1]!==!1?D-d[1]:0}else g[0]=d[0]!==!1?u-d[0]:0,g[1]=d[1]!==!1?f-d[1]:0;this.restrictToAxis&&!a._blocked&&this.restrictToAxis(g);const y=a.offset,S=a._active&&!a._blocked||a.active;S&&(a.first=a._active&&!a.active,a.last=!a._active&&a.active,a.active=o[this.ingKey]=a._active,e&&(a.first&&("bounds"in s&&(a._bounds=ts(s.bounds,a)),this.setup&&this.setup()),a.movement=g,this.computeOffset()));const[E,x]=a.offset,[[C,T],[M,R]]=a._bounds;a.overflow=[E<C?-1:E>T?1:0,x<M?-1:x>R?1:0],a._movementBound[0]=a.overflow[0]?a._movementBound[0]===!1?a._movement[0]:a._movementBound[0]:!1,a._movementBound[1]=a.overflow[1]?a._movementBound[1]===!1?a._movement[1]:a._movementBound[1]:!1;const b=a._active?s.rubberband||[0,0]:[0,0];if(a.offset=Dp(a._bounds,a.offset,b),a.delta=bn.sub(a.offset,y),this.computeMovement(),S&&(!a.last||r>Jp)){a.delta=bn.sub(a.offset,y);const I=a.delta.map(Math.abs);bn.addTo(a.distance,I),a.direction=a.delta.map(Math.sign),a._direction=a._delta.map(Math.sign),!a.first&&r>0&&(a.velocity=[I[0]/r,I[1]/r],a.timeDelta=r)}}emit(){const e=this.state,a=this.shared,s=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!s.triggerAllEvents)return;const o=this.handler(Qt(Qt(Qt({},a),e),{},{[this.aliasKey]:e.values}));o!==void 0&&(e.memo=o)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function $p([i,e],a){const s=Math.abs(i),o=Math.abs(e);if(s>o&&s>a)return"x";if(o>s&&o>a)return"y"}class e0 extends qp{constructor(...e){super(...e),Hn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=bn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=bn.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const a=this.state,s=this.config;if(!a.axis&&e){const o=typeof s.axisThreshold=="object"?s.axisThreshold[_d(e)]:s.axisThreshold;a.axis=$p(a._movement,o)}a._blocked=(s.lockDirection||!!s.axis)&&!a.axis||!!s.axis&&s.axis!==a.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const t0=i=>i,Jc=.15,Ed={enabled(i=!0){return i},eventOptions(i,e,a){return Qt(Qt({},a.shared.eventOptions),i)},preventDefault(i=!1){return i},triggerAllEvents(i=!1){return i},rubberband(i=0){switch(i){case!0:return[Jc,Jc];case!1:return[0,0];default:return bn.toVector(i)}},from(i){if(typeof i=="function")return i;if(i!=null)return bn.toVector(i)},transform(i,e,a){const s=i||a.shared.transform;return this.hasCustomTransform=!!s,s||t0},threshold(i){return bn.toVector(i,0)}},n0=0,Vo=Qt(Qt({},Ed),{},{axis(i,e,{axis:a}){if(this.lockDirection=a==="lock",!this.lockDirection)return a},axisThreshold(i=n0){return i},bounds(i={}){if(typeof i=="function")return r=>Vo.bounds(i(r));if("current"in i)return()=>i.current;if(typeof HTMLElement=="function"&&i instanceof HTMLElement)return i;const{left:e=-1/0,right:a=1/0,top:s=-1/0,bottom:o=1/0}=i;return[[e,a],[s,o]]}}),qc={ArrowRight:(i,e=1)=>[i*e,0],ArrowLeft:(i,e=1)=>[-1*i*e,0],ArrowUp:(i,e=1)=>[0,-1*i*e],ArrowDown:(i,e=1)=>[0,i*e]};class r0 extends e0{constructor(...e){super(...e),Hn(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const a=e._bounds.getBoundingClientRect(),s=e.currentTarget.getBoundingClientRect(),o={left:a.left-s.left+e.offset[0],right:a.right-s.right+e.offset[0],top:a.top-s.top+e.offset[1],bottom:a.bottom-s.bottom+e.offset[1]};e._bounds=Vo.bounds(o)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const a=this.config,s=this.state;if(e.buttons!=null&&(Array.isArray(a.pointerButtons)?!a.pointerButtons.includes(e.buttons):a.pointerButtons!==-1&&a.pointerButtons!==e.buttons))return;const o=this.ctrl.setEventIds(e);a.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(o&&o.size>1&&s._pointerActive)&&(this.start(e),this.setupPointer(e),s._pointerId=dl(e),s._pointerActive=!0,this.computeValues(Qc(e)),this.computeInitial(),a.preventScrollAxis&&_d(e)!=="mouse"?(s._active=!1,this.setupScrollPrevention(e)):a.delay>0?(this.setupDelayTrigger(e),a.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const a=this.state;a._active=!0,a._preventScroll=!0,a._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const a=this.state,s=this.config;if(!a._pointerActive)return;const o=dl(e);if(a._pointerId!==void 0&&o!==a._pointerId)return;const r=Qc(e);if(document.pointerLockElement===e.target?a._delta=[e.movementX,e.movementY]:(a._delta=bn.sub(r,a._values),this.computeValues(r)),bn.addTo(a._movement,a._delta),this.compute(e),a._delayed&&a.intentional){this.timeoutStore.remove("dragDelay"),a.active=!1,this.startPointerDrag(e);return}if(s.preventScrollAxis&&!a._preventScroll)if(a.axis)if(a.axis===s.preventScrollAxis||s.preventScrollAxis==="xy"){a._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const a=this.state,s=this.config;if(!a._active||!a._pointerActive)return;const o=dl(e);if(a._pointerId!==void 0&&o!==a._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[r,u]=a._distance;if(a.tap=r<=s.tapsThreshold&&u<=s.tapsThreshold,a.tap&&s.filterTaps)a._force=!0;else{const[f,c]=a._delta,[h,d]=a._movement,[v,g]=s.swipe.velocity,[y,S]=s.swipe.distance,E=s.swipe.duration;if(a.elapsedTime<E){const x=Math.abs(f/a.timeDelta),C=Math.abs(c/a.timeDelta);x>v&&Math.abs(h)>y&&(a.swipe[0]=Math.sign(f)),C>g&&Math.abs(d)>S&&(a.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const a=this.config,s=a.device;a.pointerLock&&e.currentTarget.requestPointerLock(),a.pointerCapture||(this.eventStore.add(this.sharedConfig.window,s,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,i0(e);const a=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",a),this.eventStore.add(this.sharedConfig.window,"touch","cancel",a),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const a=qc[e.key];if(a){const s=this.state,o=e.shiftKey?10:e.altKey?.1:1;this.start(e),s._delta=a(this.config.keyboardDisplacement,o),s._keyboardActive=!0,bn.addTo(s._movement,s._delta),this.compute(e),this.emit()}}keyUp(e){e.key in qc&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const a=this.config.device;e(a,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(a,"change",this.pointerMove.bind(this)),e(a,"end",this.pointerUp.bind(this)),e(a,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function i0(i){"persist"in i&&typeof i.persist=="function"&&i.persist()}const Zo=typeof window<"u"&&window.document&&window.document.createElement;function Td(){return Zo&&"ontouchstart"in window}function o0(){return Td()||Zo&&window.navigator.maxTouchPoints>1}function a0(){return Zo&&"onpointerdown"in window}function s0(){return Zo&&"exitPointerLock"in window.document}function l0(){try{return"constructor"in GestureEvent}catch{return!1}}const pr={isBrowser:Zo,gesture:l0(),touch:Td(),touchscreen:o0(),pointer:a0(),pointerLock:s0()},u0=250,c0=180,f0=.5,d0=50,h0=250,p0=10,$c={mouse:0,touch:0,pen:8},v0=Qt(Qt({},Vo),{},{device(i,e,{pointer:{touch:a=!1,lock:s=!1,mouse:o=!1}={}}){return this.pointerLock=s&&pr.pointerLock,pr.touch&&a?"touch":this.pointerLock?"mouse":pr.pointer&&!o?"pointer":pr.touch?"touch":"mouse"},preventScrollAxis(i,e,{preventScroll:a}){if(this.preventScrollDelay=typeof a=="number"?a:a||a===void 0&&i?u0:void 0,!(!pr.touchscreen||a===!1))return i||(a!==void 0?"y":void 0)},pointerCapture(i,e,{pointer:{capture:a=!0,buttons:s=1,keys:o=!0}={}}){return this.pointerButtons=s,this.keys=o,!this.pointerLock&&this.device==="pointer"&&a},threshold(i,e,{filterTaps:a=!1,tapsThreshold:s=3,axis:o=void 0}){const r=bn.toVector(i,a?s:o?1:0);return this.filterTaps=a,this.tapsThreshold=s,r},swipe({velocity:i=f0,distance:e=d0,duration:a=h0}={}){return{velocity:this.transform(bn.toVector(i)),distance:this.transform(bn.toVector(e)),duration:a}},delay(i=0){switch(i){case!0:return c0;case!1:return 0;default:return i}},axisThreshold(i){return i?Qt(Qt({},$c),i):$c},keyboardDisplacement(i=p0){return i}});Qt(Qt({},Ed),{},{device(i,e,{shared:a,pointer:{touch:s=!1}={}}){if(a.target&&!pr.touch&&pr.gesture)return"gesture";if(pr.touch&&s)return"touch";if(pr.touchscreen){if(pr.pointer)return"pointer";if(pr.touch)return"touch"}},bounds(i,e,{scaleBounds:a={},angleBounds:s={}}){const o=u=>{const f=Kc(ts(a,u),{min:-1/0,max:1/0});return[f.min,f.max]},r=u=>{const f=Kc(ts(s,u),{min:-1/0,max:1/0});return[f.min,f.max]};return typeof a!="function"&&typeof s!="function"?[o(),r()]:u=>[o(u),r(u)]},threshold(i,e,a){return this.lockDirection=a.axis==="lock",bn.toVector(i,this.lockDirection?[.1,3]:0)},modifierKey(i){return i===void 0?"ctrlKey":i},pinchOnWheel(i=!0){return i}});Qt(Qt({},Vo),{},{mouseOnly:(i=!0)=>i});Qt(Qt({},Vo),{},{mouseOnly:(i=!0)=>i});const kd=new Map,Il=new Map;function g0(i){kd.set(i.key,i.engine),Il.set(i.key,i.resolver)}const m0={key:"drag",engine:r0,resolver:v0};function y0(i,e){if(i==null)return{};var a={},s=Object.keys(i),o,r;for(r=0;r<s.length;r++)o=s[r],!(e.indexOf(o)>=0)&&(a[o]=i[o]);return a}function w0(i,e){if(i==null)return{};var a=y0(i,e),s,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(a[s]=i[s])}return a}const x0={target(i){if(i)return()=>"current"in i?i.current:i},enabled(i=!0){return i},window(i=pr.isBrowser?window:void 0){return i},eventOptions({passive:i=!0,capture:e=!1}={}){return{passive:i,capture:e}},transform(i){return i}},S0=["target","eventOptions","window","enabled","transform"];function Ya(i={},e){const a={};for(const[s,o]of Object.entries(e))switch(typeof o){case"function":a[s]=o.call(a,i[s],s,i);break;case"object":a[s]=Ya(i[s],o);break;case"boolean":o&&(a[s]=i[s]);break}return a}function _0(i,e,a={}){const s=i,{target:o,eventOptions:r,window:u,enabled:f,transform:c}=s,h=w0(s,S0);if(a.shared=Ya({target:o,eventOptions:r,window:u,enabled:f,transform:c},x0),e){const d=Il.get(e);a[e]=Ya(Qt({shared:a.shared},h),d)}else for(const d in h){const v=Il.get(d);v&&(a[d]=Ya(Qt({shared:a.shared},h[d]),v))}return a}class Md{constructor(e,a){Hn(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=a}add(e,a,s,o,r){const u=this._listeners,f=Wp(a,s),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},h=Qt(Qt({},c),r);e.addEventListener(f,o,h);const d=()=>{e.removeEventListener(f,o,h),u.delete(d)};return u.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class C0{constructor(){Hn(this,"_timeouts",new Map)}add(e,a,s=140,...o){this.remove(e),this._timeouts.set(e,window.setTimeout(a,s,...o))}remove(e){const a=this._timeouts.get(e);a&&window.clearTimeout(a)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class E0{constructor(e){Hn(this,"gestures",new Set),Hn(this,"_targetEventStore",new Md(this)),Hn(this,"gestureEventStores",{}),Hn(this,"gestureTimeoutStores",{}),Hn(this,"handlers",{}),Hn(this,"config",{}),Hn(this,"pointerIds",new Set),Hn(this,"touchIds",new Set),Hn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),T0(this,e)}setEventIds(e){if(os(e))return this.touchIds=new Set(Yp(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,a){this.handlers=e,this.nativeHandlers=a}applyConfig(e,a){this.config=_0(e,a,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const a=this.config.shared,s={};let o;if(!(a.target&&(o=a.target(),!o))){if(a.enabled){for(const u of this.gestures){const f=this.config[u],c=ef(s,f.eventOptions,!!o);if(f.enabled){const h=kd.get(u);new h(this,e,u).bind(c)}}const r=ef(s,a.eventOptions,!!o);for(const u in this.nativeHandlers)r(u,"",f=>this.nativeHandlers[u](Qt(Qt({},this.state.shared),{},{event:f,args:e})),void 0,!0)}for(const r in s)s[r]=Kp(...s[r]);if(!o)return s;for(const r in s){const{device:u,capture:f,passive:c}=Hp(r);this._targetEventStore.add(o,u,"",s[r],{capture:f,passive:c})}}}}function Hi(i,e){i.gestures.add(e),i.gestureEventStores[e]=new Md(i,e),i.gestureTimeoutStores[e]=new C0}function T0(i,e){e.drag&&Hi(i,"drag"),e.wheel&&Hi(i,"wheel"),e.scroll&&Hi(i,"scroll"),e.move&&Hi(i,"move"),e.pinch&&Hi(i,"pinch"),e.hover&&Hi(i,"hover")}const ef=(i,e,a)=>(s,o,r,u={},f=!1)=>{var c,h;const d=(c=u.capture)!==null&&c!==void 0?c:e.capture,v=(h=u.passive)!==null&&h!==void 0?h:e.passive;let g=f?s:Bp(s,o,d);a&&v&&(g+="Passive"),i[g]=i[g]||[],i[g].push(r)};function k0(i,e={},a,s){const o=hr.useMemo(()=>new E0(i),[]);if(o.applyHandlers(i,s),o.applyConfig(e,a),hr.useEffect(o.effect.bind(o)),hr.useEffect(()=>o.clean.bind(o),[]),e.target===void 0)return o.bind.bind(o)}function N2(i,e){return g0(m0),k0({drag:i},e||{},"drag")}var vr=Uint8Array,ei=Uint16Array,Pl=Uint32Array,bd=new vr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Rd=new vr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M0=new vr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Id=function(i,e){for(var a=new ei(31),s=0;s<31;++s)a[s]=e+=1<<i[s-1];for(var o=new Pl(a[30]),s=1;s<30;++s)for(var r=a[s];r<a[s+1];++r)o[r]=r-a[s]<<5|s;return[a,o]},Pd=Id(bd,2),Ld=Pd[0],b0=Pd[1];Ld[28]=258,b0[258]=28;var R0=Id(Rd,0),I0=R0[0],Ll=new ei(32768);for(var Bt=0;Bt<32768;++Bt){var qr=(Bt&43690)>>>1|(Bt&21845)<<1;qr=(qr&52428)>>>2|(qr&13107)<<2,qr=(qr&61680)>>>4|(qr&3855)<<4,Ll[Bt]=((qr&65280)>>>8|(qr&255)<<8)>>>1}var No=function(i,e,a){for(var s=i.length,o=0,r=new ei(e);o<s;++o)++r[i[o]-1];var u=new ei(e);for(o=0;o<e;++o)u[o]=u[o-1]+r[o-1]<<1;var f;if(a){f=new ei(1<<e);var c=15-e;for(o=0;o<s;++o)if(i[o])for(var h=o<<4|i[o],d=e-i[o],v=u[i[o]-1]++<<d,g=v|(1<<d)-1;v<=g;++v)f[Ll[v]>>>c]=h}else for(f=new ei(s),o=0;o<s;++o)i[o]&&(f[o]=Ll[u[i[o]-1]++]>>>15-i[o]);return f},Yo=new vr(288);for(var Bt=0;Bt<144;++Bt)Yo[Bt]=8;for(var Bt=144;Bt<256;++Bt)Yo[Bt]=9;for(var Bt=256;Bt<280;++Bt)Yo[Bt]=7;for(var Bt=280;Bt<288;++Bt)Yo[Bt]=8;var Ad=new vr(32);for(var Bt=0;Bt<32;++Bt)Ad[Bt]=5;var P0=No(Yo,9,1),L0=No(Ad,5,1),hl=function(i){for(var e=i[0],a=1;a<i.length;++a)i[a]>e&&(e=i[a]);return e},Sr=function(i,e,a){var s=e/8|0;return(i[s]|i[s+1]<<8)>>(e&7)&a},pl=function(i,e){var a=e/8|0;return(i[a]|i[a+1]<<8|i[a+2]<<16)>>(e&7)},A0=function(i){return(i/8|0)+(i&7&&1)},U0=function(i,e,a){(a==null||a>i.length)&&(a=i.length);var s=new(i instanceof ei?ei:i instanceof Pl?Pl:vr)(a-e);return s.set(i.subarray(e,a)),s},O0=function(i,e,a){var s=i.length;if(!s||a&&!a.l&&s<5)return e||new vr(0);var o=!e||a,r=!a||a.i;a||(a={}),e||(e=new vr(s*3));var u=function(re){var oe=e.length;if(re>oe){var de=new vr(Math.max(oe*2,re));de.set(e),e=de}},f=a.f||0,c=a.p||0,h=a.b||0,d=a.l,v=a.d,g=a.m,y=a.n,S=s*8;do{if(!d){a.f=f=Sr(i,c,1);var E=Sr(i,c+1,3);if(c+=3,E)if(E==1)d=P0,v=L0,g=9,y=5;else if(E==2){var M=Sr(i,c,31)+257,R=Sr(i,c+10,15)+4,b=M+Sr(i,c+5,31)+1;c+=14;for(var I=new vr(b),D=new vr(19),L=0;L<R;++L)D[M0[L]]=Sr(i,c+L*3,7);c+=R*3;for(var F=hl(D),O=(1<<F)-1,V=No(D,F,1),L=0;L<b;){var U=V[Sr(i,c,O)];c+=U&15;var x=U>>>4;if(x<16)I[L++]=x;else{var H=0,G=0;for(x==16?(G=3+Sr(i,c,3),c+=2,H=I[L-1]):x==17?(G=3+Sr(i,c,7),c+=3):x==18&&(G=11+Sr(i,c,127),c+=7);G--;)I[L++]=H}}var fe=I.subarray(0,M),ee=I.subarray(M);g=hl(fe),y=hl(ee),d=No(fe,g,1),v=No(ee,y,1)}else throw"invalid block type";else{var x=A0(c)+4,C=i[x-4]|i[x-3]<<8,T=x+C;if(T>s){if(r)throw"unexpected EOF";break}o&&u(h+C),e.set(i.subarray(x,T),h),a.b=h+=C,a.p=c=T*8;continue}if(c>S){if(r)throw"unexpected EOF";break}}o&&u(h+131072);for(var ye=(1<<g)-1,J=(1<<y)-1,K=c;;K=c){var H=d[pl(i,c)&ye],N=H>>>4;if(c+=H&15,c>S){if(r)throw"unexpected EOF";break}if(!H)throw"invalid length/literal";if(N<256)e[h++]=N;else if(N==256){K=c,d=null;break}else{var A=N-254;if(N>264){var L=N-257,z=bd[L];A=Sr(i,c,(1<<z)-1)+Ld[L],c+=z}var Y=v[pl(i,c)&J],$=Y>>>4;if(!Y)throw"invalid distance";c+=Y&15;var ee=I0[$];if($>3){var z=Rd[$];ee+=pl(i,c)&(1<<z)-1,c+=z}if(c>S){if(r)throw"unexpected EOF";break}o&&u(h+131072);for(var q=h+A;h<q;h+=4)e[h]=e[h-ee],e[h+1]=e[h+1-ee],e[h+2]=e[h+2-ee],e[h+3]=e[h+3-ee];h=q}}a.l=d,a.p=K,a.b=h,d&&(f=1,a.m=g,a.d=v,a.n=y)}while(!f);return h==e.length?e:U0(e,0,h)},D0=new vr(0),F0=function(i){if((i[0]&15)!=8||i[0]>>>4>7||(i[0]<<8|i[1])%31)throw"invalid zlib data";if(i[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Na(i,e){return O0((F0(i),i.subarray(2,-4)),e)}var j0=typeof TextDecoder<"u"&&new TextDecoder,N0=0;try{j0.decode(D0,{stream:!0}),N0=1}catch{}var z0=Object.defineProperty,B0=(i,e,a)=>e in i?z0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a,_r=(i,e,a)=>(B0(i,typeof e!="symbol"?e+"":e,a),a);class vl{constructor(e=Math){_r(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),_r(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),_r(this,"p",[]),_r(this,"perm",[]),_r(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),_r(this,"dot",(a,s,o)=>a[0]*s+a[1]*o),_r(this,"dot3",(a,s,o,r)=>a[0]*s+a[1]*o+a[2]*r),_r(this,"dot4",(a,s,o,r,u)=>a[0]*s+a[1]*o+a[2]*r+a[3]*u),_r(this,"noise",(a,s)=>{let o,r,u;const f=.5*(Math.sqrt(3)-1),c=(a+s)*f,h=Math.floor(a+c),d=Math.floor(s+c),v=(3-Math.sqrt(3))/6,g=(h+d)*v,y=h-g,S=d-g,E=a-y,x=s-S;let C=0,T=1;E>x&&(C=1,T=0);const M=E-C+v,R=x-T+v,b=E-1+2*v,I=x-1+2*v,D=h&255,L=d&255,F=this.perm[D+this.perm[L]]%12,O=this.perm[D+C+this.perm[L+T]]%12,V=this.perm[D+1+this.perm[L+1]]%12;let U=.5-E*E-x*x;U<0?o=0:(U*=U,o=U*U*this.dot(this.grad3[F],E,x));let H=.5-M*M-R*R;H<0?r=0:(H*=H,r=H*H*this.dot(this.grad3[O],M,R));let G=.5-b*b-I*I;return G<0?u=0:(G*=G,u=G*G*this.dot(this.grad3[V],b,I)),70*(o+r+u)}),_r(this,"noise3d",(a,s,o)=>{let r,u,f,c;const d=(a+s+o)*.3333333333333333,v=Math.floor(a+d),g=Math.floor(s+d),y=Math.floor(o+d),S=1/6,E=(v+g+y)*S,x=v-E,C=g-E,T=y-E,M=a-x,R=s-C,b=o-T;let I,D,L,F,O,V;M>=R?R>=b?(I=1,D=0,L=0,F=1,O=1,V=0):M>=b?(I=1,D=0,L=0,F=1,O=0,V=1):(I=0,D=0,L=1,F=1,O=0,V=1):R<b?(I=0,D=0,L=1,F=0,O=1,V=1):M<b?(I=0,D=1,L=0,F=0,O=1,V=1):(I=0,D=1,L=0,F=1,O=1,V=0);const U=M-I+S,H=R-D+S,G=b-L+S,fe=M-F+2*S,ee=R-O+2*S,ye=b-V+2*S,J=M-1+3*S,K=R-1+3*S,N=b-1+3*S,A=v&255,z=g&255,Y=y&255,$=this.perm[A+this.perm[z+this.perm[Y]]]%12,q=this.perm[A+I+this.perm[z+D+this.perm[Y+L]]]%12,re=this.perm[A+F+this.perm[z+O+this.perm[Y+V]]]%12,oe=this.perm[A+1+this.perm[z+1+this.perm[Y+1]]]%12;let de=.6-M*M-R*R-b*b;de<0?r=0:(de*=de,r=de*de*this.dot3(this.grad3[$],M,R,b));let Te=.6-U*U-H*H-G*G;Te<0?u=0:(Te*=Te,u=Te*Te*this.dot3(this.grad3[q],U,H,G));let Re=.6-fe*fe-ee*ee-ye*ye;Re<0?f=0:(Re*=Re,f=Re*Re*this.dot3(this.grad3[re],fe,ee,ye));let ve=.6-J*J-K*K-N*N;return ve<0?c=0:(ve*=ve,c=ve*ve*this.dot3(this.grad3[oe],J,K,N)),32*(r+u+f+c)}),_r(this,"noise4d",(a,s,o,r)=>{const u=this.grad4,f=this.simplex,c=this.perm,h=(Math.sqrt(5)-1)/4,d=(5-Math.sqrt(5))/20;let v,g,y,S,E;const x=(a+s+o+r)*h,C=Math.floor(a+x),T=Math.floor(s+x),M=Math.floor(o+x),R=Math.floor(r+x),b=(C+T+M+R)*d,I=C-b,D=T-b,L=M-b,F=R-b,O=a-I,V=s-D,U=o-L,H=r-F,G=O>V?32:0,fe=O>U?16:0,ee=V>U?8:0,ye=O>H?4:0,J=V>H?2:0,K=U>H?1:0,N=G+fe+ee+ye+J+K;let A,z,Y,$,q,re,oe,de,Te,Re,ve,ge;A=f[N][0]>=3?1:0,z=f[N][1]>=3?1:0,Y=f[N][2]>=3?1:0,$=f[N][3]>=3?1:0,q=f[N][0]>=2?1:0,re=f[N][1]>=2?1:0,oe=f[N][2]>=2?1:0,de=f[N][3]>=2?1:0,Te=f[N][0]>=1?1:0,Re=f[N][1]>=1?1:0,ve=f[N][2]>=1?1:0,ge=f[N][3]>=1?1:0;const He=O-A+d,Xe=V-z+d,Ie=U-Y+d,De=H-$+d,Ve=O-q+2*d,we=V-re+2*d,je=U-oe+2*d,Le=H-de+2*d,he=O-Te+3*d,qe=V-Re+3*d,be=U-ve+3*d,Oe=H-ge+3*d,Me=O-1+4*d,vt=V-1+4*d,Fe=U-1+4*d,Ne=H-1+4*d,ze=C&255,$e=T&255,xt=M&255,Ct=R&255,it=c[ze+c[$e+c[xt+c[Ct]]]]%32,Ye=c[ze+A+c[$e+z+c[xt+Y+c[Ct+$]]]]%32,j=c[ze+q+c[$e+re+c[xt+oe+c[Ct+de]]]]%32,pe=c[ze+Te+c[$e+Re+c[xt+ve+c[Ct+ge]]]]%32,Se=c[ze+1+c[$e+1+c[xt+1+c[Ct+1]]]]%32;let Ue=.6-O*O-V*V-U*U-H*H;Ue<0?v=0:(Ue*=Ue,v=Ue*Ue*this.dot4(u[it],O,V,U,H));let Je=.6-He*He-Xe*Xe-Ie*Ie-De*De;Je<0?g=0:(Je*=Je,g=Je*Je*this.dot4(u[Ye],He,Xe,Ie,De));let ue=.6-Ve*Ve-we*we-je*je-Le*Le;ue<0?y=0:(ue*=ue,y=ue*ue*this.dot4(u[j],Ve,we,je,Le));let et=.6-he*he-qe*qe-be*be-Oe*Oe;et<0?S=0:(et*=et,S=et*et*this.dot4(u[pe],he,qe,be,Oe));let ln=.6-Me*Me-vt*vt-Fe*Fe-Ne*Ne;return ln<0?E=0:(ln*=ln,E=ln*ln*this.dot4(u[Se],Me,vt,Fe,Ne)),27*(v+g+y+S+E)});for(let a=0;a<256;a++)this.p[a]=Math.floor(e.random()*256);for(let a=0;a<512;a++)this.perm[a]=this.p[a&255]}}var G0=Object.defineProperty,H0=(i,e,a)=>e in i?G0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a,lt=(i,e,a)=>(H0(i,typeof e!="symbol"?e+"":e,a),a);const za=new eh,tf=new th,W0=Math.cos(70*(Math.PI/180)),nf=(i,e)=>(i%e+e)%e;let V0=class extends nh{constructor(e,a){super(),lt(this,"object"),lt(this,"domElement"),lt(this,"enabled",!0),lt(this,"target",new zt),lt(this,"minDistance",0),lt(this,"maxDistance",1/0),lt(this,"minZoom",0),lt(this,"maxZoom",1/0),lt(this,"minPolarAngle",0),lt(this,"maxPolarAngle",Math.PI),lt(this,"minAzimuthAngle",-1/0),lt(this,"maxAzimuthAngle",1/0),lt(this,"enableDamping",!1),lt(this,"dampingFactor",.05),lt(this,"enableZoom",!0),lt(this,"zoomSpeed",1),lt(this,"enableRotate",!0),lt(this,"rotateSpeed",1),lt(this,"enablePan",!0),lt(this,"panSpeed",1),lt(this,"screenSpacePanning",!0),lt(this,"keyPanSpeed",7),lt(this,"zoomToCursor",!1),lt(this,"autoRotate",!1),lt(this,"autoRotateSpeed",2),lt(this,"reverseOrbit",!1),lt(this,"reverseHorizontalOrbit",!1),lt(this,"reverseVerticalOrbit",!1),lt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),lt(this,"mouseButtons",{LEFT:Ni.ROTATE,MIDDLE:Ni.DOLLY,RIGHT:Ni.PAN}),lt(this,"touches",{ONE:zi.ROTATE,TWO:zi.DOLLY_PAN}),lt(this,"target0"),lt(this,"position0"),lt(this,"zoom0"),lt(this,"_domElementKeyEvents",null),lt(this,"getPolarAngle"),lt(this,"getAzimuthalAngle"),lt(this,"setPolarAngle"),lt(this,"setAzimuthalAngle"),lt(this,"getDistance"),lt(this,"listenToKeyEvents"),lt(this,"stopListenToKeyEvents"),lt(this,"saveState"),lt(this,"reset"),lt(this,"update"),lt(this,"connect"),lt(this,"dispose"),this.object=e,this.domElement=a,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=j=>{let pe=nf(j,2*Math.PI),Se=d.phi;Se<0&&(Se+=2*Math.PI),pe<0&&(pe+=2*Math.PI);let Ue=Math.abs(pe-Se);2*Math.PI-Ue<Ue&&(pe<Se?pe+=2*Math.PI:Se+=2*Math.PI),v.phi=pe-Se,s.update()},this.setAzimuthalAngle=j=>{let pe=nf(j,2*Math.PI),Se=d.theta;Se<0&&(Se+=2*Math.PI),pe<0&&(pe+=2*Math.PI);let Ue=Math.abs(pe-Se);2*Math.PI-Ue<Ue&&(pe<Se?pe+=2*Math.PI:Se+=2*Math.PI),v.theta=pe-Se,s.update()},this.getDistance=()=>s.object.position.distanceTo(s.target),this.listenToKeyEvents=j=>{j.addEventListener("keydown",Fe),this._domElementKeyEvents=j},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Fe),this._domElementKeyEvents=null},this.saveState=()=>{s.target0.copy(s.target),s.position0.copy(s.object.position),s.zoom0=s.object.zoom},this.reset=()=>{s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),s.dispatchEvent(o),s.update(),c=f.NONE},this.update=(()=>{const j=new zt,pe=new zt(0,1,0),Se=new _c().setFromUnitVectors(e.up,pe),Ue=Se.clone().invert(),Je=new zt,ue=new _c,et=2*Math.PI;return function(){const Et=s.object.position;Se.setFromUnitVectors(e.up,pe),Ue.copy(Se).invert(),j.copy(Et).sub(s.target),j.applyQuaternion(Se),d.setFromVector3(j),s.autoRotate&&c===f.NONE&&G(U()),s.enableDamping?(d.theta+=v.theta*s.dampingFactor,d.phi+=v.phi*s.dampingFactor):(d.theta+=v.theta,d.phi+=v.phi);let rt=s.minAzimuthAngle,Tt=s.maxAzimuthAngle;isFinite(rt)&&isFinite(Tt)&&(rt<-Math.PI?rt+=et:rt>Math.PI&&(rt-=et),Tt<-Math.PI?Tt+=et:Tt>Math.PI&&(Tt-=et),rt<=Tt?d.theta=Math.max(rt,Math.min(Tt,d.theta)):d.theta=d.theta>(rt+Tt)/2?Math.max(rt,d.theta):Math.min(Tt,d.theta)),d.phi=Math.max(s.minPolarAngle,Math.min(s.maxPolarAngle,d.phi)),d.makeSafe(),s.enableDamping===!0?s.target.addScaledVector(y,s.dampingFactor):s.target.add(y),s.zoomToCursor&&F||s.object.isOrthographicCamera?d.radius=z(d.radius):d.radius=z(d.radius*g),j.setFromSpherical(d),j.applyQuaternion(Ue),Et.copy(s.target).add(j),s.object.matrixAutoUpdate||s.object.updateMatrix(),s.object.lookAt(s.target),s.enableDamping===!0?(v.theta*=1-s.dampingFactor,v.phi*=1-s.dampingFactor,y.multiplyScalar(1-s.dampingFactor)):(v.set(0,0,0),y.set(0,0,0));let bt=!1;if(s.zoomToCursor&&F){let tt=null;if(s.object instanceof Fo&&s.object.isPerspectiveCamera){const kt=j.length();tt=z(kt*g);const Nt=kt-tt;s.object.position.addScaledVector(D,Nt),s.object.updateMatrixWorld()}else if(s.object.isOrthographicCamera){const kt=new zt(L.x,L.y,0);kt.unproject(s.object),s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/g)),s.object.updateProjectionMatrix(),bt=!0;const Nt=new zt(L.x,L.y,0);Nt.unproject(s.object),s.object.position.sub(Nt).add(kt),s.object.updateMatrixWorld(),tt=j.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),s.zoomToCursor=!1;tt!==null&&(s.screenSpacePanning?s.target.set(0,0,-1).transformDirection(s.object.matrix).multiplyScalar(tt).add(s.object.position):(za.origin.copy(s.object.position),za.direction.set(0,0,-1).transformDirection(s.object.matrix),Math.abs(s.object.up.dot(za.direction))<W0?e.lookAt(s.target):(tf.setFromNormalAndCoplanarPoint(s.object.up,s.target),za.intersectPlane(tf,s.target))))}else s.object instanceof mi&&s.object.isOrthographicCamera&&(bt=g!==1,bt&&(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/g)),s.object.updateProjectionMatrix()));return g=1,F=!1,bt||Je.distanceToSquared(s.object.position)>h||8*(1-ue.dot(s.object.quaternion))>h?(s.dispatchEvent(o),Je.copy(s.object.position),ue.copy(s.object.quaternion),bt=!1,!0):!1}})(),this.connect=j=>{s.domElement=j,s.domElement.style.touchAction="none",s.domElement.addEventListener("contextmenu",$e),s.domElement.addEventListener("pointerdown",he),s.domElement.addEventListener("pointercancel",be),s.domElement.addEventListener("wheel",vt)},this.dispose=()=>{var j,pe,Se,Ue,Je,ue;s.domElement&&(s.domElement.style.touchAction="auto"),(j=s.domElement)==null||j.removeEventListener("contextmenu",$e),(pe=s.domElement)==null||pe.removeEventListener("pointerdown",he),(Se=s.domElement)==null||Se.removeEventListener("pointercancel",be),(Ue=s.domElement)==null||Ue.removeEventListener("wheel",vt),(Je=s.domElement)==null||Je.ownerDocument.removeEventListener("pointermove",qe),(ue=s.domElement)==null||ue.ownerDocument.removeEventListener("pointerup",be),s._domElementKeyEvents!==null&&s._domElementKeyEvents.removeEventListener("keydown",Fe)};const s=this,o={type:"change"},r={type:"start"},u={type:"end"},f={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=f.NONE;const h=1e-6,d=new Cc,v=new Cc;let g=1;const y=new zt,S=new Tn,E=new Tn,x=new Tn,C=new Tn,T=new Tn,M=new Tn,R=new Tn,b=new Tn,I=new Tn,D=new zt,L=new Tn;let F=!1;const O=[],V={};function U(){return 2*Math.PI/60/60*s.autoRotateSpeed}function H(){return Math.pow(.95,s.zoomSpeed)}function G(j){s.reverseOrbit||s.reverseHorizontalOrbit?v.theta+=j:v.theta-=j}function fe(j){s.reverseOrbit||s.reverseVerticalOrbit?v.phi+=j:v.phi-=j}const ee=(()=>{const j=new zt;return function(Se,Ue){j.setFromMatrixColumn(Ue,0),j.multiplyScalar(-Se),y.add(j)}})(),ye=(()=>{const j=new zt;return function(Se,Ue){s.screenSpacePanning===!0?j.setFromMatrixColumn(Ue,1):(j.setFromMatrixColumn(Ue,0),j.crossVectors(s.object.up,j)),j.multiplyScalar(Se),y.add(j)}})(),J=(()=>{const j=new zt;return function(Se,Ue){const Je=s.domElement;if(Je&&s.object instanceof Fo&&s.object.isPerspectiveCamera){const ue=s.object.position;j.copy(ue).sub(s.target);let et=j.length();et*=Math.tan(s.object.fov/2*Math.PI/180),ee(2*Se*et/Je.clientHeight,s.object.matrix),ye(2*Ue*et/Je.clientHeight,s.object.matrix)}else Je&&s.object instanceof mi&&s.object.isOrthographicCamera?(ee(Se*(s.object.right-s.object.left)/s.object.zoom/Je.clientWidth,s.object.matrix),ye(Ue*(s.object.top-s.object.bottom)/s.object.zoom/Je.clientHeight,s.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),s.enablePan=!1)}})();function K(j){s.object instanceof Fo&&s.object.isPerspectiveCamera||s.object instanceof mi&&s.object.isOrthographicCamera?g/=j:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function N(j){s.object instanceof Fo&&s.object.isPerspectiveCamera||s.object instanceof mi&&s.object.isOrthographicCamera?g*=j:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function A(j){if(!s.zoomToCursor||!s.domElement)return;F=!0;const pe=s.domElement.getBoundingClientRect(),Se=j.clientX-pe.left,Ue=j.clientY-pe.top,Je=pe.width,ue=pe.height;L.x=Se/Je*2-1,L.y=-(Ue/ue)*2+1,D.set(L.x,L.y,1).unproject(s.object).sub(s.object.position).normalize()}function z(j){return Math.max(s.minDistance,Math.min(s.maxDistance,j))}function Y(j){S.set(j.clientX,j.clientY)}function $(j){A(j),R.set(j.clientX,j.clientY)}function q(j){C.set(j.clientX,j.clientY)}function re(j){E.set(j.clientX,j.clientY),x.subVectors(E,S).multiplyScalar(s.rotateSpeed);const pe=s.domElement;pe&&(G(2*Math.PI*x.x/pe.clientHeight),fe(2*Math.PI*x.y/pe.clientHeight)),S.copy(E),s.update()}function oe(j){b.set(j.clientX,j.clientY),I.subVectors(b,R),I.y>0?K(H()):I.y<0&&N(H()),R.copy(b),s.update()}function de(j){T.set(j.clientX,j.clientY),M.subVectors(T,C).multiplyScalar(s.panSpeed),J(M.x,M.y),C.copy(T),s.update()}function Te(j){A(j),j.deltaY<0?N(H()):j.deltaY>0&&K(H()),s.update()}function Re(j){let pe=!1;switch(j.code){case s.keys.UP:J(0,s.keyPanSpeed),pe=!0;break;case s.keys.BOTTOM:J(0,-s.keyPanSpeed),pe=!0;break;case s.keys.LEFT:J(s.keyPanSpeed,0),pe=!0;break;case s.keys.RIGHT:J(-s.keyPanSpeed,0),pe=!0;break}pe&&(j.preventDefault(),s.update())}function ve(){if(O.length==1)S.set(O[0].pageX,O[0].pageY);else{const j=.5*(O[0].pageX+O[1].pageX),pe=.5*(O[0].pageY+O[1].pageY);S.set(j,pe)}}function ge(){if(O.length==1)C.set(O[0].pageX,O[0].pageY);else{const j=.5*(O[0].pageX+O[1].pageX),pe=.5*(O[0].pageY+O[1].pageY);C.set(j,pe)}}function He(){const j=O[0].pageX-O[1].pageX,pe=O[0].pageY-O[1].pageY,Se=Math.sqrt(j*j+pe*pe);R.set(0,Se)}function Xe(){s.enableZoom&&He(),s.enablePan&&ge()}function Ie(){s.enableZoom&&He(),s.enableRotate&&ve()}function De(j){if(O.length==1)E.set(j.pageX,j.pageY);else{const Se=Ye(j),Ue=.5*(j.pageX+Se.x),Je=.5*(j.pageY+Se.y);E.set(Ue,Je)}x.subVectors(E,S).multiplyScalar(s.rotateSpeed);const pe=s.domElement;pe&&(G(2*Math.PI*x.x/pe.clientHeight),fe(2*Math.PI*x.y/pe.clientHeight)),S.copy(E)}function Ve(j){if(O.length==1)T.set(j.pageX,j.pageY);else{const pe=Ye(j),Se=.5*(j.pageX+pe.x),Ue=.5*(j.pageY+pe.y);T.set(Se,Ue)}M.subVectors(T,C).multiplyScalar(s.panSpeed),J(M.x,M.y),C.copy(T)}function we(j){const pe=Ye(j),Se=j.pageX-pe.x,Ue=j.pageY-pe.y,Je=Math.sqrt(Se*Se+Ue*Ue);b.set(0,Je),I.set(0,Math.pow(b.y/R.y,s.zoomSpeed)),K(I.y),R.copy(b)}function je(j){s.enableZoom&&we(j),s.enablePan&&Ve(j)}function Le(j){s.enableZoom&&we(j),s.enableRotate&&De(j)}function he(j){var pe,Se;s.enabled!==!1&&(O.length===0&&((pe=s.domElement)==null||pe.ownerDocument.addEventListener("pointermove",qe),(Se=s.domElement)==null||Se.ownerDocument.addEventListener("pointerup",be)),xt(j),j.pointerType==="touch"?Ne(j):Oe(j))}function qe(j){s.enabled!==!1&&(j.pointerType==="touch"?ze(j):Me(j))}function be(j){var pe,Se,Ue;Ct(j),O.length===0&&((pe=s.domElement)==null||pe.releasePointerCapture(j.pointerId),(Se=s.domElement)==null||Se.ownerDocument.removeEventListener("pointermove",qe),(Ue=s.domElement)==null||Ue.ownerDocument.removeEventListener("pointerup",be)),s.dispatchEvent(u),c=f.NONE}function Oe(j){let pe;switch(j.button){case 0:pe=s.mouseButtons.LEFT;break;case 1:pe=s.mouseButtons.MIDDLE;break;case 2:pe=s.mouseButtons.RIGHT;break;default:pe=-1}switch(pe){case Ni.DOLLY:if(s.enableZoom===!1)return;$(j),c=f.DOLLY;break;case Ni.ROTATE:if(j.ctrlKey||j.metaKey||j.shiftKey){if(s.enablePan===!1)return;q(j),c=f.PAN}else{if(s.enableRotate===!1)return;Y(j),c=f.ROTATE}break;case Ni.PAN:if(j.ctrlKey||j.metaKey||j.shiftKey){if(s.enableRotate===!1)return;Y(j),c=f.ROTATE}else{if(s.enablePan===!1)return;q(j),c=f.PAN}break;default:c=f.NONE}c!==f.NONE&&s.dispatchEvent(r)}function Me(j){if(s.enabled!==!1)switch(c){case f.ROTATE:if(s.enableRotate===!1)return;re(j);break;case f.DOLLY:if(s.enableZoom===!1)return;oe(j);break;case f.PAN:if(s.enablePan===!1)return;de(j);break}}function vt(j){s.enabled===!1||s.enableZoom===!1||c!==f.NONE&&c!==f.ROTATE||(j.preventDefault(),s.dispatchEvent(r),Te(j),s.dispatchEvent(u))}function Fe(j){s.enabled===!1||s.enablePan===!1||Re(j)}function Ne(j){switch(it(j),O.length){case 1:switch(s.touches.ONE){case zi.ROTATE:if(s.enableRotate===!1)return;ve(),c=f.TOUCH_ROTATE;break;case zi.PAN:if(s.enablePan===!1)return;ge(),c=f.TOUCH_PAN;break;default:c=f.NONE}break;case 2:switch(s.touches.TWO){case zi.DOLLY_PAN:if(s.enableZoom===!1&&s.enablePan===!1)return;Xe(),c=f.TOUCH_DOLLY_PAN;break;case zi.DOLLY_ROTATE:if(s.enableZoom===!1&&s.enableRotate===!1)return;Ie(),c=f.TOUCH_DOLLY_ROTATE;break;default:c=f.NONE}break;default:c=f.NONE}c!==f.NONE&&s.dispatchEvent(r)}function ze(j){switch(it(j),c){case f.TOUCH_ROTATE:if(s.enableRotate===!1)return;De(j),s.update();break;case f.TOUCH_PAN:if(s.enablePan===!1)return;Ve(j),s.update();break;case f.TOUCH_DOLLY_PAN:if(s.enableZoom===!1&&s.enablePan===!1)return;je(j),s.update();break;case f.TOUCH_DOLLY_ROTATE:if(s.enableZoom===!1&&s.enableRotate===!1)return;Le(j),s.update();break;default:c=f.NONE}}function $e(j){s.enabled!==!1&&j.preventDefault()}function xt(j){O.push(j)}function Ct(j){delete V[j.pointerId];for(let pe=0;pe<O.length;pe++)if(O[pe].pointerId==j.pointerId){O.splice(pe,1);return}}function it(j){let pe=V[j.pointerId];pe===void 0&&(pe=new Tn,V[j.pointerId]=pe),pe.set(j.pageX,j.pageY)}function Ye(j){const pe=j.pointerId===O[0].pointerId?O[1]:O[0];return V[pe.pointerId]}a!==void 0&&this.connect(a),this.update()}};var Z0=Object.defineProperty,Y0=(i,e,a)=>e in i?Z0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a,gl=(i,e,a)=>(Y0(i,typeof e!="symbol"?e+"":e,a),a);class B2{constructor(e){gl(this,"camera",new mi(-1,1,1,-1,0,1)),gl(this,"geometry",new no(2,2)),gl(this,"mesh"),this.mesh=new Ci(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const G2={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)};class X0 extends Bf{constructor(e){super(e),this.type=tr}parse(e){const u=function(L,F){switch(L){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(F||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(F||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(F||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(F||""))}},d=`
`,v=function(L,F,O){F=F||1024;let U=L.pos,H=-1,G=0,fe="",ee=String.fromCharCode.apply(null,new Uint16Array(L.subarray(U,U+128)));for(;0>(H=ee.indexOf(d))&&G<F&&U<L.byteLength;)fe+=ee,G+=ee.length,U+=128,ee+=String.fromCharCode.apply(null,new Uint16Array(L.subarray(U,U+128)));return-1<H?(L.pos+=G+H+1,fe+ee.slice(0,H)):!1},g=function(L){const F=/^#\?(\S+)/,O=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,V=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,U=/^\s*FORMAT=(\S+)\s*$/,H=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,G={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let fe,ee;for((L.pos>=L.byteLength||!(fe=v(L)))&&u(1,"no header found"),(ee=fe.match(F))||u(3,"bad initial token"),G.valid|=1,G.programtype=ee[1],G.string+=fe+`
`;fe=v(L),fe!==!1;){if(G.string+=fe+`
`,fe.charAt(0)==="#"){G.comments+=fe+`
`;continue}if((ee=fe.match(O))&&(G.gamma=parseFloat(ee[1])),(ee=fe.match(V))&&(G.exposure=parseFloat(ee[1])),(ee=fe.match(U))&&(G.valid|=2,G.format=ee[1]),(ee=fe.match(H))&&(G.valid|=4,G.height=parseInt(ee[1],10),G.width=parseInt(ee[2],10)),G.valid&2&&G.valid&4)break}return G.valid&2||u(3,"missing format specifier"),G.valid&4||u(3,"missing image size specifier"),G},y=function(L,F,O){const V=F;if(V<8||V>32767||L[0]!==2||L[1]!==2||L[2]&128)return new Uint8Array(L);V!==(L[2]<<8|L[3])&&u(3,"wrong scanline width");const U=new Uint8Array(4*F*O);U.length||u(4,"unable to allocate buffer space");let H=0,G=0;const fe=4*V,ee=new Uint8Array(4),ye=new Uint8Array(fe);let J=O;for(;J>0&&G<L.byteLength;){G+4>L.byteLength&&u(1),ee[0]=L[G++],ee[1]=L[G++],ee[2]=L[G++],ee[3]=L[G++],(ee[0]!=2||ee[1]!=2||(ee[2]<<8|ee[3])!=V)&&u(3,"bad rgbe scanline format");let K=0,N;for(;K<fe&&G<L.byteLength;){N=L[G++];const z=N>128;if(z&&(N-=128),(N===0||K+N>fe)&&u(3,"bad scanline data"),z){const Y=L[G++];for(let $=0;$<N;$++)ye[K++]=Y}else ye.set(L.subarray(G,G+N),K),K+=N,G+=N}const A=V;for(let z=0;z<A;z++){let Y=0;U[H]=ye[z+Y],Y+=V,U[H+1]=ye[z+Y],Y+=V,U[H+2]=ye[z+Y],Y+=V,U[H+3]=ye[z+Y],H+=4}J--}return U},S=function(L,F,O,V){const U=L[F+3],H=Math.pow(2,U-128)/255;O[V+0]=L[F+0]*H,O[V+1]=L[F+1]*H,O[V+2]=L[F+2]*H,O[V+3]=1},E=function(L,F,O,V){const U=L[F+3],H=Math.pow(2,U-128)/255;O[V+0]=Qi.toHalfFloat(Math.min(L[F+0]*H,65504)),O[V+1]=Qi.toHalfFloat(Math.min(L[F+1]*H,65504)),O[V+2]=Qi.toHalfFloat(Math.min(L[F+2]*H,65504)),O[V+3]=Qi.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const C=g(x),T=C.width,M=C.height,R=y(x.subarray(x.pos),T,M);let b,I,D;switch(this.type){case Rr:D=R.length/4;const L=new Float32Array(D*4);for(let O=0;O<D;O++)S(R,O*4,L,O*4);b=L,I=Rr;break;case tr:D=R.length/4;const F=new Uint16Array(D*4);for(let O=0;O<D;O++)E(R,O*4,F,O*4);b=F,I=tr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:T,height:M,data:b,header:C.string,gamma:C.gamma,exposure:C.exposure,type:I}}setDataType(e){return this.type=e,this}load(e,a,s,o){function r(u,f){switch(u.type){case Rr:case tr:"colorSpace"in u?u.colorSpace="srgb-linear":u.encoding=3e3,u.minFilter=Vn,u.magFilter=Vn,u.generateMipmaps=!1,u.flipY=!0;break}a&&a(u,f)}return super.load(e,r,s,o)}}const Lo="colorSpace"in new zr;class Q0 extends Bf{constructor(e){super(e),this.type=tr}parse(e){const F=Math.pow(2.7182818,2.2);function O(_,k){for(var B=0,ne=0;ne<65536;++ne)(ne==0||_[ne>>3]&1<<(ne&7))&&(k[B++]=ne);for(var ae=B-1;B<65536;)k[B++]=0;return ae}function V(_){for(var k=0;k<16384;k++)_[k]={},_[k].len=0,_[k].lit=0,_[k].p=null}const U={l:0,c:0,lc:0};function H(_,k,B,ne,ae){for(;B<_;)k=k<<8|j(ne,ae),B+=8;B-=_,U.l=k>>B&(1<<_)-1,U.c=k,U.lc=B}const G=new Array(59);function fe(_){for(var k=0;k<=58;++k)G[k]=0;for(var k=0;k<65537;++k)G[_[k]]+=1;for(var B=0,k=58;k>0;--k){var ne=B+G[k]>>1;G[k]=B,B=ne}for(var k=0;k<65537;++k){var ae=_[k];ae>0&&(_[k]=ae|G[ae]++<<6)}}function ee(_,k,B,ne,ae,le,xe){for(var me=B,Ce=0,Ee=0;ae<=le;ae++){if(me.value-B.value>ne)return!1;H(6,Ce,Ee,_,me);var ke=U.l;if(Ce=U.c,Ee=U.lc,xe[ae]=ke,ke==63){if(me.value-B.value>ne)throw"Something wrong with hufUnpackEncTable";H(8,Ce,Ee,_,me);var ie=U.l+6;if(Ce=U.c,Ee=U.lc,ae+ie>le+1)throw"Something wrong with hufUnpackEncTable";for(;ie--;)xe[ae++]=0;ae--}else if(ke>=59){var ie=ke-59+2;if(ae+ie>le+1)throw"Something wrong with hufUnpackEncTable";for(;ie--;)xe[ae++]=0;ae--}}fe(xe)}function ye(_){return _&63}function J(_){return _>>6}function K(_,k,B,ne){for(;k<=B;k++){var ae=J(_[k]),le=ye(_[k]);if(ae>>le)throw"Invalid table entry";if(le>14){var xe=ne[ae>>le-14];if(xe.len)throw"Invalid table entry";if(xe.lit++,xe.p){var me=xe.p;xe.p=new Array(xe.lit);for(var Ce=0;Ce<xe.lit-1;++Ce)xe.p[Ce]=me[Ce]}else xe.p=new Array(1);xe.p[xe.lit-1]=k}else if(le)for(var Ee=0,Ce=1<<14-le;Ce>0;Ce--){var xe=ne[(ae<<14-le)+Ee];if(xe.len||xe.p)throw"Invalid table entry";xe.len=le,xe.lit=k,Ee++}}return!0}const N={c:0,lc:0};function A(_,k,B,ne){_=_<<8|j(B,ne),k+=8,N.c=_,N.lc=k}const z={c:0,lc:0};function Y(_,k,B,ne,ae,le,xe,me,Ce,Ee){if(_==k){ne<8&&(A(B,ne,ae,xe),B=N.c,ne=N.lc),ne-=8;var ke=B>>ne,ke=new Uint8Array([ke])[0];if(Ce.value+ke>Ee)return!1;for(var ie=me[Ce.value-1];ke-- >0;)me[Ce.value++]=ie}else if(Ce.value<Ee)me[Ce.value++]=_;else return!1;z.c=B,z.lc=ne}function $(_){return _&65535}function q(_){var k=$(_);return k>32767?k-65536:k}const re={a:0,b:0};function oe(_,k){var B=q(_),ne=q(k),ae=ne,le=B+(ae&1)+(ae>>1),xe=le,me=le-ae;re.a=xe,re.b=me}function de(_,k){var B=$(_),ne=$(k),ae=B-(ne>>1)&65535,le=ne+ae-32768&65535;re.a=le,re.b=ae}function Te(_,k,B,ne,ae,le,xe){for(var me=xe<16384,Ce=B>ae?ae:B,Ee=1,ke;Ee<=Ce;)Ee<<=1;for(Ee>>=1,ke=Ee,Ee>>=1;Ee>=1;){for(var ie=0,Mt=ie+le*(ae-ke),Ze=le*Ee,We=le*ke,at=ne*Ee,ut=ne*ke,St,gt,ot,ct;ie<=Mt;ie+=We){for(var mt=ie,At=ie+ne*(B-ke);mt<=At;mt+=ut){var ft=mt+at,Ut=mt+Ze,Kt=Ut+at;me?(oe(_[mt+k],_[Ut+k]),St=re.a,ot=re.b,oe(_[ft+k],_[Kt+k]),gt=re.a,ct=re.b,oe(St,gt),_[mt+k]=re.a,_[ft+k]=re.b,oe(ot,ct),_[Ut+k]=re.a,_[Kt+k]=re.b):(de(_[mt+k],_[Ut+k]),St=re.a,ot=re.b,de(_[ft+k],_[Kt+k]),gt=re.a,ct=re.b,de(St,gt),_[mt+k]=re.a,_[ft+k]=re.b,de(ot,ct),_[Ut+k]=re.a,_[Kt+k]=re.b)}if(B&Ee){var Ut=mt+Ze;me?oe(_[mt+k],_[Ut+k]):de(_[mt+k],_[Ut+k]),St=re.a,_[Ut+k]=re.b,_[mt+k]=St}}if(ae&Ee)for(var mt=ie,At=ie+ne*(B-ke);mt<=At;mt+=ut){var ft=mt+at;me?oe(_[mt+k],_[ft+k]):de(_[mt+k],_[ft+k]),St=re.a,_[ft+k]=re.b,_[mt+k]=St}ke=Ee,Ee>>=1}return ie}function Re(_,k,B,ne,ae,le,xe,me,Ce,Ee){for(var ke=0,ie=0,Mt=me,Ze=Math.trunc(ae.value+(le+7)/8);ae.value<Ze;)for(A(ke,ie,B,ae),ke=N.c,ie=N.lc;ie>=14;){var We=ke>>ie-14&16383,at=k[We];if(at.len)ie-=at.len,Y(at.lit,xe,ke,ie,B,ne,ae,Ce,Ee,Mt),ke=z.c,ie=z.lc;else{if(!at.p)throw"hufDecode issues";var ut;for(ut=0;ut<at.lit;ut++){for(var St=ye(_[at.p[ut]]);ie<St&&ae.value<Ze;)A(ke,ie,B,ae),ke=N.c,ie=N.lc;if(ie>=St&&J(_[at.p[ut]])==(ke>>ie-St&(1<<St)-1)){ie-=St,Y(at.p[ut],xe,ke,ie,B,ne,ae,Ce,Ee,Mt),ke=z.c,ie=z.lc;break}}if(ut==at.lit)throw"hufDecode issues"}}var gt=8-le&7;for(ke>>=gt,ie-=gt;ie>0;){var at=k[ke<<14-ie&16383];if(at.len)ie-=at.len,Y(at.lit,xe,ke,ie,B,ne,ae,Ce,Ee,Mt),ke=z.c,ie=z.lc;else throw"hufDecode issues"}return!0}function ve(_,k,B,ne,ae,le){var xe={value:0},me=B.value,Ce=Ye(k,B),Ee=Ye(k,B);B.value+=4;var ke=Ye(k,B);if(B.value+=4,Ce<0||Ce>=65537||Ee<0||Ee>=65537)throw"Something wrong with HUF_ENCSIZE";var ie=new Array(65537),Mt=new Array(16384);V(Mt);var Ze=ne-(B.value-me);if(ee(_,k,B,Ze,Ce,Ee,ie),ke>8*(ne-(B.value-me)))throw"Something wrong with hufUncompress";K(ie,Ce,Ee,Mt),Re(ie,Mt,_,k,B,ke,Ee,le,ae,xe)}function ge(_,k,B){for(var ne=0;ne<B;++ne)k[ne]=_[k[ne]]}function He(_){for(var k=1;k<_.length;k++){var B=_[k-1]+_[k]-128;_[k]=B}}function Xe(_,k){for(var B=0,ne=Math.floor((_.length+1)/2),ae=0,le=_.length-1;!(ae>le||(k[ae++]=_[B++],ae>le));)k[ae++]=_[ne++]}function Ie(_){for(var k=_.byteLength,B=new Array,ne=0,ae=new DataView(_);k>0;){var le=ae.getInt8(ne++);if(le<0){var xe=-le;k-=xe+1;for(var me=0;me<xe;me++)B.push(ae.getUint8(ne++))}else{var xe=le;k-=2;for(var Ce=ae.getUint8(ne++),me=0;me<xe+1;me++)B.push(Ce)}}return B}function De(_,k,B,ne,ae,le){var ft=new DataView(le.buffer),xe=B[_.idx[0]].width,me=B[_.idx[0]].height,Ce=3,Ee=Math.floor(xe/8),ke=Math.ceil(xe/8),ie=Math.ceil(me/8),Mt=xe-(ke-1)*8,Ze=me-(ie-1)*8,We={value:0},at=new Array(Ce),ut=new Array(Ce),St=new Array(Ce),gt=new Array(Ce),ot=new Array(Ce);for(let Rt=0;Rt<Ce;++Rt)ot[Rt]=k[_.idx[Rt]],at[Rt]=Rt<1?0:at[Rt-1]+ke*ie,ut[Rt]=new Float32Array(64),St[Rt]=new Uint16Array(64),gt[Rt]=new Uint16Array(ke*64);for(let Rt=0;Rt<ie;++Rt){var ct=8;Rt==ie-1&&(ct=Ze);var mt=8;for(let It=0;It<ke;++It){It==ke-1&&(mt=Mt);for(let dt=0;dt<Ce;++dt)St[dt].fill(0),St[dt][0]=ae[at[dt]++],Ve(We,ne,St[dt]),we(St[dt],ut[dt]),je(ut[dt]);Le(ut);for(let dt=0;dt<Ce;++dt)he(ut[dt],gt[dt],It*64)}let Zt=0;for(let It=0;It<Ce;++It){const dt=B[_.idx[It]].type;for(let Ft=8*Rt;Ft<8*Rt+ct;++Ft){Zt=ot[It][Ft];for(let jn=0;jn<Ee;++jn){const qt=jn*64+(Ft&7)*8;ft.setUint16(Zt+0*2*dt,gt[It][qt+0],!0),ft.setUint16(Zt+1*2*dt,gt[It][qt+1],!0),ft.setUint16(Zt+2*2*dt,gt[It][qt+2],!0),ft.setUint16(Zt+3*2*dt,gt[It][qt+3],!0),ft.setUint16(Zt+4*2*dt,gt[It][qt+4],!0),ft.setUint16(Zt+5*2*dt,gt[It][qt+5],!0),ft.setUint16(Zt+6*2*dt,gt[It][qt+6],!0),ft.setUint16(Zt+7*2*dt,gt[It][qt+7],!0),Zt+=8*2*dt}}if(Ee!=ke)for(let Ft=8*Rt;Ft<8*Rt+ct;++Ft){const jn=ot[It][Ft]+8*Ee*2*dt,qt=Ee*64+(Ft&7)*8;for(let Zn=0;Zn<mt;++Zn)ft.setUint16(jn+Zn*2*dt,gt[It][qt+Zn],!0)}}}for(var At=new Uint16Array(xe),ft=new DataView(le.buffer),Ut=0;Ut<Ce;++Ut){B[_.idx[Ut]].decoded=!0;var Kt=B[_.idx[Ut]].type;if(B[Ut].type==2)for(var Gt=0;Gt<me;++Gt){const Rt=ot[Ut][Gt];for(var Ht=0;Ht<xe;++Ht)At[Ht]=ft.getUint16(Rt+Ht*2*Kt,!0);for(var Ht=0;Ht<xe;++Ht)ft.setFloat32(Rt+Ht*2*Kt,ue(At[Ht]),!0)}}}function Ve(_,k,B){for(var ne,ae=1;ae<64;)ne=k[_.value],ne==65280?ae=64:ne>>8==255?ae+=ne&255:(B[ae]=ne,ae++),_.value++}function we(_,k){k[0]=ue(_[0]),k[1]=ue(_[1]),k[2]=ue(_[5]),k[3]=ue(_[6]),k[4]=ue(_[14]),k[5]=ue(_[15]),k[6]=ue(_[27]),k[7]=ue(_[28]),k[8]=ue(_[2]),k[9]=ue(_[4]),k[10]=ue(_[7]),k[11]=ue(_[13]),k[12]=ue(_[16]),k[13]=ue(_[26]),k[14]=ue(_[29]),k[15]=ue(_[42]),k[16]=ue(_[3]),k[17]=ue(_[8]),k[18]=ue(_[12]),k[19]=ue(_[17]),k[20]=ue(_[25]),k[21]=ue(_[30]),k[22]=ue(_[41]),k[23]=ue(_[43]),k[24]=ue(_[9]),k[25]=ue(_[11]),k[26]=ue(_[18]),k[27]=ue(_[24]),k[28]=ue(_[31]),k[29]=ue(_[40]),k[30]=ue(_[44]),k[31]=ue(_[53]),k[32]=ue(_[10]),k[33]=ue(_[19]),k[34]=ue(_[23]),k[35]=ue(_[32]),k[36]=ue(_[39]),k[37]=ue(_[45]),k[38]=ue(_[52]),k[39]=ue(_[54]),k[40]=ue(_[20]),k[41]=ue(_[22]),k[42]=ue(_[33]),k[43]=ue(_[38]),k[44]=ue(_[46]),k[45]=ue(_[51]),k[46]=ue(_[55]),k[47]=ue(_[60]),k[48]=ue(_[21]),k[49]=ue(_[34]),k[50]=ue(_[37]),k[51]=ue(_[47]),k[52]=ue(_[50]),k[53]=ue(_[56]),k[54]=ue(_[59]),k[55]=ue(_[61]),k[56]=ue(_[35]),k[57]=ue(_[36]),k[58]=ue(_[48]),k[59]=ue(_[49]),k[60]=ue(_[57]),k[61]=ue(_[58]),k[62]=ue(_[62]),k[63]=ue(_[63])}function je(_){const k=.5*Math.cos(.7853975),B=.5*Math.cos(3.14159/16),ne=.5*Math.cos(3.14159/8),ae=.5*Math.cos(3*3.14159/16),le=.5*Math.cos(5*3.14159/16),xe=.5*Math.cos(3*3.14159/8),me=.5*Math.cos(7*3.14159/16);for(var Ce=new Array(4),Ee=new Array(4),ke=new Array(4),ie=new Array(4),Mt=0;Mt<8;++Mt){var Ze=Mt*8;Ce[0]=ne*_[Ze+2],Ce[1]=xe*_[Ze+2],Ce[2]=ne*_[Ze+6],Ce[3]=xe*_[Ze+6],Ee[0]=B*_[Ze+1]+ae*_[Ze+3]+le*_[Ze+5]+me*_[Ze+7],Ee[1]=ae*_[Ze+1]-me*_[Ze+3]-B*_[Ze+5]-le*_[Ze+7],Ee[2]=le*_[Ze+1]-B*_[Ze+3]+me*_[Ze+5]+ae*_[Ze+7],Ee[3]=me*_[Ze+1]-le*_[Ze+3]+ae*_[Ze+5]-B*_[Ze+7],ke[0]=k*(_[Ze+0]+_[Ze+4]),ke[3]=k*(_[Ze+0]-_[Ze+4]),ke[1]=Ce[0]+Ce[3],ke[2]=Ce[1]-Ce[2],ie[0]=ke[0]+ke[1],ie[1]=ke[3]+ke[2],ie[2]=ke[3]-ke[2],ie[3]=ke[0]-ke[1],_[Ze+0]=ie[0]+Ee[0],_[Ze+1]=ie[1]+Ee[1],_[Ze+2]=ie[2]+Ee[2],_[Ze+3]=ie[3]+Ee[3],_[Ze+4]=ie[3]-Ee[3],_[Ze+5]=ie[2]-Ee[2],_[Ze+6]=ie[1]-Ee[1],_[Ze+7]=ie[0]-Ee[0]}for(var We=0;We<8;++We)Ce[0]=ne*_[16+We],Ce[1]=xe*_[16+We],Ce[2]=ne*_[48+We],Ce[3]=xe*_[48+We],Ee[0]=B*_[8+We]+ae*_[24+We]+le*_[40+We]+me*_[56+We],Ee[1]=ae*_[8+We]-me*_[24+We]-B*_[40+We]-le*_[56+We],Ee[2]=le*_[8+We]-B*_[24+We]+me*_[40+We]+ae*_[56+We],Ee[3]=me*_[8+We]-le*_[24+We]+ae*_[40+We]-B*_[56+We],ke[0]=k*(_[We]+_[32+We]),ke[3]=k*(_[We]-_[32+We]),ke[1]=Ce[0]+Ce[3],ke[2]=Ce[1]-Ce[2],ie[0]=ke[0]+ke[1],ie[1]=ke[3]+ke[2],ie[2]=ke[3]-ke[2],ie[3]=ke[0]-ke[1],_[0+We]=ie[0]+Ee[0],_[8+We]=ie[1]+Ee[1],_[16+We]=ie[2]+Ee[2],_[24+We]=ie[3]+Ee[3],_[32+We]=ie[3]-Ee[3],_[40+We]=ie[2]-Ee[2],_[48+We]=ie[1]-Ee[1],_[56+We]=ie[0]-Ee[0]}function Le(_){for(var k=0;k<64;++k){var B=_[0][k],ne=_[1][k],ae=_[2][k];_[0][k]=B+1.5747*ae,_[1][k]=B-.1873*ne-.4682*ae,_[2][k]=B+1.8556*ne}}function he(_,k,B){for(var ne=0;ne<64;++ne)k[B+ne]=Qi.toHalfFloat(qe(_[ne]))}function qe(_){return _<=1?Math.sign(_)*Math.pow(Math.abs(_),2.2):Math.sign(_)*Math.pow(F,Math.abs(_)-1)}function be(_){return new DataView(_.array.buffer,_.offset.value,_.size)}function Oe(_){var k=_.viewer.buffer.slice(_.offset.value,_.offset.value+_.size),B=new Uint8Array(Ie(k)),ne=new Uint8Array(B.length);return He(B),Xe(B,ne),new DataView(ne.buffer)}function Me(_){var k=_.array.slice(_.offset.value,_.offset.value+_.size),B=Na(k),ne=new Uint8Array(B.length);return He(B),Xe(B,ne),new DataView(ne.buffer)}function vt(_){for(var k=_.viewer,B={value:_.offset.value},ne=new Uint16Array(_.width*_.scanlineBlockSize*(_.channels*_.type)),ae=new Uint8Array(8192),le=0,xe=new Array(_.channels),me=0;me<_.channels;me++)xe[me]={},xe[me].start=le,xe[me].end=xe[me].start,xe[me].nx=_.width,xe[me].ny=_.lines,xe[me].size=_.type,le+=xe[me].nx*xe[me].ny*xe[me].size;var Ce=et(k,B),Ee=et(k,B);if(Ee>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Ce<=Ee)for(var me=0;me<Ee-Ce+1;me++)ae[me+Ce]=pe(k,B);var ke=new Uint16Array(65536),ie=O(ae,ke),Mt=Ye(k,B);ve(_.array,k,B,Mt,ne,le);for(var me=0;me<_.channels;++me)for(var Ze=xe[me],We=0;We<xe[me].size;++We)Te(ne,Ze.start+We,Ze.nx,Ze.size,Ze.ny,Ze.nx*Ze.size,ie);ge(ke,ne,le);for(var at=0,ut=new Uint8Array(ne.buffer.byteLength),St=0;St<_.lines;St++)for(var gt=0;gt<_.channels;gt++){var Ze=xe[gt],ot=Ze.nx*Ze.size,ct=new Uint8Array(ne.buffer,Ze.end*2,ot*2);ut.set(ct,at),at+=ot*2,Ze.end+=ot}return new DataView(ut.buffer)}function Fe(_){var k=_.array.slice(_.offset.value,_.offset.value+_.size),B=Na(k);const ne=_.lines*_.channels*_.width,ae=_.type==1?new Uint16Array(ne):new Uint32Array(ne);let le=0,xe=0;const me=new Array(4);for(let Ce=0;Ce<_.lines;Ce++)for(let Ee=0;Ee<_.channels;Ee++){let ke=0;switch(_.type){case 1:me[0]=le,me[1]=me[0]+_.width,le=me[1]+_.width;for(let ie=0;ie<_.width;++ie){const Mt=B[me[0]++]<<8|B[me[1]++];ke+=Mt,ae[xe]=ke,xe++}break;case 2:me[0]=le,me[1]=me[0]+_.width,me[2]=me[1]+_.width,le=me[2]+_.width;for(let ie=0;ie<_.width;++ie){const Mt=B[me[0]++]<<24|B[me[1]++]<<16|B[me[2]++]<<8;ke+=Mt,ae[xe]=ke,xe++}break}}return new DataView(ae.buffer)}function Ne(_){var k=_.viewer,B={value:_.offset.value},ne=new Uint8Array(_.width*_.lines*(_.channels*_.type*2)),ae={version:Se(k,B),unknownUncompressedSize:Se(k,B),unknownCompressedSize:Se(k,B),acCompressedSize:Se(k,B),dcCompressedSize:Se(k,B),rleCompressedSize:Se(k,B),rleUncompressedSize:Se(k,B),rleRawSize:Se(k,B),totalAcUncompressedCount:Se(k,B),totalDcUncompressedCount:Se(k,B),acCompression:Se(k,B)};if(ae.version<2)throw"EXRLoader.parse: "+un.compression+" version "+ae.version+" is unsupported";for(var le=new Array,xe=et(k,B)-2;xe>0;){var me=ze(k.buffer,B),Ce=pe(k,B),Ee=Ce>>2&3,ke=(Ce>>4)-1,ie=new Int8Array([ke])[0],Mt=pe(k,B);le.push({name:me,index:ie,type:Mt,compression:Ee}),xe-=me.length+3}for(var Ze=un.channels,We=new Array(_.channels),at=0;at<_.channels;++at){var ut=We[at]={},St=Ze[at];ut.name=St.name,ut.compression=0,ut.decoded=!1,ut.type=St.pixelType,ut.pLinear=St.pLinear,ut.width=_.width,ut.height=_.lines}for(var gt={idx:new Array(3)},ot=0;ot<_.channels;++ot)for(var ut=We[ot],at=0;at<le.length;++at){var ct=le[at];ut.name==ct.name&&(ut.compression=ct.compression,ct.index>=0&&(gt.idx[ct.index]=ot),ut.offset=ot)}if(ae.acCompressedSize>0)switch(ae.acCompression){case 0:var ft=new Uint16Array(ae.totalAcUncompressedCount);ve(_.array,k,B,ae.acCompressedSize,ft,ae.totalAcUncompressedCount);break;case 1:var mt=_.array.slice(B.value,B.value+ae.totalAcUncompressedCount),At=Na(mt),ft=new Uint16Array(At.buffer);B.value+=ae.totalAcUncompressedCount;break}if(ae.dcCompressedSize>0){var Ut={array:_.array,offset:B,size:ae.dcCompressedSize},Kt=new Uint16Array(Me(Ut).buffer);B.value+=ae.dcCompressedSize}if(ae.rleRawSize>0){var mt=_.array.slice(B.value,B.value+ae.rleCompressedSize),At=Na(mt),Gt=Ie(At.buffer);B.value+=ae.rleCompressedSize}for(var Ht=0,Rt=new Array(We.length),at=0;at<Rt.length;++at)Rt[at]=new Array;for(var Zt=0;Zt<_.lines;++Zt)for(var It=0;It<We.length;++It)Rt[It].push(Ht),Ht+=We[It].width*_.type*2;De(gt,Rt,We,ft,Kt,ne);for(var at=0;at<We.length;++at){var ut=We[at];if(!ut.decoded)switch(ut.compression){case 2:for(var dt=0,Ft=0,Zt=0;Zt<_.lines;++Zt){for(var jn=Rt[at][dt],qt=0;qt<ut.width;++qt){for(var Zn=0;Zn<2*ut.type;++Zn)ne[jn++]=Gt[Ft+Zn*ut.width*ut.height];Ft++}dt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(ne.buffer)}function ze(_,k){for(var B=new Uint8Array(_),ne=0;B[k.value+ne]!=0;)ne+=1;var ae=new TextDecoder().decode(B.slice(k.value,k.value+ne));return k.value=k.value+ne+1,ae}function $e(_,k,B){var ne=new TextDecoder().decode(new Uint8Array(_).slice(k.value,k.value+B));return k.value=k.value+B,ne}function xt(_,k){var B=it(_,k),ne=Ye(_,k);return[B,ne]}function Ct(_,k){var B=Ye(_,k),ne=Ye(_,k);return[B,ne]}function it(_,k){var B=_.getInt32(k.value,!0);return k.value=k.value+4,B}function Ye(_,k){var B=_.getUint32(k.value,!0);return k.value=k.value+4,B}function j(_,k){var B=_[k.value];return k.value=k.value+1,B}function pe(_,k){var B=_.getUint8(k.value);return k.value=k.value+1,B}const Se=function(_,k){let B;return"getBigInt64"in DataView.prototype?B=Number(_.getBigInt64(k.value,!0)):B=_.getUint32(k.value+4,!0)+Number(_.getUint32(k.value,!0)<<32),k.value+=8,B};function Ue(_,k){var B=_.getFloat32(k.value,!0);return k.value+=4,B}function Je(_,k){return Qi.toHalfFloat(Ue(_,k))}function ue(_){var k=(_&31744)>>10,B=_&1023;return(_>>15?-1:1)*(k?k===31?B?NaN:1/0:Math.pow(2,k-15)*(1+B/1024):6103515625e-14*(B/1024))}function et(_,k){var B=_.getUint16(k.value,!0);return k.value+=2,B}function ln(_,k){return ue(et(_,k))}function Et(_,k,B,ne){for(var ae=B.value,le=[];B.value<ae+ne-1;){var xe=ze(k,B),me=it(_,B),Ce=pe(_,B);B.value+=3;var Ee=it(_,B),ke=it(_,B);le.push({name:xe,pixelType:me,pLinear:Ce,xSampling:Ee,ySampling:ke})}return B.value+=1,le}function rt(_,k){var B=Ue(_,k),ne=Ue(_,k),ae=Ue(_,k),le=Ue(_,k),xe=Ue(_,k),me=Ue(_,k),Ce=Ue(_,k),Ee=Ue(_,k);return{redX:B,redY:ne,greenX:ae,greenY:le,blueX:xe,blueY:me,whiteX:Ce,whiteY:Ee}}function Tt(_,k){var B=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ne=pe(_,k);return B[ne]}function bt(_,k){var B=Ye(_,k),ne=Ye(_,k),ae=Ye(_,k),le=Ye(_,k);return{xMin:B,yMin:ne,xMax:ae,yMax:le}}function tt(_,k){var B=["INCREASING_Y"],ne=pe(_,k);return B[ne]}function kt(_,k){var B=Ue(_,k),ne=Ue(_,k);return[B,ne]}function Nt(_,k){var B=Ue(_,k),ne=Ue(_,k),ae=Ue(_,k);return[B,ne,ae]}function rn(_,k,B,ne,ae){if(ne==="string"||ne==="stringvector"||ne==="iccProfile")return $e(k,B,ae);if(ne==="chlist")return Et(_,k,B,ae);if(ne==="chromaticities")return rt(_,B);if(ne==="compression")return Tt(_,B);if(ne==="box2i")return bt(_,B);if(ne==="lineOrder")return tt(_,B);if(ne==="float")return Ue(_,B);if(ne==="v2f")return kt(_,B);if(ne==="v3f")return Nt(_,B);if(ne==="int")return it(_,B);if(ne==="rational")return xt(_,B);if(ne==="timecode")return Ct(_,B);if(ne==="preview")return B.value+=ae,"skipped";B.value+=ae}function Vt(_,k,B){const ne={};if(_.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";ne.version=_.getUint8(4);const ae=_.getUint8(5);ne.spec={singleTile:!!(ae&2),longName:!!(ae&4),deepFormat:!!(ae&8),multiPart:!!(ae&16)},B.value=8;for(var le=!0;le;){var xe=ze(k,B);if(xe==0)le=!1;else{var me=ze(k,B),Ce=Ye(_,B),Ee=rn(_,k,B,me,Ce);Ee===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${me}'.`):ne[xe]=Ee}}if(ae&-5)throw console.error("EXRHeader:",ne),"THREE.EXRLoader: provided file is currently unsupported.";return ne}function Rn(_,k,B,ne,ae){const le={size:0,viewer:k,array:B,offset:ne,width:_.dataWindow.xMax-_.dataWindow.xMin+1,height:_.dataWindow.yMax-_.dataWindow.yMin+1,channels:_.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:_.channels[0].pixelType,uncompress:null,getter:null,format:null,[Lo?"colorSpace":"encoding"]:null};switch(_.compression){case"NO_COMPRESSION":le.lines=1,le.uncompress=be;break;case"RLE_COMPRESSION":le.lines=1,le.uncompress=Oe;break;case"ZIPS_COMPRESSION":le.lines=1,le.uncompress=Me;break;case"ZIP_COMPRESSION":le.lines=16,le.uncompress=Me;break;case"PIZ_COMPRESSION":le.lines=32,le.uncompress=vt;break;case"PXR24_COMPRESSION":le.lines=16,le.uncompress=Fe;break;case"DWAA_COMPRESSION":le.lines=32,le.uncompress=Ne;break;case"DWAB_COMPRESSION":le.lines=256,le.uncompress=Ne;break;default:throw"EXRLoader.parse: "+_.compression+" is unsupported"}if(le.scanlineBlockSize=le.lines,le.type==1)switch(ae){case Rr:le.getter=ln,le.inputSize=2;break;case tr:le.getter=et,le.inputSize=2;break}else if(le.type==2)switch(ae){case Rr:le.getter=Ue,le.inputSize=4;break;case tr:le.getter=Je,le.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+le.type+" for "+_.compression+".";le.blockCount=(_.dataWindow.yMax+1)/le.scanlineBlockSize;for(var xe=0;xe<le.blockCount;xe++)Se(k,ne);le.outputChannels=le.channels==3?4:le.channels;const me=le.width*le.height*le.outputChannels;switch(ae){case Rr:le.byteArray=new Float32Array(me),le.channels<le.outputChannels&&le.byteArray.fill(1,0,me);break;case tr:le.byteArray=new Uint16Array(me),le.channels<le.outputChannels&&le.byteArray.fill(15360,0,me);break;default:console.error("THREE.EXRLoader: unsupported type: ",ae);break}return le.bytesPerLine=le.width*le.inputSize*le.channels,le.outputChannels==4?le.format=$i:le.format=rh,Lo?le.colorSpace="srgb-linear":le.encoding=3e3,le}const wn=new DataView(e),In=new Uint8Array(e),xn={value:0},un=Vt(wn,e,xn),st=Rn(un,wn,In,xn,this.type),on={value:0},yr={R:0,G:1,B:2,A:3,Y:0};for(let _=0;_<st.height/st.scanlineBlockSize;_++){const k=Ye(wn,xn);st.size=Ye(wn,xn),st.lines=k+st.scanlineBlockSize>st.height?st.height-k:st.scanlineBlockSize;const ne=st.size<st.lines*st.bytesPerLine?st.uncompress(st):be(st);xn.value+=st.size;for(let ae=0;ae<st.scanlineBlockSize;ae++){const le=ae+_*st.scanlineBlockSize;if(le>=st.height)break;for(let xe=0;xe<st.channels;xe++){const me=yr[un.channels[xe].name];for(let Ce=0;Ce<st.width;Ce++){on.value=(ae*(st.channels*st.width)+xe*st.width+Ce)*st.inputSize;const Ee=(st.height-1-le)*(st.width*st.outputChannels)+Ce*st.outputChannels+me;st.byteArray[Ee]=st.getter(ne,on)}}}}return{header:un,width:st.width,height:st.height,data:st.byteArray,format:st.format,[Lo?"colorSpace":"encoding"]:st[Lo?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,a,s,o){function r(u,f){Lo?u.colorSpace=f.colorSpace:u.encoding=f.encoding,u.minFilter=Vn,u.magFilter=Vn,u.generateMipmaps=!1,u.flipY=!1,a&&a(u,f)}return super.load(e,r,s,o)}}function K0(){var i=Object.create(null);function e(o,r){var u=o.id,f=o.name,c=o.dependencies;c===void 0&&(c=[]);var h=o.init;h===void 0&&(h=function(){});var d=o.getTransferables;if(d===void 0&&(d=null),!i[u])try{c=c.map(function(g){return g&&g.isWorkerModule&&(e(g,function(y){if(y instanceof Error)throw y}),g=i[g.id].value),g}),h=s("<"+f+">.init",h),d&&(d=s("<"+f+">.getTransferables",d));var v=null;typeof h=="function"?v=h.apply(void 0,c):console.error("worker module init function failed to rehydrate"),i[u]={id:u,value:v,getTransferables:d},r(v)}catch(g){g&&g.noLog||console.error(g),r(g)}}function a(o,r){var u,f=o.id,c=o.args;(!i[f]||typeof i[f].value!="function")&&r(new Error("Worker module "+f+": not found or its 'init' did not return a function"));try{var h=(u=i[f]).value.apply(u,c);h&&typeof h.then=="function"?h.then(d,function(v){return r(v instanceof Error?v:new Error(""+v))}):d(h)}catch(v){r(v)}function d(v){try{var g=i[f].getTransferables&&i[f].getTransferables(v);(!g||!Array.isArray(g)||!g.length)&&(g=void 0),r(v,g)}catch(y){console.error(y),r(y)}}}function s(o,r){var u=void 0;self.troikaDefine=function(c){return u=c};var f=URL.createObjectURL(new Blob(["/** "+o.replace(/\*/g,"")+` **/

troikaDefine(
`+r+`
)`],{type:"application/javascript"}));try{importScripts(f)}catch(c){console.error(c)}return URL.revokeObjectURL(f),delete self.troikaDefine,u}self.addEventListener("message",function(o){var r=o.data,u=r.messageId,f=r.action,c=r.data;try{f==="registerModule"&&e(c,function(h){h instanceof Error?postMessage({messageId:u,success:!1,error:h.message}):postMessage({messageId:u,success:!0,result:{isCallable:typeof h=="function"}})}),f==="callModule"&&a(c,function(h,d){h instanceof Error?postMessage({messageId:u,success:!1,error:h.message}):postMessage({messageId:u,success:!0,result:h},d||void 0)})}catch(h){postMessage({messageId:u,success:!1,error:h.stack})}})}function J0(i){var e=function(){for(var a=[],s=arguments.length;s--;)a[s]=arguments[s];return e._getInitResult().then(function(o){if(typeof o=="function")return o.apply(void 0,a);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var a=i.dependencies,s=i.init;a=Array.isArray(a)?a.map(function(r){return r&&r._getInitResult?r._getInitResult():r}):[];var o=Promise.all(a).then(function(r){return s.apply(null,r)});return e._getInitResult=function(){return o},o},e}var Ud=function(){var i=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),i=!0}catch(a){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+a.message+"]")}return Ud=function(){return i},i},q0=0,$0=0,ml=!1,zo=Object.create(null),Bo=Object.create(null),Al=Object.create(null);function ro(i){if((!i||typeof i.init!="function")&&!ml)throw new Error("requires `options.init` function");var e=i.dependencies,a=i.init,s=i.getTransferables,o=i.workerId;if(!Ud())return J0(i);o==null&&(o="#default");var r="workerModule"+ ++q0,u=i.name||r,f=null;e=e&&e.map(function(h){return typeof h=="function"&&!h.workerModuleData&&(ml=!0,h=ro({workerId:o,name:"<"+u+"> function dependency: "+h.name,init:`function(){return (
`+Xa(h)+`
)}`}),ml=!1),h&&h.workerModuleData&&(h=h.workerModuleData),h});function c(){for(var h=[],d=arguments.length;d--;)h[d]=arguments[d];if(!f){f=rf(o,"registerModule",c.workerModuleData);var v=function(){f=null,Bo[o].delete(v)};(Bo[o]||(Bo[o]=new Set)).add(v)}return f.then(function(g){var y=g.isCallable;if(y)return rf(o,"callModule",{id:r,args:h});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:r,name:u,dependencies:e,init:Xa(a),getTransferables:s&&Xa(s)},c}function ev(i){Bo[i]&&Bo[i].forEach(function(e){e()}),zo[i]&&(zo[i].terminate(),delete zo[i])}function Xa(i){var e=i.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function tv(i){var e=zo[i];if(!e){var a=Xa(K0);e=zo[i]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+i.replace(/\*/g,"")+` **/

;(`+a+")()"],{type:"application/javascript"}))),e.onmessage=function(s){var o=s.data,r=o.messageId,u=Al[r];if(!u)throw new Error("WorkerModule response with empty or unknown messageId");delete Al[r],u(o)}}return e}function rf(i,e,a){return new Promise(function(s,o){var r=++$0;Al[r]=function(u){u.success?s(u.result):o(new Error("Error in worker "+e+" call: "+u.error))},tv(i).postMessage({messageId:r,action:e,data:a})})}function Od(){var i=function(e){function a(K,N,A,z,Y,$,q,re){var oe=1-q;re.x=oe*oe*K+2*oe*q*A+q*q*Y,re.y=oe*oe*N+2*oe*q*z+q*q*$}function s(K,N,A,z,Y,$,q,re,oe,de){var Te=1-oe;de.x=Te*Te*Te*K+3*Te*Te*oe*A+3*Te*oe*oe*Y+oe*oe*oe*q,de.y=Te*Te*Te*N+3*Te*Te*oe*z+3*Te*oe*oe*$+oe*oe*oe*re}function o(K,N){for(var A=/([MLQCZ])([^MLQCZ]*)/g,z,Y,$,q,re;z=A.exec(K);){var oe=z[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(de){return parseFloat(de)});switch(z[1]){case"M":q=Y=oe[0],re=$=oe[1];break;case"L":(oe[0]!==q||oe[1]!==re)&&N("L",q,re,q=oe[0],re=oe[1]);break;case"Q":{N("Q",q,re,q=oe[2],re=oe[3],oe[0],oe[1]);break}case"C":{N("C",q,re,q=oe[4],re=oe[5],oe[0],oe[1],oe[2],oe[3]);break}case"Z":(q!==Y||re!==$)&&N("L",q,re,Y,$);break}}}function r(K,N,A){A===void 0&&(A=16);var z={x:0,y:0};o(K,function(Y,$,q,re,oe,de,Te,Re,ve){switch(Y){case"L":N($,q,re,oe);break;case"Q":{for(var ge=$,He=q,Xe=1;Xe<A;Xe++)a($,q,de,Te,re,oe,Xe/(A-1),z),N(ge,He,z.x,z.y),ge=z.x,He=z.y;break}case"C":{for(var Ie=$,De=q,Ve=1;Ve<A;Ve++)s($,q,de,Te,Re,ve,re,oe,Ve/(A-1),z),N(Ie,De,z.x,z.y),Ie=z.x,De=z.y;break}}})}var u="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",f="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",c=new WeakMap,h={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function d(K,N){var A=K.getContext?K.getContext("webgl",h):K,z=c.get(A);if(!z){let Te=function(Ie){var De=$[Ie];if(!De&&(De=$[Ie]=A.getExtension(Ie),!De))throw new Error(Ie+" not supported");return De},Re=function(Ie,De){var Ve=A.createShader(De);return A.shaderSource(Ve,Ie),A.compileShader(Ve),Ve},ve=function(Ie,De,Ve,we){if(!q[Ie]){var je={},Le={},he=A.createProgram();A.attachShader(he,Re(De,A.VERTEX_SHADER)),A.attachShader(he,Re(Ve,A.FRAGMENT_SHADER)),A.linkProgram(he),q[Ie]={program:he,transaction:function(be){A.useProgram(he),be({setUniform:function(Me,vt){for(var Fe=[],Ne=arguments.length-2;Ne-- >0;)Fe[Ne]=arguments[Ne+2];var ze=Le[vt]||(Le[vt]=A.getUniformLocation(he,vt));A["uniform"+Me].apply(A,[ze].concat(Fe))},setAttribute:function(Me,vt,Fe,Ne,ze){var $e=je[Me];$e||($e=je[Me]={buf:A.createBuffer(),loc:A.getAttribLocation(he,Me),data:null}),A.bindBuffer(A.ARRAY_BUFFER,$e.buf),A.vertexAttribPointer($e.loc,vt,A.FLOAT,!1,0,0),A.enableVertexAttribArray($e.loc),Y?A.vertexAttribDivisor($e.loc,Ne):Te("ANGLE_instanced_arrays").vertexAttribDivisorANGLE($e.loc,Ne),ze!==$e.data&&(A.bufferData(A.ARRAY_BUFFER,ze,Fe),$e.data=ze)}})}}}q[Ie].transaction(we)},ge=function(Ie,De){oe++;try{A.activeTexture(A.TEXTURE0+oe);var Ve=re[Ie];Ve||(Ve=re[Ie]=A.createTexture(),A.bindTexture(A.TEXTURE_2D,Ve),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST)),A.bindTexture(A.TEXTURE_2D,Ve),De(Ve,oe)}finally{oe--}},He=function(Ie,De,Ve){var we=A.createFramebuffer();de.push(we),A.bindFramebuffer(A.FRAMEBUFFER,we),A.activeTexture(A.TEXTURE0+De),A.bindTexture(A.TEXTURE_2D,Ie),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,Ie,0);try{Ve(we)}finally{A.deleteFramebuffer(we),A.bindFramebuffer(A.FRAMEBUFFER,de[--de.length-1]||null)}},Xe=function(){$={},q={},re={},oe=-1,de.length=0};var Y=typeof WebGL2RenderingContext<"u"&&A instanceof WebGL2RenderingContext,$={},q={},re={},oe=-1,de=[];A.canvas.addEventListener("webglcontextlost",function(Ie){Xe(),Ie.preventDefault()},!1),c.set(A,z={gl:A,isWebGL2:Y,getExtension:Te,withProgram:ve,withTexture:ge,withTextureFramebuffer:He,handleContextLoss:Xe})}N(z)}function v(K,N,A,z,Y,$,q,re){q===void 0&&(q=15),re===void 0&&(re=null),d(K,function(oe){var de=oe.gl,Te=oe.withProgram,Re=oe.withTexture;Re("copy",function(ve,ge){de.texImage2D(de.TEXTURE_2D,0,de.RGBA,Y,$,0,de.RGBA,de.UNSIGNED_BYTE,N),Te("copy",u,f,function(He){var Xe=He.setUniform,Ie=He.setAttribute;Ie("aUV",2,de.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Xe("1i","image",ge),de.bindFramebuffer(de.FRAMEBUFFER,re||null),de.disable(de.BLEND),de.colorMask(q&8,q&4,q&2,q&1),de.viewport(A,z,Y,$),de.scissor(A,z,Y,$),de.drawArrays(de.TRIANGLES,0,3)})})})}function g(K,N,A){var z=K.width,Y=K.height;d(K,function($){var q=$.gl,re=new Uint8Array(z*Y*4);q.readPixels(0,0,z,Y,q.RGBA,q.UNSIGNED_BYTE,re),K.width=N,K.height=A,v(q,re,0,0,z,Y)})}var y=Object.freeze({__proto__:null,withWebGLContext:d,renderImageData:v,resizeWebGLCanvasWithoutClearing:g});function S(K,N,A,z,Y,$){$===void 0&&($=1);var q=new Uint8Array(K*N),re=z[2]-z[0],oe=z[3]-z[1],de=[];r(A,function(Ie,De,Ve,we){de.push({x1:Ie,y1:De,x2:Ve,y2:we,minX:Math.min(Ie,Ve),minY:Math.min(De,we),maxX:Math.max(Ie,Ve),maxY:Math.max(De,we)})}),de.sort(function(Ie,De){return Ie.maxX-De.maxX});for(var Te=0;Te<K;Te++)for(var Re=0;Re<N;Re++){var ve=He(z[0]+re*(Te+.5)/K,z[1]+oe*(Re+.5)/N),ge=Math.pow(1-Math.abs(ve)/Y,$)/2;ve<0&&(ge=1-ge),ge=Math.max(0,Math.min(255,Math.round(ge*255))),q[Re*K+Te]=ge}return q;function He(Ie,De){for(var Ve=1/0,we=1/0,je=de.length;je--;){var Le=de[je];if(Le.maxX+we<=Ie)break;if(Ie+we>Le.minX&&De-we<Le.maxY&&De+we>Le.minY){var he=C(Ie,De,Le.x1,Le.y1,Le.x2,Le.y2);he<Ve&&(Ve=he,we=Math.sqrt(Ve))}}return Xe(Ie,De)&&(we=-we),we}function Xe(Ie,De){for(var Ve=0,we=de.length;we--;){var je=de[we];if(je.maxX<=Ie)break;var Le=je.y1>De!=je.y2>De&&Ie<(je.x2-je.x1)*(De-je.y1)/(je.y2-je.y1)+je.x1;Le&&(Ve+=je.y1<je.y2?1:-1)}return Ve!==0}}function E(K,N,A,z,Y,$,q,re,oe,de){$===void 0&&($=1),re===void 0&&(re=0),oe===void 0&&(oe=0),de===void 0&&(de=0),x(K,N,A,z,Y,$,q,null,re,oe,de)}function x(K,N,A,z,Y,$,q,re,oe,de,Te){$===void 0&&($=1),oe===void 0&&(oe=0),de===void 0&&(de=0),Te===void 0&&(Te=0);for(var Re=S(K,N,A,z,Y,$),ve=new Uint8Array(Re.length*4),ge=0;ge<Re.length;ge++)ve[ge*4+Te]=Re[ge];v(q,ve,oe,de,K,N,1<<3-Te,re)}function C(K,N,A,z,Y,$){var q=Y-A,re=$-z,oe=q*q+re*re,de=oe?Math.max(0,Math.min(1,((K-A)*q+(N-z)*re)/oe)):0,Te=K-(A+de*q),Re=N-(z+de*re);return Te*Te+Re*Re}var T=Object.freeze({__proto__:null,generate:S,generateIntoCanvas:E,generateIntoFramebuffer:x}),M="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",R="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",b="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",I=new Float32Array([0,0,2,0,0,2]),D=null,L=!1,F={},O=new WeakMap;function V(K){if(!L&&!fe(K))throw new Error("WebGL generation not supported")}function U(K,N,A,z,Y,$,q){if($===void 0&&($=1),q===void 0&&(q=null),!q&&(q=D,!q)){var re=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!re)throw new Error("OffscreenCanvas or DOM canvas not supported");q=D=re.getContext("webgl",{depth:!1})}V(q);var oe=new Uint8Array(K*N*4);d(q,function(ve){var ge=ve.gl,He=ve.withTexture,Xe=ve.withTextureFramebuffer;He("readable",function(Ie,De){ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,K,N,0,ge.RGBA,ge.UNSIGNED_BYTE,null),Xe(Ie,De,function(Ve){G(K,N,A,z,Y,$,ge,Ve,0,0,0),ge.readPixels(0,0,K,N,ge.RGBA,ge.UNSIGNED_BYTE,oe)})})});for(var de=new Uint8Array(K*N),Te=0,Re=0;Te<oe.length;Te+=4)de[Re++]=oe[Te];return de}function H(K,N,A,z,Y,$,q,re,oe,de){$===void 0&&($=1),re===void 0&&(re=0),oe===void 0&&(oe=0),de===void 0&&(de=0),G(K,N,A,z,Y,$,q,null,re,oe,de)}function G(K,N,A,z,Y,$,q,re,oe,de,Te){$===void 0&&($=1),oe===void 0&&(oe=0),de===void 0&&(de=0),Te===void 0&&(Te=0),V(q);var Re=[];r(A,function(ve,ge,He,Xe){Re.push(ve,ge,He,Xe)}),Re=new Float32Array(Re),d(q,function(ve){var ge=ve.gl,He=ve.isWebGL2,Xe=ve.getExtension,Ie=ve.withProgram,De=ve.withTexture,Ve=ve.withTextureFramebuffer,we=ve.handleContextLoss;if(De("rawDistances",function(je,Le){(K!==je._lastWidth||N!==je._lastHeight)&&ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,je._lastWidth=K,je._lastHeight=N,0,ge.RGBA,ge.UNSIGNED_BYTE,null),Ie("main",M,R,function(he){var qe=he.setAttribute,be=he.setUniform,Oe=!He&&Xe("ANGLE_instanced_arrays"),Me=!He&&Xe("EXT_blend_minmax");qe("aUV",2,ge.STATIC_DRAW,0,I),qe("aLineSegment",4,ge.DYNAMIC_DRAW,1,Re),be.apply(void 0,["4f","uGlyphBounds"].concat(z)),be("1f","uMaxDistance",Y),be("1f","uExponent",$),Ve(je,Le,function(vt){ge.enable(ge.BLEND),ge.colorMask(!0,!0,!0,!0),ge.viewport(0,0,K,N),ge.scissor(0,0,K,N),ge.blendFunc(ge.ONE,ge.ONE),ge.blendEquationSeparate(ge.FUNC_ADD,He?ge.MAX:Me.MAX_EXT),ge.clear(ge.COLOR_BUFFER_BIT),He?ge.drawArraysInstanced(ge.TRIANGLES,0,3,Re.length/4):Oe.drawArraysInstancedANGLE(ge.TRIANGLES,0,3,Re.length/4)})}),Ie("post",u,b,function(he){he.setAttribute("aUV",2,ge.STATIC_DRAW,0,I),he.setUniform("1i","tex",Le),ge.bindFramebuffer(ge.FRAMEBUFFER,re),ge.disable(ge.BLEND),ge.colorMask(Te===0,Te===1,Te===2,Te===3),ge.viewport(oe,de,K,N),ge.scissor(oe,de,K,N),ge.drawArrays(ge.TRIANGLES,0,3)})}),ge.isContextLost())throw we(),new Error("webgl context lost")})}function fe(K){var N=!K||K===D?F:K.canvas||K,A=O.get(N);if(A===void 0){L=!0;var z=null;try{var Y=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],$=U(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,K);A=$&&Y.length===$.length&&$.every(function(q,re){return q===Y[re]}),A||(z="bad trial run results",console.info(Y,$))}catch(q){A=!1,z=q.message}z&&console.warn("WebGL SDF generation not supported:",z),L=!1,O.set(N,A)}return A}var ee=Object.freeze({__proto__:null,generate:U,generateIntoCanvas:H,generateIntoFramebuffer:G,isSupported:fe});function ye(K,N,A,z,Y,$){Y===void 0&&(Y=Math.max(z[2]-z[0],z[3]-z[1])/2),$===void 0&&($=1);try{return U.apply(ee,arguments)}catch(q){return console.info("WebGL SDF generation failed, falling back to JS",q),S.apply(T,arguments)}}function J(K,N,A,z,Y,$,q,re,oe,de){Y===void 0&&(Y=Math.max(z[2]-z[0],z[3]-z[1])/2),$===void 0&&($=1),re===void 0&&(re=0),oe===void 0&&(oe=0),de===void 0&&(de=0);try{return H.apply(ee,arguments)}catch(Te){return console.info("WebGL SDF generation failed, falling back to JS",Te),E.apply(T,arguments)}}return e.forEachPathCommand=o,e.generate=ye,e.generateIntoCanvas=J,e.javascript=T,e.pathToLineSegments=r,e.webgl=ee,e.webglUtils=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return i}function nv(){var i=function(e){var a={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},s={},o={};s.L=1,o[1]="L",Object.keys(a).forEach(function(we,je){s[we]=1<<je+1,o[s[we]]=we}),Object.freeze(s);var r=s.LRI|s.RLI|s.FSI,u=s.L|s.R|s.AL,f=s.B|s.S|s.WS|s.ON|s.FSI|s.LRI|s.RLI|s.PDI,c=s.BN|s.RLE|s.LRE|s.RLO|s.LRO|s.PDF,h=s.S|s.WS|s.B|r|s.PDI|c,d=null;function v(){if(!d){d=new Map;var we=function(Le){if(a.hasOwnProperty(Le)){var he=0;a[Le].split(",").forEach(function(qe){var be=qe.split("+"),Oe=be[0],Me=be[1];Oe=parseInt(Oe,36),Me=Me?parseInt(Me,36):0,d.set(he+=Oe,s[Le]);for(var vt=0;vt<Me;vt++)d.set(++he,s[Le])})}};for(var je in a)we(je)}}function g(we){return v(),d.get(we.codePointAt(0))||s.L}function y(we){return o[g(we)]}var S={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function E(we,je){var Le=36,he=0,qe=new Map,be=je&&new Map,Oe;return we.split(",").forEach(function Me(vt){if(vt.indexOf("+")!==-1)for(var Fe=+vt;Fe--;)Me(Oe);else{Oe=vt;var Ne=vt.split(">"),ze=Ne[0],$e=Ne[1];ze=String.fromCodePoint(he+=parseInt(ze,Le)),$e=String.fromCodePoint(he+=parseInt($e,Le)),qe.set(ze,$e),je&&be.set($e,ze)}}),{map:qe,reverseMap:be}}var x,C,T;function M(){if(!x){var we=E(S.pairs,!0),je=we.map,Le=we.reverseMap;x=je,C=Le,T=E(S.canonical,!1).map}}function R(we){return M(),x.get(we)||null}function b(we){return M(),C.get(we)||null}function I(we){return M(),T.get(we)||null}var D=s.L,L=s.R,F=s.EN,O=s.ES,V=s.ET,U=s.AN,H=s.CS,G=s.B,fe=s.S,ee=s.ON,ye=s.BN,J=s.NSM,K=s.AL,N=s.LRO,A=s.RLO,z=s.LRE,Y=s.RLE,$=s.PDF,q=s.LRI,re=s.RLI,oe=s.FSI,de=s.PDI;function Te(we,je){for(var Le=125,he=new Uint32Array(we.length),qe=0;qe<we.length;qe++)he[qe]=g(we[qe]);var be=new Map;function Oe(pn,Un){var $t=he[pn];he[pn]=Un,be.set($t,be.get($t)-1),$t&f&&be.set(f,be.get(f)-1),be.set(Un,(be.get(Un)||0)+1),Un&f&&be.set(f,(be.get(f)||0)+1)}for(var Me=new Uint8Array(we.length),vt=new Map,Fe=[],Ne=null,ze=0;ze<we.length;ze++)Ne||Fe.push(Ne={start:ze,end:we.length-1,level:je==="rtl"?1:je==="ltr"?0:bi(ze,!1)}),he[ze]&G&&(Ne.end=ze,Ne=null);for(var $e=Y|z|A|N|r|de|$|G,xt=function(pn){return pn+(pn&1?1:2)},Ct=function(pn){return pn+(pn&1?2:1)},it=0;it<Fe.length;it++){Ne=Fe[it];var Ye=[{_level:Ne.level,_override:0,_isolate:0}],j=void 0,pe=0,Se=0,Ue=0;be.clear();for(var Je=Ne.start;Je<=Ne.end;Je++){var ue=he[Je];if(j=Ye[Ye.length-1],be.set(ue,(be.get(ue)||0)+1),ue&f&&be.set(f,(be.get(f)||0)+1),ue&$e)if(ue&(Y|z)){Me[Je]=j._level;var et=(ue===Y?Ct:xt)(j._level);et<=Le&&!pe&&!Se?Ye.push({_level:et,_override:0,_isolate:0}):pe||Se++}else if(ue&(A|N)){Me[Je]=j._level;var ln=(ue===A?Ct:xt)(j._level);ln<=Le&&!pe&&!Se?Ye.push({_level:ln,_override:ue&A?L:D,_isolate:0}):pe||Se++}else if(ue&r){ue&oe&&(ue=bi(Je+1,!0)===1?re:q),Me[Je]=j._level,j._override&&Oe(Je,j._override);var Et=(ue===re?Ct:xt)(j._level);Et<=Le&&pe===0&&Se===0?(Ue++,Ye.push({_level:Et,_override:0,_isolate:1,_isolInitIndex:Je})):pe++}else if(ue&de){if(pe>0)pe--;else if(Ue>0){for(Se=0;!Ye[Ye.length-1]._isolate;)Ye.pop();var rt=Ye[Ye.length-1]._isolInitIndex;rt!=null&&(vt.set(rt,Je),vt.set(Je,rt)),Ye.pop(),Ue--}j=Ye[Ye.length-1],Me[Je]=j._level,j._override&&Oe(Je,j._override)}else ue&$?(pe===0&&(Se>0?Se--:!j._isolate&&Ye.length>1&&(Ye.pop(),j=Ye[Ye.length-1])),Me[Je]=j._level):ue&G&&(Me[Je]=Ne.level);else Me[Je]=j._level,j._override&&ue!==ye&&Oe(Je,j._override)}for(var Tt=[],bt=null,tt=Ne.start;tt<=Ne.end;tt++){var kt=he[tt];if(!(kt&c)){var Nt=Me[tt],rn=kt&r,Vt=kt===de;bt&&Nt===bt._level?(bt._end=tt,bt._endsWithIsolInit=rn):Tt.push(bt={_start:tt,_end:tt,_level:Nt,_startsWithPDI:Vt,_endsWithIsolInit:rn})}}for(var Rn=[],wn=0;wn<Tt.length;wn++){var In=Tt[wn];if(!In._startsWithPDI||In._startsWithPDI&&!vt.has(In._start)){for(var xn=[bt=In],un=void 0;bt&&bt._endsWithIsolInit&&(un=vt.get(bt._end))!=null;)for(var st=wn+1;st<Tt.length;st++)if(Tt[st]._start===un){xn.push(bt=Tt[st]);break}for(var on=[],yr=0;yr<xn.length;yr++)for(var _=xn[yr],k=_._start;k<=_._end;k++)on.push(k);for(var B=Me[on[0]],ne=Ne.level,ae=on[0]-1;ae>=0;ae--)if(!(he[ae]&c)){ne=Me[ae];break}var le=on[on.length-1],xe=Me[le],me=Ne.level;if(!(he[le]&r)){for(var Ce=le+1;Ce<=Ne.end;Ce++)if(!(he[Ce]&c)){me=Me[Ce];break}}Rn.push({_seqIndices:on,_sosType:Math.max(ne,B)%2?L:D,_eosType:Math.max(me,xe)%2?L:D})}}for(var Ee=0;Ee<Rn.length;Ee++){var ke=Rn[Ee],ie=ke._seqIndices,Mt=ke._sosType,Ze=ke._eosType,We=Me[ie[0]]&1?L:D;if(be.get(J))for(var at=0;at<ie.length;at++){var ut=ie[at];if(he[ut]&J){for(var St=Mt,gt=at-1;gt>=0;gt--)if(!(he[ie[gt]]&c)){St=he[ie[gt]];break}Oe(ut,St&(r|de)?ee:St)}}if(be.get(F))for(var ot=0;ot<ie.length;ot++){var ct=ie[ot];if(he[ct]&F)for(var mt=ot-1;mt>=-1;mt--){var At=mt===-1?Mt:he[ie[mt]];if(At&u){At===K&&Oe(ct,U);break}}}if(be.get(K))for(var ft=0;ft<ie.length;ft++){var Ut=ie[ft];he[Ut]&K&&Oe(Ut,L)}if(be.get(O)||be.get(H))for(var Kt=1;Kt<ie.length-1;Kt++){var Gt=ie[Kt];if(he[Gt]&(O|H)){for(var Ht=0,Rt=0,Zt=Kt-1;Zt>=0&&(Ht=he[ie[Zt]],!!(Ht&c));Zt--);for(var It=Kt+1;It<ie.length&&(Rt=he[ie[It]],!!(Rt&c));It++);Ht===Rt&&(he[Gt]===O?Ht===F:Ht&(F|U))&&Oe(Gt,Ht)}}if(be.get(F))for(var dt=0;dt<ie.length;dt++){var Ft=ie[dt];if(he[Ft]&F){for(var jn=dt-1;jn>=0&&he[ie[jn]]&(V|c);jn--)Oe(ie[jn],F);for(dt++;dt<ie.length&&he[ie[dt]]&(V|c|F);dt++)he[ie[dt]]!==F&&Oe(ie[dt],F)}}if(be.get(V)||be.get(O)||be.get(H))for(var qt=0;qt<ie.length;qt++){var Zn=ie[qt];if(he[Zn]&(V|O|H)){Oe(Zn,ee);for(var Ir=qt-1;Ir>=0&&he[ie[Ir]]&c;Ir--)Oe(ie[Ir],ee);for(var Pr=qt+1;Pr<ie.length&&he[ie[Pr]]&c;Pr++)Oe(ie[Pr],ee)}}if(be.get(F))for(var Lr=0,ti=Mt;Lr<ie.length;Lr++){var Xo=ie[Lr],oo=he[Xo];oo&F?ti===D&&Oe(Xo,D):oo&u&&(ti=oo)}if(be.get(f)){var Ar=L|F|U,Ti=Ar|D,Cr=[];{for(var Gr=[],Er=0;Er<ie.length;Er++)if(he[ie[Er]]&f){var _t=we[ie[Er]],ao=void 0;if(R(_t)!==null)if(Gr.length<63)Gr.push({char:_t,seqIndex:Er});else break;else if((ao=b(_t))!==null)for(var Ur=Gr.length-1;Ur>=0;Ur--){var ki=Gr[Ur].char;if(ki===ao||ki===b(I(_t))||R(I(ki))===_t){Cr.push([Gr[Ur].seqIndex,Er]),Gr.length=Ur;break}}}Cr.sort(function(pn,Un){return pn[0]-Un[0]})}for(var so=0;so<Cr.length;so++){for(var Qo=Cr[so],Yt=Qo[0],ni=Qo[1],Ko=!1,Pn=0,lo=Yt+1;lo<ni;lo++){var ri=ie[lo];if(he[ri]&Ti){Ko=!0;var Yn=he[ri]&Ar?L:D;if(Yn===We){Pn=Yn;break}}}if(Ko&&!Pn){Pn=Mt;for(var uo=Yt-1;uo>=0;uo--){var Jo=ie[uo];if(he[Jo]&Ti){var Xn=he[Jo]&Ar?L:D;Xn!==We?Pn=Xn:Pn=We;break}}}if(Pn){if(he[ie[Yt]]=he[ie[ni]]=Pn,Pn!==We){for(var Ln=Yt+1;Ln<ie.length;Ln++)if(!(he[ie[Ln]]&c)){g(we[ie[Ln]])&J&&(he[ie[Ln]]=Pn);break}}if(Pn!==We){for(var Tr=ni+1;Tr<ie.length;Tr++)if(!(he[ie[Tr]]&c)){g(we[ie[Tr]])&J&&(he[ie[Tr]]=Pn);break}}}}for(var rr=0;rr<ie.length;rr++)if(he[ie[rr]]&f){for(var co=rr,fo=rr,Nn=Mt,ii=rr-1;ii>=0;ii--)if(he[ie[ii]]&c)co=ii;else{Nn=he[ie[ii]]&Ar?L:D;break}for(var oi=Ze,ai=rr+1;ai<ie.length;ai++)if(he[ie[ai]]&(f|c))fo=ai;else{oi=he[ie[ai]]&Ar?L:D;break}for(var An=co;An<=fo;An++)he[ie[An]]=Nn===oi?Nn:We;rr=fo}}}for(var hn=Ne.start;hn<=Ne.end;hn++){var Mi=Me[hn],wr=he[hn];if(Mi&1?wr&(D|F|U)&&Me[hn]++:wr&L?Me[hn]++:wr&(U|F)&&(Me[hn]+=2),wr&c&&(Me[hn]=hn===0?Ne.level:Me[hn-1]),hn===Ne.end||g(we[hn])&(fe|G))for(var Hr=hn;Hr>=0&&g(we[Hr])&h;Hr--)Me[Hr]=Ne.level}}return{levels:Me,paragraphs:Fe};function bi(pn,Un){for(var $t=pn;$t<we.length;$t++){var en=he[$t];if(en&(L|K))return 1;if(en&(G|D)||Un&&en===de)return 0;if(en&r){var Qn=qo($t);$t=Qn===-1?we.length:Qn}}return 0}function qo(pn){for(var Un=1,$t=pn+1;$t<we.length;$t++){var en=he[$t];if(en&G)break;if(en&de){if(--Un===0)return $t}else en&r&&Un++}return-1}}var Re="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ve;function ge(){if(!ve){var we=E(Re,!0),je=we.map,Le=we.reverseMap;Le.forEach(function(he,qe){je.set(qe,he)}),ve=je}}function He(we){return ge(),ve.get(we)||null}function Xe(we,je,Le,he){var qe=we.length;Le=Math.max(0,Le==null?0:+Le),he=Math.min(qe-1,he==null?qe-1:+he);for(var be=new Map,Oe=Le;Oe<=he;Oe++)if(je[Oe]&1){var Me=He(we[Oe]);Me!==null&&be.set(Oe,Me)}return be}function Ie(we,je,Le,he){var qe=we.length;Le=Math.max(0,Le==null?0:+Le),he=Math.min(qe-1,he==null?qe-1:+he);var be=[];return je.paragraphs.forEach(function(Oe){var Me=Math.max(Le,Oe.start),vt=Math.min(he,Oe.end);if(Me<vt){for(var Fe=je.levels.slice(Me,vt+1),Ne=vt;Ne>=Me&&g(we[Ne])&h;Ne--)Fe[Ne]=Oe.level;for(var ze=Oe.level,$e=1/0,xt=0;xt<Fe.length;xt++){var Ct=Fe[xt];Ct>ze&&(ze=Ct),Ct<$e&&($e=Ct|1)}for(var it=ze;it>=$e;it--)for(var Ye=0;Ye<Fe.length;Ye++)if(Fe[Ye]>=it){for(var j=Ye;Ye+1<Fe.length&&Fe[Ye+1]>=it;)Ye++;Ye>j&&be.push([j+Me,Ye+Me])}}}),be}function De(we,je,Le,he){var qe=Ve(we,je,Le,he),be=[].concat(we);return qe.forEach(function(Oe,Me){be[Me]=(je.levels[Oe]&1?He(we[Oe]):null)||we[Oe]}),be.join("")}function Ve(we,je,Le,he){for(var qe=Ie(we,je,Le,he),be=[],Oe=0;Oe<we.length;Oe++)be[Oe]=Oe;return qe.forEach(function(Me){for(var vt=Me[0],Fe=Me[1],Ne=be.slice(vt,Fe+1),ze=Ne.length;ze--;)be[Fe-ze]=Ne[ze]}),be}return e.closingToOpeningBracket=b,e.getBidiCharType=g,e.getBidiCharTypeName=y,e.getCanonicalBracket=I,e.getEmbeddingLevels=Te,e.getMirroredCharacter=He,e.getMirroredCharactersMap=Xe,e.getReorderSegments=Ie,e.getReorderedIndices=Ve,e.getReorderedString=De,e.openingToClosingBracket=R,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return i}const Dd=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Ul(i){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function a(s,o){let r=lh[o];return r?Ul(r):s}return i.replace(e,a)}const yn=[];for(let i=0;i<256;i++)yn[i]=(i<16?"0":"")+i.toString(16);function rv(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,a=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(yn[i&255]+yn[i>>8&255]+yn[i>>16&255]+yn[i>>24&255]+"-"+yn[e&255]+yn[e>>8&255]+"-"+yn[e>>16&15|64]+yn[e>>24&255]+"-"+yn[a&63|128]+yn[a>>8&255]+"-"+yn[a>>16&255]+yn[a>>24&255]+yn[s&255]+yn[s>>8&255]+yn[s>>16&255]+yn[s>>24&255]).toUpperCase()}const gi=Object.assign||function(){let i=arguments[0];for(let e=1,a=arguments.length;e<a;e++){let s=arguments[e];if(s)for(let o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},iv=Date.now(),of=new WeakMap,af=new Map;let ov=1e10;function Ol(i,e){const a=uv(e);let s=of.get(i);if(s||of.set(i,s=Object.create(null)),s[a])return new s[a];const o=`_onBeforeCompile${a}`,r=function(h,d){i.onBeforeCompile.call(this,h,d);const v=this.customProgramCacheKey()+"|"+h.vertexShader+"|"+h.fragmentShader;let g=af[v];if(!g){const y=av(this,h,e,a);g=af[v]=y}h.vertexShader=g.vertexShader,h.fragmentShader=g.fragmentShader,gi(h.uniforms,this.uniforms),e.timeUniform&&(h.uniforms[e.timeUniform]={get value(){return Date.now()-iv}}),this[o]&&this[o](h)},u=function(){return f(e.chained?i:i.clone())},f=function(h){const d=Object.create(h,c);return Object.defineProperty(d,"baseMaterial",{value:i}),Object.defineProperty(d,"id",{value:ov++}),d.uuid=rv(),d.uniforms=gi({},h.uniforms,e.uniforms),d.defines=gi({},h.defines,e.defines),d.defines[`TROIKA_DERIVED_MATERIAL_${a}`]="",d.extensions=gi({},h.extensions,e.extensions),d._listeners=void 0,d},c={constructor:{value:u},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return i.customProgramCacheKey()+"|"+a}},onBeforeCompile:{get(){return r},set(h){this[o]=h}},copy:{writable:!0,configurable:!0,value:function(h){return i.copy.call(this,h),!i.isShaderMaterial&&!i.isDerivedMaterial&&(gi(this.extensions,h.extensions),gi(this.defines,h.defines),gi(this.uniforms,ih.clone(h.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const h=new i.constructor;return f(h).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let h=this._depthMaterial;return h||(h=this._depthMaterial=Ol(i.isDerivedMaterial?i.getDepthMaterial():new oh({depthPacking:ah}),e),h.defines.IS_DEPTH_MATERIAL="",h.uniforms=this.uniforms),h}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let h=this._distanceMaterial;return h||(h=this._distanceMaterial=Ol(i.isDerivedMaterial?i.getDistanceMaterial():new sh,e),h.defines.IS_DISTANCE_MATERIAL="",h.uniforms=this.uniforms),h}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:h,_distanceMaterial:d}=this;h&&h.dispose(),d&&d.dispose(),i.dispose.call(this)}}};return s[a]=u,new u}function av(i,{vertexShader:e,fragmentShader:a},s,o){let{vertexDefs:r,vertexMainIntro:u,vertexMainOutro:f,vertexTransform:c,fragmentDefs:h,fragmentMainIntro:d,fragmentMainOutro:v,fragmentColorTransform:g,customRewriter:y,timeUniform:S}=s;if(r=r||"",u=u||"",f=f||"",h=h||"",d=d||"",v=v||"",(c||y)&&(e=Ul(e)),(g||y)&&(a=a.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),a=Ul(a)),y){let E=y({vertexShader:e,fragmentShader:a});e=E.vertexShader,a=E.fragmentShader}if(g){let E=[];a=a.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(E.push(x),"")),v=`${g}
${E.join(`
`)}
${v}`}if(S){const E=`
uniform float ${S};
`;r=E+r,h=E+h}return c&&(e=`vec3 troika_position_${o};
vec3 troika_normal_${o};
vec2 troika_uv_${o};
${e}
`,r=`${r}
void troikaVertexTransform${o}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${c}
}
`,u=`
troika_position_${o} = vec3(position);
troika_normal_${o} = vec3(normal);
troika_uv_${o} = vec2(uv);
troikaVertexTransform${o}(troika_position_${o}, troika_normal_${o}, troika_uv_${o});
${u}
`,e=e.replace(/\b(position|normal|uv)\b/g,(E,x,C,T)=>/\battribute\s+vec[23]\s+$/.test(T.substr(0,C))?x:`troika_${x}_${o}`),i.map&&i.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${o}`))),e=sf(e,o,r,u,f),a=sf(a,o,h,d,v),{vertexShader:e,fragmentShader:a}}function sf(i,e,a,s,o){return(s||o||a)&&(i=i.replace(Dd,`
${a}
void troikaOrigMain${e}() {`),i+=`
void main() {
  ${s}
  troikaOrigMain${e}();
  ${o}
}`),i}function sv(i,e){return i==="uniforms"?void 0:typeof e=="function"?e.toString():e}let lv=0;const lf=new Map;function uv(i){const e=JSON.stringify(i,sv);let a=lf.get(e);return a==null&&lf.set(e,a=++lv),a}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function cv(){return typeof window>"u"&&(self.window=self),function(i){var e={parse:function(o){var r=e._bin,u=new Uint8Array(o);if(r.readASCII(u,0,4)=="ttcf"){var f=4;r.readUshort(u,f),f+=2,r.readUshort(u,f),f+=2;var c=r.readUint(u,f);f+=4;for(var h=[],d=0;d<c;d++){var v=r.readUint(u,f);f+=4,h.push(e._readFont(u,v))}return h}return[e._readFont(u,0)]},_readFont:function(o,r){var u=e._bin,f=r;u.readFixed(o,r),r+=4;var c=u.readUshort(o,r);r+=2,u.readUshort(o,r),r+=2,u.readUshort(o,r),r+=2,u.readUshort(o,r),r+=2;for(var h=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],d={_data:o,_offset:f},v={},g=0;g<c;g++){var y=u.readASCII(o,r,4);r+=4,u.readUint(o,r),r+=4;var S=u.readUint(o,r);r+=4;var E=u.readUint(o,r);r+=4,v[y]={offset:S,length:E}}for(g=0;g<h.length;g++){var x=h[g];v[x]&&(d[x.trim()]=e[x.trim()].parse(o,v[x].offset,v[x].length,d))}return d},_tabOffset:function(o,r,u){for(var f=e._bin,c=f.readUshort(o,u+4),h=u+12,d=0;d<c;d++){var v=f.readASCII(o,h,4);h+=4,f.readUint(o,h),h+=4;var g=f.readUint(o,h);if(h+=4,f.readUint(o,h),h+=4,v==r)return g}return 0}};e._bin={readFixed:function(o,r){return(o[r]<<8|o[r+1])+(o[r+2]<<8|o[r+3])/65540},readF2dot14:function(o,r){return e._bin.readShort(o,r)/16384},readInt:function(o,r){return e._bin._view(o).getInt32(r)},readInt8:function(o,r){return e._bin._view(o).getInt8(r)},readShort:function(o,r){return e._bin._view(o).getInt16(r)},readUshort:function(o,r){return e._bin._view(o).getUint16(r)},readUshorts:function(o,r,u){for(var f=[],c=0;c<u;c++)f.push(e._bin.readUshort(o,r+2*c));return f},readUint:function(o,r){return e._bin._view(o).getUint32(r)},readUint64:function(o,r){return 4294967296*e._bin.readUint(o,r)+e._bin.readUint(o,r+4)},readASCII:function(o,r,u){for(var f="",c=0;c<u;c++)f+=String.fromCharCode(o[r+c]);return f},readUnicode:function(o,r,u){for(var f="",c=0;c<u;c++){var h=o[r++]<<8|o[r++];f+=String.fromCharCode(h)}return f},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(o,r,u){var f=e._bin._tdec;return f&&r==0&&u==o.length?f.decode(o):e._bin.readASCII(o,r,u)},readBytes:function(o,r,u){for(var f=[],c=0;c<u;c++)f.push(o[r+c]);return f},readASCIIArray:function(o,r,u){for(var f=[],c=0;c<u;c++)f.push(String.fromCharCode(o[r+c]));return f},_view:function(o){return o._dataView||(o._dataView=o.buffer?new DataView(o.buffer,o.byteOffset,o.byteLength):new DataView(new Uint8Array(o).buffer))}},e._lctf={},e._lctf.parse=function(o,r,u,f,c){var h=e._bin,d={},v=r;h.readFixed(o,r),r+=4;var g=h.readUshort(o,r);r+=2;var y=h.readUshort(o,r);r+=2;var S=h.readUshort(o,r);return r+=2,d.scriptList=e._lctf.readScriptList(o,v+g),d.featureList=e._lctf.readFeatureList(o,v+y),d.lookupList=e._lctf.readLookupList(o,v+S,c),d},e._lctf.readLookupList=function(o,r,u){var f=e._bin,c=r,h=[],d=f.readUshort(o,r);r+=2;for(var v=0;v<d;v++){var g=f.readUshort(o,r);r+=2;var y=e._lctf.readLookupTable(o,c+g,u);h.push(y)}return h},e._lctf.readLookupTable=function(o,r,u){var f=e._bin,c=r,h={tabs:[]};h.ltype=f.readUshort(o,r),r+=2,h.flag=f.readUshort(o,r),r+=2;var d=f.readUshort(o,r);r+=2;for(var v=h.ltype,g=0;g<d;g++){var y=f.readUshort(o,r);r+=2;var S=u(o,v,c+y,h);h.tabs.push(S)}return h},e._lctf.numOfOnes=function(o){for(var r=0,u=0;u<32;u++)o>>>u&1&&r++;return r},e._lctf.readClassDef=function(o,r){var u=e._bin,f=[],c=u.readUshort(o,r);if(r+=2,c==1){var h=u.readUshort(o,r);r+=2;var d=u.readUshort(o,r);r+=2;for(var v=0;v<d;v++)f.push(h+v),f.push(h+v),f.push(u.readUshort(o,r)),r+=2}if(c==2){var g=u.readUshort(o,r);for(r+=2,v=0;v<g;v++)f.push(u.readUshort(o,r)),r+=2,f.push(u.readUshort(o,r)),r+=2,f.push(u.readUshort(o,r)),r+=2}return f},e._lctf.getInterval=function(o,r){for(var u=0;u<o.length;u+=3){var f=o[u],c=o[u+1];if(o[u+2],f<=r&&r<=c)return u}return-1},e._lctf.readCoverage=function(o,r){var u=e._bin,f={};f.fmt=u.readUshort(o,r),r+=2;var c=u.readUshort(o,r);return r+=2,f.fmt==1&&(f.tab=u.readUshorts(o,r,c)),f.fmt==2&&(f.tab=u.readUshorts(o,r,3*c)),f},e._lctf.coverageIndex=function(o,r){var u=o.tab;if(o.fmt==1)return u.indexOf(r);if(o.fmt==2){var f=e._lctf.getInterval(u,r);if(f!=-1)return u[f+2]+(r-u[f])}return-1},e._lctf.readFeatureList=function(o,r){var u=e._bin,f=r,c=[],h=u.readUshort(o,r);r+=2;for(var d=0;d<h;d++){var v=u.readASCII(o,r,4);r+=4;var g=u.readUshort(o,r);r+=2;var y=e._lctf.readFeatureTable(o,f+g);y.tag=v.trim(),c.push(y)}return c},e._lctf.readFeatureTable=function(o,r){var u=e._bin,f=r,c={},h=u.readUshort(o,r);r+=2,h>0&&(c.featureParams=f+h);var d=u.readUshort(o,r);r+=2,c.tab=[];for(var v=0;v<d;v++)c.tab.push(u.readUshort(o,r+2*v));return c},e._lctf.readScriptList=function(o,r){var u=e._bin,f=r,c={},h=u.readUshort(o,r);r+=2;for(var d=0;d<h;d++){var v=u.readASCII(o,r,4);r+=4;var g=u.readUshort(o,r);r+=2,c[v.trim()]=e._lctf.readScriptTable(o,f+g)}return c},e._lctf.readScriptTable=function(o,r){var u=e._bin,f=r,c={},h=u.readUshort(o,r);r+=2,h>0&&(c.default=e._lctf.readLangSysTable(o,f+h));var d=u.readUshort(o,r);r+=2;for(var v=0;v<d;v++){var g=u.readASCII(o,r,4);r+=4;var y=u.readUshort(o,r);r+=2,c[g.trim()]=e._lctf.readLangSysTable(o,f+y)}return c},e._lctf.readLangSysTable=function(o,r){var u=e._bin,f={};u.readUshort(o,r),r+=2,f.reqFeature=u.readUshort(o,r),r+=2;var c=u.readUshort(o,r);return r+=2,f.features=u.readUshorts(o,r,c),f},e.CFF={},e.CFF.parse=function(o,r,u){var f=e._bin;(o=new Uint8Array(o.buffer,r,u))[r=0],o[++r],o[++r],o[++r],r++;var c=[];r=e.CFF.readIndex(o,r,c);for(var h=[],d=0;d<c.length-1;d++)h.push(f.readASCII(o,r+c[d],c[d+1]-c[d]));r+=c[c.length-1];var v=[];r=e.CFF.readIndex(o,r,v);var g=[];for(d=0;d<v.length-1;d++)g.push(e.CFF.readDict(o,r+v[d],r+v[d+1]));r+=v[v.length-1];var y=g[0],S=[];r=e.CFF.readIndex(o,r,S);var E=[];for(d=0;d<S.length-1;d++)E.push(f.readASCII(o,r+S[d],S[d+1]-S[d]));if(r+=S[S.length-1],e.CFF.readSubrs(o,r,y),y.CharStrings){r=y.CharStrings,S=[],r=e.CFF.readIndex(o,r,S);var x=[];for(d=0;d<S.length-1;d++)x.push(f.readBytes(o,r+S[d],S[d+1]-S[d]));y.CharStrings=x}if(y.ROS){r=y.FDArray;var C=[];for(r=e.CFF.readIndex(o,r,C),y.FDArray=[],d=0;d<C.length-1;d++){var T=e.CFF.readDict(o,r+C[d],r+C[d+1]);e.CFF._readFDict(o,T,E),y.FDArray.push(T)}r+=C[C.length-1],r=y.FDSelect,y.FDSelect=[];var M=o[r];if(r++,M!=3)throw M;var R=f.readUshort(o,r);for(r+=2,d=0;d<R+1;d++)y.FDSelect.push(f.readUshort(o,r),o[r+2]),r+=3}return y.Encoding&&(y.Encoding=e.CFF.readEncoding(o,y.Encoding,y.CharStrings.length)),y.charset&&(y.charset=e.CFF.readCharset(o,y.charset,y.CharStrings.length)),e.CFF._readFDict(o,y,E),y},e.CFF._readFDict=function(o,r,u){var f;for(var c in r.Private&&(f=r.Private[1],r.Private=e.CFF.readDict(o,f,f+r.Private[0]),r.Private.Subrs&&e.CFF.readSubrs(o,f+r.Private.Subrs,r.Private)),r)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(c)!=-1&&(r[c]=u[r[c]-426+35])},e.CFF.readSubrs=function(o,r,u){var f=e._bin,c=[];r=e.CFF.readIndex(o,r,c);var h,d=c.length;h=d<1240?107:d<33900?1131:32768,u.Bias=h,u.Subrs=[];for(var v=0;v<c.length-1;v++)u.Subrs.push(f.readBytes(o,r+c[v],c[v+1]-c[v]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(o,r){for(var u=0;u<o.charset.length;u++)if(o.charset[u]==r)return u;return-1},e.CFF.glyphBySE=function(o,r){return r<0||r>255?-1:e.CFF.glyphByUnicode(o,e.CFF.tableSE[r])},e.CFF.readEncoding=function(o,r,u){e._bin;var f=[".notdef"],c=o[r];if(r++,c!=0)throw"error: unknown encoding format: "+c;var h=o[r];r++;for(var d=0;d<h;d++)f.push(o[r+d]);return f},e.CFF.readCharset=function(o,r,u){var f=e._bin,c=[".notdef"],h=o[r];if(r++,h==0)for(var d=0;d<u;d++){var v=f.readUshort(o,r);r+=2,c.push(v)}else{if(h!=1&&h!=2)throw"error: format: "+h;for(;c.length<u;){v=f.readUshort(o,r),r+=2;var g=0;for(h==1?(g=o[r],r++):(g=f.readUshort(o,r),r+=2),d=0;d<=g;d++)c.push(v),v++}}return c},e.CFF.readIndex=function(o,r,u){var f=e._bin,c=f.readUshort(o,r)+1,h=o[r+=2];if(r++,h==1)for(var d=0;d<c;d++)u.push(o[r+d]);else if(h==2)for(d=0;d<c;d++)u.push(f.readUshort(o,r+2*d));else if(h==3)for(d=0;d<c;d++)u.push(16777215&f.readUint(o,r+3*d-1));else if(c!=1)throw"unsupported offset size: "+h+", count: "+c;return(r+=c*h)-1},e.CFF.getCharString=function(o,r,u){var f=e._bin,c=o[r],h=o[r+1];o[r+2],o[r+3],o[r+4];var d=1,v=null,g=null;c<=20&&(v=c,d=1),c==12&&(v=100*c+h,d=2),21<=c&&c<=27&&(v=c,d=1),c==28&&(g=f.readShort(o,r+1),d=3),29<=c&&c<=31&&(v=c,d=1),32<=c&&c<=246&&(g=c-139,d=1),247<=c&&c<=250&&(g=256*(c-247)+h+108,d=2),251<=c&&c<=254&&(g=256*-(c-251)-h-108,d=2),c==255&&(g=f.readInt(o,r+1)/65535,d=5),u.val=g??"o"+v,u.size=d},e.CFF.readCharString=function(o,r,u){for(var f=r+u,c=e._bin,h=[];r<f;){var d=o[r],v=o[r+1];o[r+2],o[r+3],o[r+4];var g=1,y=null,S=null;d<=20&&(y=d,g=1),d==12&&(y=100*d+v,g=2),d!=19&&d!=20||(y=d,g=2),21<=d&&d<=27&&(y=d,g=1),d==28&&(S=c.readShort(o,r+1),g=3),29<=d&&d<=31&&(y=d,g=1),32<=d&&d<=246&&(S=d-139,g=1),247<=d&&d<=250&&(S=256*(d-247)+v+108,g=2),251<=d&&d<=254&&(S=256*-(d-251)-v-108,g=2),d==255&&(S=c.readInt(o,r+1)/65535,g=5),h.push(S??"o"+y),r+=g}return h},e.CFF.readDict=function(o,r,u){for(var f=e._bin,c={},h=[];r<u;){var d=o[r],v=o[r+1];o[r+2],o[r+3],o[r+4];var g=1,y=null,S=null;if(d==28&&(S=f.readShort(o,r+1),g=3),d==29&&(S=f.readInt(o,r+1),g=5),32<=d&&d<=246&&(S=d-139,g=1),247<=d&&d<=250&&(S=256*(d-247)+v+108,g=2),251<=d&&d<=254&&(S=256*-(d-251)-v-108,g=2),d==255)throw S=f.readInt(o,r+1)/65535,g=5,"unknown number";if(d==30){var E=[];for(g=1;;){var x=o[r+g];g++;var C=x>>4,T=15&x;if(C!=15&&E.push(C),T!=15&&E.push(T),T==15)break}for(var M="",R=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],b=0;b<E.length;b++)M+=R[E[b]];S=parseFloat(M)}d<=21&&(y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][d],g=1,d==12&&(y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][v],g=2)),y!=null?(c[y]=h.length==1?h[0]:h,h=[]):h.push(S),r+=g}return c},e.cmap={},e.cmap.parse=function(o,r,u){o=new Uint8Array(o.buffer,r,u),r=0;var f=e._bin,c={};f.readUshort(o,r),r+=2;var h=f.readUshort(o,r);r+=2;var d=[];c.tables=[];for(var v=0;v<h;v++){var g=f.readUshort(o,r);r+=2;var y=f.readUshort(o,r);r+=2;var S=f.readUint(o,r);r+=4;var E="p"+g+"e"+y,x=d.indexOf(S);if(x==-1){var C;x=c.tables.length,d.push(S);var T=f.readUshort(o,S);T==0?C=e.cmap.parse0(o,S):T==4?C=e.cmap.parse4(o,S):T==6?C=e.cmap.parse6(o,S):T==12?C=e.cmap.parse12(o,S):console.debug("unknown format: "+T,g,y,S),c.tables.push(C)}if(c[E]!=null)throw"multiple tables for one platform+encoding";c[E]=x}return c},e.cmap.parse0=function(o,r){var u=e._bin,f={};f.format=u.readUshort(o,r),r+=2;var c=u.readUshort(o,r);r+=2,u.readUshort(o,r),r+=2,f.map=[];for(var h=0;h<c-6;h++)f.map.push(o[r+h]);return f},e.cmap.parse4=function(o,r){var u=e._bin,f=r,c={};c.format=u.readUshort(o,r),r+=2;var h=u.readUshort(o,r);r+=2,u.readUshort(o,r),r+=2;var d=u.readUshort(o,r);r+=2;var v=d/2;c.searchRange=u.readUshort(o,r),r+=2,c.entrySelector=u.readUshort(o,r),r+=2,c.rangeShift=u.readUshort(o,r),r+=2,c.endCount=u.readUshorts(o,r,v),r+=2*v,r+=2,c.startCount=u.readUshorts(o,r,v),r+=2*v,c.idDelta=[];for(var g=0;g<v;g++)c.idDelta.push(u.readShort(o,r)),r+=2;for(c.idRangeOffset=u.readUshorts(o,r,v),r+=2*v,c.glyphIdArray=[];r<f+h;)c.glyphIdArray.push(u.readUshort(o,r)),r+=2;return c},e.cmap.parse6=function(o,r){var u=e._bin,f={};f.format=u.readUshort(o,r),r+=2,u.readUshort(o,r),r+=2,u.readUshort(o,r),r+=2,f.firstCode=u.readUshort(o,r),r+=2;var c=u.readUshort(o,r);r+=2,f.glyphIdArray=[];for(var h=0;h<c;h++)f.glyphIdArray.push(u.readUshort(o,r)),r+=2;return f},e.cmap.parse12=function(o,r){var u=e._bin,f={};f.format=u.readUshort(o,r),r+=2,r+=2,u.readUint(o,r),r+=4,u.readUint(o,r),r+=4;var c=u.readUint(o,r);r+=4,f.groups=[];for(var h=0;h<c;h++){var d=r+12*h,v=u.readUint(o,d+0),g=u.readUint(o,d+4),y=u.readUint(o,d+8);f.groups.push([v,g,y])}return f},e.glyf={},e.glyf.parse=function(o,r,u,f){for(var c=[],h=0;h<f.maxp.numGlyphs;h++)c.push(null);return c},e.glyf._parseGlyf=function(o,r){var u=e._bin,f=o._data,c=e._tabOffset(f,"glyf",o._offset)+o.loca[r];if(o.loca[r]==o.loca[r+1])return null;var h={};if(h.noc=u.readShort(f,c),c+=2,h.xMin=u.readShort(f,c),c+=2,h.yMin=u.readShort(f,c),c+=2,h.xMax=u.readShort(f,c),c+=2,h.yMax=u.readShort(f,c),c+=2,h.xMin>=h.xMax||h.yMin>=h.yMax)return null;if(h.noc>0){h.endPts=[];for(var d=0;d<h.noc;d++)h.endPts.push(u.readUshort(f,c)),c+=2;var v=u.readUshort(f,c);if(c+=2,f.length-c<v)return null;h.instructions=u.readBytes(f,c,v),c+=v;var g=h.endPts[h.noc-1]+1;for(h.flags=[],d=0;d<g;d++){var y=f[c];if(c++,h.flags.push(y),(8&y)!=0){var S=f[c];c++;for(var E=0;E<S;E++)h.flags.push(y),d++}}for(h.xs=[],d=0;d<g;d++){var x=(2&h.flags[d])!=0,C=(16&h.flags[d])!=0;x?(h.xs.push(C?f[c]:-f[c]),c++):C?h.xs.push(0):(h.xs.push(u.readShort(f,c)),c+=2)}for(h.ys=[],d=0;d<g;d++)x=(4&h.flags[d])!=0,C=(32&h.flags[d])!=0,x?(h.ys.push(C?f[c]:-f[c]),c++):C?h.ys.push(0):(h.ys.push(u.readShort(f,c)),c+=2);var T=0,M=0;for(d=0;d<g;d++)T+=h.xs[d],M+=h.ys[d],h.xs[d]=T,h.ys[d]=M}else{var R;h.parts=[];do{R=u.readUshort(f,c),c+=2;var b={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(h.parts.push(b),b.glyphIndex=u.readUshort(f,c),c+=2,1&R){var I=u.readShort(f,c);c+=2;var D=u.readShort(f,c);c+=2}else I=u.readInt8(f,c),c++,D=u.readInt8(f,c),c++;2&R?(b.m.tx=I,b.m.ty=D):(b.p1=I,b.p2=D),8&R?(b.m.a=b.m.d=u.readF2dot14(f,c),c+=2):64&R?(b.m.a=u.readF2dot14(f,c),c+=2,b.m.d=u.readF2dot14(f,c),c+=2):128&R&&(b.m.a=u.readF2dot14(f,c),c+=2,b.m.b=u.readF2dot14(f,c),c+=2,b.m.c=u.readF2dot14(f,c),c+=2,b.m.d=u.readF2dot14(f,c),c+=2)}while(32&R);if(256&R){var L=u.readUshort(f,c);for(c+=2,h.instr=[],d=0;d<L;d++)h.instr.push(f[c]),c++}}return h},e.GDEF={},e.GDEF.parse=function(o,r,u,f){var c=r;r+=4;var h=e._bin.readUshort(o,r);return{glyphClassDef:h===0?null:e._lctf.readClassDef(o,c+h)}},e.GPOS={},e.GPOS.parse=function(o,r,u,f){return e._lctf.parse(o,r,u,f,e.GPOS.subt)},e.GPOS.subt=function(o,r,u,f){var c=e._bin,h=u,d={};if(d.fmt=c.readUshort(o,u),u+=2,r==1||r==2||r==3||r==7||r==8&&d.fmt<=2){var v=c.readUshort(o,u);u+=2,d.coverage=e._lctf.readCoverage(o,v+h)}if(r==1&&d.fmt==1){var g=c.readUshort(o,u);u+=2,g!=0&&(d.pos=e.GPOS.readValueRecord(o,u,g))}else if(r==2&&d.fmt>=1&&d.fmt<=2){g=c.readUshort(o,u),u+=2;var y=c.readUshort(o,u);u+=2;var S=e._lctf.numOfOnes(g),E=e._lctf.numOfOnes(y);if(d.fmt==1){d.pairsets=[];var x=c.readUshort(o,u);u+=2;for(var C=0;C<x;C++){var T=h+c.readUshort(o,u);u+=2;var M=c.readUshort(o,T);T+=2;for(var R=[],b=0;b<M;b++){var I=c.readUshort(o,T);T+=2,g!=0&&(U=e.GPOS.readValueRecord(o,T,g),T+=2*S),y!=0&&(H=e.GPOS.readValueRecord(o,T,y),T+=2*E),R.push({gid2:I,val1:U,val2:H})}d.pairsets.push(R)}}if(d.fmt==2){var D=c.readUshort(o,u);u+=2;var L=c.readUshort(o,u);u+=2;var F=c.readUshort(o,u);u+=2;var O=c.readUshort(o,u);for(u+=2,d.classDef1=e._lctf.readClassDef(o,h+D),d.classDef2=e._lctf.readClassDef(o,h+L),d.matrix=[],C=0;C<F;C++){var V=[];for(b=0;b<O;b++){var U=null,H=null;g!=0&&(U=e.GPOS.readValueRecord(o,u,g),u+=2*S),y!=0&&(H=e.GPOS.readValueRecord(o,u,y),u+=2*E),V.push({val1:U,val2:H})}d.matrix.push(V)}}}else if(r==4&&d.fmt==1)d.markCoverage=e._lctf.readCoverage(o,c.readUshort(o,u)+h),d.baseCoverage=e._lctf.readCoverage(o,c.readUshort(o,u+2)+h),d.markClassCount=c.readUshort(o,u+4),d.markArray=e.GPOS.readMarkArray(o,c.readUshort(o,u+6)+h),d.baseArray=e.GPOS.readBaseArray(o,c.readUshort(o,u+8)+h,d.markClassCount);else if(r==6&&d.fmt==1)d.mark1Coverage=e._lctf.readCoverage(o,c.readUshort(o,u)+h),d.mark2Coverage=e._lctf.readCoverage(o,c.readUshort(o,u+2)+h),d.markClassCount=c.readUshort(o,u+4),d.mark1Array=e.GPOS.readMarkArray(o,c.readUshort(o,u+6)+h),d.mark2Array=e.GPOS.readBaseArray(o,c.readUshort(o,u+8)+h,d.markClassCount);else{if(r==9&&d.fmt==1){var G=c.readUshort(o,u);u+=2;var fe=c.readUint(o,u);if(u+=4,f.ltype==9)f.ltype=G;else if(f.ltype!=G)throw"invalid extension substitution";return e.GPOS.subt(o,f.ltype,h+fe)}console.debug("unsupported GPOS table LookupType",r,"format",d.fmt)}return d},e.GPOS.readValueRecord=function(o,r,u){var f=e._bin,c=[];return c.push(1&u?f.readShort(o,r):0),r+=1&u?2:0,c.push(2&u?f.readShort(o,r):0),r+=2&u?2:0,c.push(4&u?f.readShort(o,r):0),r+=4&u?2:0,c.push(8&u?f.readShort(o,r):0),r+=8&u?2:0,c},e.GPOS.readBaseArray=function(o,r,u){var f=e._bin,c=[],h=r,d=f.readUshort(o,r);r+=2;for(var v=0;v<d;v++){for(var g=[],y=0;y<u;y++)g.push(e.GPOS.readAnchorRecord(o,h+f.readUshort(o,r))),r+=2;c.push(g)}return c},e.GPOS.readMarkArray=function(o,r){var u=e._bin,f=[],c=r,h=u.readUshort(o,r);r+=2;for(var d=0;d<h;d++){var v=e.GPOS.readAnchorRecord(o,u.readUshort(o,r+2)+c);v.markClass=u.readUshort(o,r),f.push(v),r+=4}return f},e.GPOS.readAnchorRecord=function(o,r){var u=e._bin,f={};return f.fmt=u.readUshort(o,r),f.x=u.readShort(o,r+2),f.y=u.readShort(o,r+4),f},e.GSUB={},e.GSUB.parse=function(o,r,u,f){return e._lctf.parse(o,r,u,f,e.GSUB.subt)},e.GSUB.subt=function(o,r,u,f){var c=e._bin,h=u,d={};if(d.fmt=c.readUshort(o,u),u+=2,r!=1&&r!=2&&r!=4&&r!=5&&r!=6)return null;if(r==1||r==2||r==4||r==5&&d.fmt<=2||r==6&&d.fmt<=2){var v=c.readUshort(o,u);u+=2,d.coverage=e._lctf.readCoverage(o,h+v)}if(r==1&&d.fmt>=1&&d.fmt<=2){if(d.fmt==1)d.delta=c.readShort(o,u),u+=2;else if(d.fmt==2){var g=c.readUshort(o,u);u+=2,d.newg=c.readUshorts(o,u,g),u+=2*d.newg.length}}else if(r==2&&d.fmt==1){g=c.readUshort(o,u),u+=2,d.seqs=[];for(var y=0;y<g;y++){var S=c.readUshort(o,u)+h;u+=2;var E=c.readUshort(o,S);d.seqs.push(c.readUshorts(o,S+2,E))}}else if(r==4)for(d.vals=[],g=c.readUshort(o,u),u+=2,y=0;y<g;y++){var x=c.readUshort(o,u);u+=2,d.vals.push(e.GSUB.readLigatureSet(o,h+x))}else if(r==5&&d.fmt==2){if(d.fmt==2){var C=c.readUshort(o,u);u+=2,d.cDef=e._lctf.readClassDef(o,h+C),d.scset=[];var T=c.readUshort(o,u);for(u+=2,y=0;y<T;y++){var M=c.readUshort(o,u);u+=2,d.scset.push(M==0?null:e.GSUB.readSubClassSet(o,h+M))}}}else if(r==6&&d.fmt==3){if(d.fmt==3){for(y=0;y<3;y++){g=c.readUshort(o,u),u+=2;for(var R=[],b=0;b<g;b++)R.push(e._lctf.readCoverage(o,h+c.readUshort(o,u+2*b)));u+=2*g,y==0&&(d.backCvg=R),y==1&&(d.inptCvg=R),y==2&&(d.ahedCvg=R)}g=c.readUshort(o,u),u+=2,d.lookupRec=e.GSUB.readSubstLookupRecords(o,u,g)}}else{if(r==7&&d.fmt==1){var I=c.readUshort(o,u);u+=2;var D=c.readUint(o,u);if(u+=4,f.ltype==9)f.ltype=I;else if(f.ltype!=I)throw"invalid extension substitution";return e.GSUB.subt(o,f.ltype,h+D)}console.debug("unsupported GSUB table LookupType",r,"format",d.fmt)}return d},e.GSUB.readSubClassSet=function(o,r){var u=e._bin.readUshort,f=r,c=[],h=u(o,r);r+=2;for(var d=0;d<h;d++){var v=u(o,r);r+=2,c.push(e.GSUB.readSubClassRule(o,f+v))}return c},e.GSUB.readSubClassRule=function(o,r){var u=e._bin.readUshort,f={},c=u(o,r),h=u(o,r+=2);r+=2,f.input=[];for(var d=0;d<c-1;d++)f.input.push(u(o,r)),r+=2;return f.substLookupRecords=e.GSUB.readSubstLookupRecords(o,r,h),f},e.GSUB.readSubstLookupRecords=function(o,r,u){for(var f=e._bin.readUshort,c=[],h=0;h<u;h++)c.push(f(o,r),f(o,r+2)),r+=4;return c},e.GSUB.readChainSubClassSet=function(o,r){var u=e._bin,f=r,c=[],h=u.readUshort(o,r);r+=2;for(var d=0;d<h;d++){var v=u.readUshort(o,r);r+=2,c.push(e.GSUB.readChainSubClassRule(o,f+v))}return c},e.GSUB.readChainSubClassRule=function(o,r){for(var u=e._bin,f={},c=["backtrack","input","lookahead"],h=0;h<c.length;h++){var d=u.readUshort(o,r);r+=2,h==1&&d--,f[c[h]]=u.readUshorts(o,r,d),r+=2*f[c[h]].length}return d=u.readUshort(o,r),r+=2,f.subst=u.readUshorts(o,r,2*d),r+=2*f.subst.length,f},e.GSUB.readLigatureSet=function(o,r){var u=e._bin,f=r,c=[],h=u.readUshort(o,r);r+=2;for(var d=0;d<h;d++){var v=u.readUshort(o,r);r+=2,c.push(e.GSUB.readLigature(o,f+v))}return c},e.GSUB.readLigature=function(o,r){var u=e._bin,f={chain:[]};f.nglyph=u.readUshort(o,r),r+=2;var c=u.readUshort(o,r);r+=2;for(var h=0;h<c-1;h++)f.chain.push(u.readUshort(o,r)),r+=2;return f},e.head={},e.head.parse=function(o,r,u){var f=e._bin,c={};return f.readFixed(o,r),r+=4,c.fontRevision=f.readFixed(o,r),r+=4,f.readUint(o,r),r+=4,f.readUint(o,r),r+=4,c.flags=f.readUshort(o,r),r+=2,c.unitsPerEm=f.readUshort(o,r),r+=2,c.created=f.readUint64(o,r),r+=8,c.modified=f.readUint64(o,r),r+=8,c.xMin=f.readShort(o,r),r+=2,c.yMin=f.readShort(o,r),r+=2,c.xMax=f.readShort(o,r),r+=2,c.yMax=f.readShort(o,r),r+=2,c.macStyle=f.readUshort(o,r),r+=2,c.lowestRecPPEM=f.readUshort(o,r),r+=2,c.fontDirectionHint=f.readShort(o,r),r+=2,c.indexToLocFormat=f.readShort(o,r),r+=2,c.glyphDataFormat=f.readShort(o,r),r+=2,c},e.hhea={},e.hhea.parse=function(o,r,u){var f=e._bin,c={};return f.readFixed(o,r),r+=4,c.ascender=f.readShort(o,r),r+=2,c.descender=f.readShort(o,r),r+=2,c.lineGap=f.readShort(o,r),r+=2,c.advanceWidthMax=f.readUshort(o,r),r+=2,c.minLeftSideBearing=f.readShort(o,r),r+=2,c.minRightSideBearing=f.readShort(o,r),r+=2,c.xMaxExtent=f.readShort(o,r),r+=2,c.caretSlopeRise=f.readShort(o,r),r+=2,c.caretSlopeRun=f.readShort(o,r),r+=2,c.caretOffset=f.readShort(o,r),r+=2,r+=8,c.metricDataFormat=f.readShort(o,r),r+=2,c.numberOfHMetrics=f.readUshort(o,r),r+=2,c},e.hmtx={},e.hmtx.parse=function(o,r,u,f){for(var c=e._bin,h={aWidth:[],lsBearing:[]},d=0,v=0,g=0;g<f.maxp.numGlyphs;g++)g<f.hhea.numberOfHMetrics&&(d=c.readUshort(o,r),r+=2,v=c.readShort(o,r),r+=2),h.aWidth.push(d),h.lsBearing.push(v);return h},e.kern={},e.kern.parse=function(o,r,u,f){var c=e._bin,h=c.readUshort(o,r);if(r+=2,h==1)return e.kern.parseV1(o,r-2,u,f);var d=c.readUshort(o,r);r+=2;for(var v={glyph1:[],rval:[]},g=0;g<d;g++){r+=2,u=c.readUshort(o,r),r+=2;var y=c.readUshort(o,r);r+=2;var S=y>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;r=e.kern.readFormat0(o,r,v)}return v},e.kern.parseV1=function(o,r,u,f){var c=e._bin;c.readFixed(o,r),r+=4;var h=c.readUint(o,r);r+=4;for(var d={glyph1:[],rval:[]},v=0;v<h;v++){c.readUint(o,r),r+=4;var g=c.readUshort(o,r);r+=2,c.readUshort(o,r),r+=2;var y=g>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;r=e.kern.readFormat0(o,r,d)}return d},e.kern.readFormat0=function(o,r,u){var f=e._bin,c=-1,h=f.readUshort(o,r);r+=2,f.readUshort(o,r),r+=2,f.readUshort(o,r),r+=2,f.readUshort(o,r),r+=2;for(var d=0;d<h;d++){var v=f.readUshort(o,r);r+=2;var g=f.readUshort(o,r);r+=2;var y=f.readShort(o,r);r+=2,v!=c&&(u.glyph1.push(v),u.rval.push({glyph2:[],vals:[]}));var S=u.rval[u.rval.length-1];S.glyph2.push(g),S.vals.push(y),c=v}return r},e.loca={},e.loca.parse=function(o,r,u,f){var c=e._bin,h=[],d=f.head.indexToLocFormat,v=f.maxp.numGlyphs+1;if(d==0)for(var g=0;g<v;g++)h.push(c.readUshort(o,r+(g<<1))<<1);if(d==1)for(g=0;g<v;g++)h.push(c.readUint(o,r+(g<<2)));return h},e.maxp={},e.maxp.parse=function(o,r,u){var f=e._bin,c={},h=f.readUint(o,r);return r+=4,c.numGlyphs=f.readUshort(o,r),r+=2,h==65536&&(c.maxPoints=f.readUshort(o,r),r+=2,c.maxContours=f.readUshort(o,r),r+=2,c.maxCompositePoints=f.readUshort(o,r),r+=2,c.maxCompositeContours=f.readUshort(o,r),r+=2,c.maxZones=f.readUshort(o,r),r+=2,c.maxTwilightPoints=f.readUshort(o,r),r+=2,c.maxStorage=f.readUshort(o,r),r+=2,c.maxFunctionDefs=f.readUshort(o,r),r+=2,c.maxInstructionDefs=f.readUshort(o,r),r+=2,c.maxStackElements=f.readUshort(o,r),r+=2,c.maxSizeOfInstructions=f.readUshort(o,r),r+=2,c.maxComponentElements=f.readUshort(o,r),r+=2,c.maxComponentDepth=f.readUshort(o,r),r+=2),c},e.name={},e.name.parse=function(o,r,u){var f=e._bin,c={};f.readUshort(o,r),r+=2;var h=f.readUshort(o,r);r+=2,f.readUshort(o,r);for(var d,v=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],g=r+=2,y=0;y<h;y++){var S=f.readUshort(o,r);r+=2;var E=f.readUshort(o,r);r+=2;var x=f.readUshort(o,r);r+=2;var C=f.readUshort(o,r);r+=2;var T=f.readUshort(o,r);r+=2;var M=f.readUshort(o,r);r+=2;var R,b=v[C],I=g+12*h+M;if(S==0)R=f.readUnicode(o,I,T/2);else if(S==3&&E==0)R=f.readUnicode(o,I,T/2);else if(E==0)R=f.readASCII(o,I,T);else if(E==1)R=f.readUnicode(o,I,T/2);else if(E==3)R=f.readUnicode(o,I,T/2);else{if(S!=1)throw"unknown encoding "+E+", platformID: "+S;R=f.readASCII(o,I,T),console.debug("reading unknown MAC encoding "+E+" as ASCII")}var D="p"+S+","+x.toString(16);c[D]==null&&(c[D]={}),c[D][b!==void 0?b:C]=R,c[D]._lang=x}for(var L in c)if(c[L].postScriptName!=null&&c[L]._lang==1033)return c[L];for(var L in c)if(c[L].postScriptName!=null&&c[L]._lang==0)return c[L];for(var L in c)if(c[L].postScriptName!=null&&c[L]._lang==3084)return c[L];for(var L in c)if(c[L].postScriptName!=null)return c[L];for(var L in c){d=L;break}return console.debug("returning name table with languageID "+c[d]._lang),c[d]},e["OS/2"]={},e["OS/2"].parse=function(o,r,u){var f=e._bin.readUshort(o,r);r+=2;var c={};if(f==0)e["OS/2"].version0(o,r,c);else if(f==1)e["OS/2"].version1(o,r,c);else if(f==2||f==3||f==4)e["OS/2"].version2(o,r,c);else{if(f!=5)throw"unknown OS/2 table version: "+f;e["OS/2"].version5(o,r,c)}return c},e["OS/2"].version0=function(o,r,u){var f=e._bin;return u.xAvgCharWidth=f.readShort(o,r),r+=2,u.usWeightClass=f.readUshort(o,r),r+=2,u.usWidthClass=f.readUshort(o,r),r+=2,u.fsType=f.readUshort(o,r),r+=2,u.ySubscriptXSize=f.readShort(o,r),r+=2,u.ySubscriptYSize=f.readShort(o,r),r+=2,u.ySubscriptXOffset=f.readShort(o,r),r+=2,u.ySubscriptYOffset=f.readShort(o,r),r+=2,u.ySuperscriptXSize=f.readShort(o,r),r+=2,u.ySuperscriptYSize=f.readShort(o,r),r+=2,u.ySuperscriptXOffset=f.readShort(o,r),r+=2,u.ySuperscriptYOffset=f.readShort(o,r),r+=2,u.yStrikeoutSize=f.readShort(o,r),r+=2,u.yStrikeoutPosition=f.readShort(o,r),r+=2,u.sFamilyClass=f.readShort(o,r),r+=2,u.panose=f.readBytes(o,r,10),r+=10,u.ulUnicodeRange1=f.readUint(o,r),r+=4,u.ulUnicodeRange2=f.readUint(o,r),r+=4,u.ulUnicodeRange3=f.readUint(o,r),r+=4,u.ulUnicodeRange4=f.readUint(o,r),r+=4,u.achVendID=[f.readInt8(o,r),f.readInt8(o,r+1),f.readInt8(o,r+2),f.readInt8(o,r+3)],r+=4,u.fsSelection=f.readUshort(o,r),r+=2,u.usFirstCharIndex=f.readUshort(o,r),r+=2,u.usLastCharIndex=f.readUshort(o,r),r+=2,u.sTypoAscender=f.readShort(o,r),r+=2,u.sTypoDescender=f.readShort(o,r),r+=2,u.sTypoLineGap=f.readShort(o,r),r+=2,u.usWinAscent=f.readUshort(o,r),r+=2,u.usWinDescent=f.readUshort(o,r),r+=2},e["OS/2"].version1=function(o,r,u){var f=e._bin;return r=e["OS/2"].version0(o,r,u),u.ulCodePageRange1=f.readUint(o,r),r+=4,u.ulCodePageRange2=f.readUint(o,r),r+=4},e["OS/2"].version2=function(o,r,u){var f=e._bin;return r=e["OS/2"].version1(o,r,u),u.sxHeight=f.readShort(o,r),r+=2,u.sCapHeight=f.readShort(o,r),r+=2,u.usDefault=f.readUshort(o,r),r+=2,u.usBreak=f.readUshort(o,r),r+=2,u.usMaxContext=f.readUshort(o,r),r+=2},e["OS/2"].version5=function(o,r,u){var f=e._bin;return r=e["OS/2"].version2(o,r,u),u.usLowerOpticalPointSize=f.readUshort(o,r),r+=2,u.usUpperOpticalPointSize=f.readUshort(o,r),r+=2},e.post={},e.post.parse=function(o,r,u){var f=e._bin,c={};return c.version=f.readFixed(o,r),r+=4,c.italicAngle=f.readFixed(o,r),r+=4,c.underlinePosition=f.readShort(o,r),r+=2,c.underlineThickness=f.readShort(o,r),r+=2,c},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(o,r){var u=o.cmap,f=-1;if(u.p0e4!=null?f=u.p0e4:u.p3e1!=null?f=u.p3e1:u.p1e0!=null?f=u.p1e0:u.p0e3!=null&&(f=u.p0e3),f==-1)throw"no familiar platform and encoding!";var c=u.tables[f];if(c.format==0)return r>=c.map.length?0:c.map[r];if(c.format==4){for(var h=-1,d=0;d<c.endCount.length;d++)if(r<=c.endCount[d]){h=d;break}return h==-1||c.startCount[h]>r?0:65535&(c.idRangeOffset[h]!=0?c.glyphIdArray[r-c.startCount[h]+(c.idRangeOffset[h]>>1)-(c.idRangeOffset.length-h)]:r+c.idDelta[h])}if(c.format==12){if(r>c.groups[c.groups.length-1][1])return 0;for(d=0;d<c.groups.length;d++){var v=c.groups[d];if(v[0]<=r&&r<=v[1])return v[2]+(r-v[0])}return 0}throw"unknown cmap table format "+c.format},e.U.glyphToPath=function(o,r){var u={cmds:[],crds:[]};if(o.SVG&&o.SVG.entries[r]){var f=o.SVG.entries[r];return f==null?u:(typeof f=="string"&&(f=e.SVG.toPath(f),o.SVG.entries[r]=f),f)}if(o.CFF){var c={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:o.CFF.Private?o.CFF.Private.defaultWidthX:0,open:!1},h=o.CFF,d=o.CFF.Private;if(h.ROS){for(var v=0;h.FDSelect[v+2]<=r;)v+=2;d=h.FDArray[h.FDSelect[v+1]].Private}e.U._drawCFF(o.CFF.CharStrings[r],c,h,d,u)}else o.glyf&&e.U._drawGlyf(r,o,u);return u},e.U._drawGlyf=function(o,r,u){var f=r.glyf[o];f==null&&(f=r.glyf[o]=e.glyf._parseGlyf(r,o)),f!=null&&(f.noc>-1?e.U._simpleGlyph(f,u):e.U._compoGlyph(f,r,u))},e.U._simpleGlyph=function(o,r){for(var u=0;u<o.noc;u++){for(var f=u==0?0:o.endPts[u-1]+1,c=o.endPts[u],h=f;h<=c;h++){var d=h==f?c:h-1,v=h==c?f:h+1,g=1&o.flags[h],y=1&o.flags[d],S=1&o.flags[v],E=o.xs[h],x=o.ys[h];if(h==f)if(g){if(!y){e.U.P.moveTo(r,E,x);continue}e.U.P.moveTo(r,o.xs[d],o.ys[d])}else y?e.U.P.moveTo(r,o.xs[d],o.ys[d]):e.U.P.moveTo(r,(o.xs[d]+E)/2,(o.ys[d]+x)/2);g?y&&e.U.P.lineTo(r,E,x):S?e.U.P.qcurveTo(r,E,x,o.xs[v],o.ys[v]):e.U.P.qcurveTo(r,E,x,(E+o.xs[v])/2,(x+o.ys[v])/2)}e.U.P.closePath(r)}},e.U._compoGlyph=function(o,r,u){for(var f=0;f<o.parts.length;f++){var c={cmds:[],crds:[]},h=o.parts[f];e.U._drawGlyf(h.glyphIndex,r,c);for(var d=h.m,v=0;v<c.crds.length;v+=2){var g=c.crds[v],y=c.crds[v+1];u.crds.push(g*d.a+y*d.b+d.tx),u.crds.push(g*d.c+y*d.d+d.ty)}for(v=0;v<c.cmds.length;v++)u.cmds.push(c.cmds[v])}},e.U._getGlyphClass=function(o,r){var u=e._lctf.getInterval(r,o);return u==-1?0:r[u+2]},e.U._applySubs=function(o,r,u,f){for(var c=o.length-r-1,h=0;h<u.tabs.length;h++)if(u.tabs[h]!=null){var d,v=u.tabs[h];if(!v.coverage||(d=e._lctf.coverageIndex(v.coverage,o[r]))!=-1){if(u.ltype==1)o[r],v.fmt==1?o[r]=o[r]+v.delta:o[r]=v.newg[d];else if(u.ltype==4)for(var g=v.vals[d],y=0;y<g.length;y++){var S=g[y],E=S.chain.length;if(!(E>c)){for(var x=!0,C=0,T=0;T<E;T++){for(;o[r+C+(1+T)]==-1;)C++;S.chain[T]!=o[r+C+(1+T)]&&(x=!1)}if(x){for(o[r]=S.nglyph,T=0;T<E+C;T++)o[r+T+1]=-1;break}}}else if(u.ltype==5&&v.fmt==2)for(var M=e._lctf.getInterval(v.cDef,o[r]),R=v.cDef[M+2],b=v.scset[R],I=0;I<b.length;I++){var D=b[I],L=D.input;if(!(L.length>c)){for(x=!0,T=0;T<L.length;T++){var F=e._lctf.getInterval(v.cDef,o[r+1+T]);if(M==-1&&v.cDef[F+2]!=L[T]){x=!1;break}}if(x){var O=D.substLookupRecords;for(y=0;y<O.length;y+=2)O[y],O[y+1]}}}else if(u.ltype==6&&v.fmt==3){if(!e.U._glsCovered(o,v.backCvg,r-v.backCvg.length)||!e.U._glsCovered(o,v.inptCvg,r)||!e.U._glsCovered(o,v.ahedCvg,r+v.inptCvg.length))continue;var V=v.lookupRec;for(I=0;I<V.length;I+=2){M=V[I];var U=f[V[I+1]];e.U._applySubs(o,r+M,U,f)}}}}},e.U._glsCovered=function(o,r,u){for(var f=0;f<r.length;f++)if(e._lctf.coverageIndex(r[f],o[u+f])==-1)return!1;return!0},e.U.glyphsToPath=function(o,r,u){for(var f={cmds:[],crds:[]},c=0,h=0;h<r.length;h++){var d=r[h];if(d!=-1){for(var v=h<r.length-1&&r[h+1]!=-1?r[h+1]:0,g=e.U.glyphToPath(o,d),y=0;y<g.crds.length;y+=2)f.crds.push(g.crds[y]+c),f.crds.push(g.crds[y+1]);for(u&&f.cmds.push(u),y=0;y<g.cmds.length;y++)f.cmds.push(g.cmds[y]);u&&f.cmds.push("X"),c+=o.hmtx.aWidth[d],h<r.length-1&&(c+=e.U.getPairAdjustment(o,d,v))}}return f},e.U.P={},e.U.P.moveTo=function(o,r,u){o.cmds.push("M"),o.crds.push(r,u)},e.U.P.lineTo=function(o,r,u){o.cmds.push("L"),o.crds.push(r,u)},e.U.P.curveTo=function(o,r,u,f,c,h,d){o.cmds.push("C"),o.crds.push(r,u,f,c,h,d)},e.U.P.qcurveTo=function(o,r,u,f,c){o.cmds.push("Q"),o.crds.push(r,u,f,c)},e.U.P.closePath=function(o){o.cmds.push("Z")},e.U._drawCFF=function(o,r,u,f,c){for(var h=r.stack,d=r.nStems,v=r.haveWidth,g=r.width,y=r.open,S=0,E=r.x,x=r.y,C=0,T=0,M=0,R=0,b=0,I=0,D=0,L=0,F=0,O=0,V={val:0,size:0};S<o.length;){e.CFF.getCharString(o,S,V);var U=V.val;if(S+=V.size,U=="o1"||U=="o18")h.length%2!=0&&!v&&(g=h.shift()+f.nominalWidthX),d+=h.length>>1,h.length=0,v=!0;else if(U=="o3"||U=="o23")h.length%2!=0&&!v&&(g=h.shift()+f.nominalWidthX),d+=h.length>>1,h.length=0,v=!0;else if(U=="o4")h.length>1&&!v&&(g=h.shift()+f.nominalWidthX,v=!0),y&&e.U.P.closePath(c),x+=h.pop(),e.U.P.moveTo(c,E,x),y=!0;else if(U=="o5")for(;h.length>0;)E+=h.shift(),x+=h.shift(),e.U.P.lineTo(c,E,x);else if(U=="o6"||U=="o7")for(var H=h.length,G=U=="o6",fe=0;fe<H;fe++){var ee=h.shift();G?E+=ee:x+=ee,G=!G,e.U.P.lineTo(c,E,x)}else if(U=="o8"||U=="o24"){H=h.length;for(var ye=0;ye+6<=H;)C=E+h.shift(),T=x+h.shift(),M=C+h.shift(),R=T+h.shift(),E=M+h.shift(),x=R+h.shift(),e.U.P.curveTo(c,C,T,M,R,E,x),ye+=6;U=="o24"&&(E+=h.shift(),x+=h.shift(),e.U.P.lineTo(c,E,x))}else{if(U=="o11")break;if(U=="o1234"||U=="o1235"||U=="o1236"||U=="o1237")U=="o1234"&&(T=x,M=(C=E+h.shift())+h.shift(),O=R=T+h.shift(),I=R,L=x,E=(D=(b=(F=M+h.shift())+h.shift())+h.shift())+h.shift(),e.U.P.curveTo(c,C,T,M,R,F,O),e.U.P.curveTo(c,b,I,D,L,E,x)),U=="o1235"&&(C=E+h.shift(),T=x+h.shift(),M=C+h.shift(),R=T+h.shift(),F=M+h.shift(),O=R+h.shift(),b=F+h.shift(),I=O+h.shift(),D=b+h.shift(),L=I+h.shift(),E=D+h.shift(),x=L+h.shift(),h.shift(),e.U.P.curveTo(c,C,T,M,R,F,O),e.U.P.curveTo(c,b,I,D,L,E,x)),U=="o1236"&&(C=E+h.shift(),T=x+h.shift(),M=C+h.shift(),O=R=T+h.shift(),I=R,D=(b=(F=M+h.shift())+h.shift())+h.shift(),L=I+h.shift(),E=D+h.shift(),e.U.P.curveTo(c,C,T,M,R,F,O),e.U.P.curveTo(c,b,I,D,L,E,x)),U=="o1237"&&(C=E+h.shift(),T=x+h.shift(),M=C+h.shift(),R=T+h.shift(),F=M+h.shift(),O=R+h.shift(),b=F+h.shift(),I=O+h.shift(),D=b+h.shift(),L=I+h.shift(),Math.abs(D-E)>Math.abs(L-x)?E=D+h.shift():x=L+h.shift(),e.U.P.curveTo(c,C,T,M,R,F,O),e.U.P.curveTo(c,b,I,D,L,E,x));else if(U=="o14"){if(h.length>0&&!v&&(g=h.shift()+u.nominalWidthX,v=!0),h.length==4){var J=h.shift(),K=h.shift(),N=h.shift(),A=h.shift(),z=e.CFF.glyphBySE(u,N),Y=e.CFF.glyphBySE(u,A);e.U._drawCFF(u.CharStrings[z],r,u,f,c),r.x=J,r.y=K,e.U._drawCFF(u.CharStrings[Y],r,u,f,c)}y&&(e.U.P.closePath(c),y=!1)}else if(U=="o19"||U=="o20")h.length%2!=0&&!v&&(g=h.shift()+f.nominalWidthX),d+=h.length>>1,h.length=0,v=!0,S+=d+7>>3;else if(U=="o21")h.length>2&&!v&&(g=h.shift()+f.nominalWidthX,v=!0),x+=h.pop(),E+=h.pop(),y&&e.U.P.closePath(c),e.U.P.moveTo(c,E,x),y=!0;else if(U=="o22")h.length>1&&!v&&(g=h.shift()+f.nominalWidthX,v=!0),E+=h.pop(),y&&e.U.P.closePath(c),e.U.P.moveTo(c,E,x),y=!0;else if(U=="o25"){for(;h.length>6;)E+=h.shift(),x+=h.shift(),e.U.P.lineTo(c,E,x);C=E+h.shift(),T=x+h.shift(),M=C+h.shift(),R=T+h.shift(),E=M+h.shift(),x=R+h.shift(),e.U.P.curveTo(c,C,T,M,R,E,x)}else if(U=="o26")for(h.length%2&&(E+=h.shift());h.length>0;)C=E,T=x+h.shift(),E=M=C+h.shift(),x=(R=T+h.shift())+h.shift(),e.U.P.curveTo(c,C,T,M,R,E,x);else if(U=="o27")for(h.length%2&&(x+=h.shift());h.length>0;)T=x,M=(C=E+h.shift())+h.shift(),R=T+h.shift(),E=M+h.shift(),x=R,e.U.P.curveTo(c,C,T,M,R,E,x);else if(U=="o10"||U=="o29"){var $=U=="o10"?f:u;if(h.length==0)console.debug("error: empty stack");else{var q=h.pop(),re=$.Subrs[q+$.Bias];r.x=E,r.y=x,r.nStems=d,r.haveWidth=v,r.width=g,r.open=y,e.U._drawCFF(re,r,u,f,c),E=r.x,x=r.y,d=r.nStems,v=r.haveWidth,g=r.width,y=r.open}}else if(U=="o30"||U=="o31"){var oe=h.length,de=(ye=0,U=="o31");for(ye+=oe-(H=-3&oe);ye<H;)de?(T=x,M=(C=E+h.shift())+h.shift(),x=(R=T+h.shift())+h.shift(),H-ye==5?(E=M+h.shift(),ye++):E=M,de=!1):(C=E,T=x+h.shift(),M=C+h.shift(),R=T+h.shift(),E=M+h.shift(),H-ye==5?(x=R+h.shift(),ye++):x=R,de=!0),e.U.P.curveTo(c,C,T,M,R,E,x),ye+=4}else{if((U+"").charAt(0)=="o")throw console.debug("Unknown operation: "+U,o),U;h.push(U)}}}r.x=E,r.y=x,r.nStems=d,r.haveWidth=v,r.width=g,r.open=y};var a=e,s={Typr:a};return i.Typr=a,i.default=s,Object.defineProperty(i,"__esModule",{value:!0}),i}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function fv(){return function(i){var e=Uint8Array,a=Uint16Array,s=Uint32Array,o=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=function(U,H){for(var G=new a(31),fe=0;fe<31;++fe)G[fe]=H+=1<<U[fe-1];var ee=new s(G[30]);for(fe=1;fe<30;++fe)for(var ye=G[fe];ye<G[fe+1];++ye)ee[ye]=ye-G[fe]<<5|fe;return[G,ee]},c=f(o,2),h=c[0],d=c[1];h[28]=258,d[258]=28;for(var v=f(r,0)[0],g=new a(32768),y=0;y<32768;++y){var S=(43690&y)>>>1|(21845&y)<<1;S=(61680&(S=(52428&S)>>>2|(13107&S)<<2))>>>4|(3855&S)<<4,g[y]=((65280&S)>>>8|(255&S)<<8)>>>1}var E=function(U,H,G){for(var fe=U.length,ee=0,ye=new a(H);ee<fe;++ee)++ye[U[ee]-1];var J,K=new a(H);for(ee=0;ee<H;++ee)K[ee]=K[ee-1]+ye[ee-1]<<1;{J=new a(1<<H);var N=15-H;for(ee=0;ee<fe;++ee)if(U[ee])for(var A=ee<<4|U[ee],z=H-U[ee],Y=K[U[ee]-1]++<<z,$=Y|(1<<z)-1;Y<=$;++Y)J[g[Y]>>>N]=A}return J},x=new e(288);for(y=0;y<144;++y)x[y]=8;for(y=144;y<256;++y)x[y]=9;for(y=256;y<280;++y)x[y]=7;for(y=280;y<288;++y)x[y]=8;var C=new e(32);for(y=0;y<32;++y)C[y]=5;var T=E(x,9),M=E(C,5),R=function(U){for(var H=U[0],G=1;G<U.length;++G)U[G]>H&&(H=U[G]);return H},b=function(U,H,G){var fe=H/8|0;return(U[fe]|U[fe+1]<<8)>>(7&H)&G},I=function(U,H){var G=H/8|0;return(U[G]|U[G+1]<<8|U[G+2]<<16)>>(7&H)},D=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],L=function(U,H,G){var fe=new Error(H||D[U]);if(fe.code=U,Error.captureStackTrace&&Error.captureStackTrace(fe,L),!G)throw fe;return fe},F=function(U,H,G){var fe=U.length;if(!fe||G&&!G.l&&fe<5)return H||new e(0);var ee=!H||G,ye=!G||G.i;G||(G={}),H||(H=new e(3*fe));var J,K=function(j){var pe=H.length;if(j>pe){var Se=new e(Math.max(2*pe,j));Se.set(H),H=Se}},N=G.f||0,A=G.p||0,z=G.b||0,Y=G.l,$=G.d,q=G.m,re=G.n,oe=8*fe;do{if(!Y){G.f=N=b(U,A,1);var de=b(U,A+1,3);if(A+=3,!de){var Te=U[(Le=((J=A)/8|0)+(7&J&&1)+4)-4]|U[Le-3]<<8,Re=Le+Te;if(Re>fe){ye&&L(0);break}ee&&K(z+Te),H.set(U.subarray(Le,Re),z),G.b=z+=Te,G.p=A=8*Re;continue}if(de==1)Y=T,$=M,q=9,re=5;else if(de==2){var ve=b(U,A,31)+257,ge=b(U,A+10,15)+4,He=ve+b(U,A+5,31)+1;A+=14;for(var Xe=new e(He),Ie=new e(19),De=0;De<ge;++De)Ie[u[De]]=b(U,A+3*De,7);A+=3*ge;var Ve=R(Ie),we=(1<<Ve)-1,je=E(Ie,Ve);for(De=0;De<He;){var Le,he=je[b(U,A,we)];if(A+=15&he,(Le=he>>>4)<16)Xe[De++]=Le;else{var qe=0,be=0;for(Le==16?(be=3+b(U,A,3),A+=2,qe=Xe[De-1]):Le==17?(be=3+b(U,A,7),A+=3):Le==18&&(be=11+b(U,A,127),A+=7);be--;)Xe[De++]=qe}}var Oe=Xe.subarray(0,ve),Me=Xe.subarray(ve);q=R(Oe),re=R(Me),Y=E(Oe,q),$=E(Me,re)}else L(1);if(A>oe){ye&&L(0);break}}ee&&K(z+131072);for(var vt=(1<<q)-1,Fe=(1<<re)-1,Ne=A;;Ne=A){var ze=(qe=Y[I(U,A)&vt])>>>4;if((A+=15&qe)>oe){ye&&L(0);break}if(qe||L(2),ze<256)H[z++]=ze;else{if(ze==256){Ne=A,Y=null;break}var $e=ze-254;if(ze>264){var xt=o[De=ze-257];$e=b(U,A,(1<<xt)-1)+h[De],A+=xt}var Ct=$[I(U,A)&Fe],it=Ct>>>4;if(Ct||L(3),A+=15&Ct,Me=v[it],it>3&&(xt=r[it],Me+=I(U,A)&(1<<xt)-1,A+=xt),A>oe){ye&&L(0);break}ee&&K(z+131072);for(var Ye=z+$e;z<Ye;z+=4)H[z]=H[z-Me],H[z+1]=H[z+1-Me],H[z+2]=H[z+2-Me],H[z+3]=H[z+3-Me];z=Ye}}G.l=Y,G.p=Ne,G.b=z,Y&&(N=1,G.m=q,G.d=$,G.n=re)}while(!N);return z==H.length?H:function(j,pe,Se){(Se==null||Se>j.length)&&(Se=j.length);var Ue=new(j instanceof a?a:j instanceof s?s:e)(Se-pe);return Ue.set(j.subarray(pe,Se)),Ue}(H,0,z)},O=new e(0),V=typeof TextDecoder<"u"&&new TextDecoder;try{V.decode(O,{stream:!0})}catch{}return i.convert_streams=function(U){var H=new DataView(U),G=0;function fe(){var ve=H.getUint16(G);return G+=2,ve}function ee(){var ve=H.getUint32(G);return G+=4,ve}function ye(ve){Te.setUint16(Re,ve),Re+=2}function J(ve){Te.setUint32(Re,ve),Re+=4}for(var K={signature:ee(),flavor:ee(),length:ee(),numTables:fe(),reserved:fe(),totalSfntSize:ee(),majorVersion:fe(),minorVersion:fe(),metaOffset:ee(),metaLength:ee(),metaOrigLength:ee(),privOffset:ee(),privLength:ee()},N=0;Math.pow(2,N)<=K.numTables;)N++;N--;for(var A=16*Math.pow(2,N),z=16*K.numTables-A,Y=12,$=[],q=0;q<K.numTables;q++)$.push({tag:ee(),offset:ee(),compLength:ee(),origLength:ee(),origChecksum:ee()}),Y+=16;var re,oe=new Uint8Array(12+16*$.length+$.reduce(function(ve,ge){return ve+ge.origLength+4},0)),de=oe.buffer,Te=new DataView(de),Re=0;return J(K.flavor),ye(K.numTables),ye(A),ye(N),ye(z),$.forEach(function(ve){J(ve.tag),J(ve.origChecksum),J(Y),J(ve.origLength),ve.outOffset=Y,(Y+=ve.origLength)%4!=0&&(Y+=4-Y%4)}),$.forEach(function(ve){var ge,He=U.slice(ve.offset,ve.offset+ve.compLength);if(ve.compLength!=ve.origLength){var Xe=new Uint8Array(ve.origLength);ge=new Uint8Array(He,2),F(ge,Xe)}else Xe=new Uint8Array(He);oe.set(Xe,ve.outOffset);var Ie=0;(Y=ve.outOffset+ve.origLength)%4!=0&&(Ie=4-Y%4),oe.set(new Uint8Array(Ie).buffer,ve.outOffset+ve.origLength),re=Y+Ie}),de.slice(0,re)},Object.defineProperty(i,"__esModule",{value:!0}),i}({}).convert_streams}function dv(i,e){const a={M:2,L:2,Q:4,C:6,Z:0},s={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},o=1,r=2,u=4,f=8,c=16,h=32;let d;function v(D){if(!d){const L={R:r,L:o,D:u,C:c,U:h,T:f};d=new Map;for(let F in s){let O=0;s[F].split(",").forEach(V=>{let[U,H]=V.split("+");U=parseInt(U,36),H=H?parseInt(H,36):0,d.set(O+=U,L[F]);for(let G=H;G--;)d.set(++O,L[F])})}}return d.get(D)||h}const g=1,y=2,S=3,E=4,x=[null,"isol","init","fina","medi"];function C(D){const L=new Uint8Array(D.length);let F=h,O=g,V=-1;for(let U=0;U<D.length;U++){const H=D.codePointAt(U);let G=v(H)|0,fe=g;G&f||(F&(o|u|c)?G&(r|u|c)?(fe=S,(O===g||O===S)&&L[V]++):G&(o|h)&&(O===y||O===E)&&L[V]--:F&(r|h)&&(O===y||O===E)&&L[V]--,O=L[U]=fe,F=G,V=U,H>65535&&U++)}return L}function T(D,L){const F=[];for(let V=0;V<L.length;V++){const U=L.codePointAt(V);U>65535&&V++,F.push(i.U.codeToGlyph(D,U))}const O=D.GSUB;if(O){const{lookupList:V,featureList:U}=O;let H;const G=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,fe=[];U.forEach(ee=>{if(G.test(ee.tag))for(let ye=0;ye<ee.tab.length;ye++){if(fe[ee.tab[ye]])continue;fe[ee.tab[ye]]=!0;const J=V[ee.tab[ye]],K=/^(isol|init|fina|medi)$/.test(ee.tag);K&&!H&&(H=C(L));for(let N=0;N<F.length;N++)(!H||!K||x[H[N]]===ee.tag)&&i.U._applySubs(F,N,J,V)}})}return F}function M(D,L){const F=new Int16Array(L.length*3);let O=0;for(;O<L.length;O++){const G=L[O];if(G===-1)continue;F[O*3+2]=D.hmtx.aWidth[G];const fe=D.GPOS;if(fe){const ee=fe.lookupList;for(let ye=0;ye<ee.length;ye++){const J=ee[ye];for(let K=0;K<J.tabs.length;K++){const N=J.tabs[K];if(J.ltype===1){if(i._lctf.coverageIndex(N.coverage,G)!==-1&&N.pos){H(N.pos,O);break}}else if(J.ltype===2){let A=null,z=V();if(z!==-1){const Y=i._lctf.coverageIndex(N.coverage,L[z]);if(Y!==-1){if(N.fmt===1){const $=N.pairsets[Y];for(let q=0;q<$.length;q++)$[q].gid2===G&&(A=$[q])}else if(N.fmt===2){const $=i.U._getGlyphClass(L[z],N.classDef1),q=i.U._getGlyphClass(G,N.classDef2);A=N.matrix[$][q]}if(A){A.val1&&H(A.val1,z),A.val2&&H(A.val2,O);break}}}}else if(J.ltype===4){const A=i._lctf.coverageIndex(N.markCoverage,G);if(A!==-1){const z=V(U),Y=z===-1?-1:i._lctf.coverageIndex(N.baseCoverage,L[z]);if(Y!==-1){const $=N.markArray[A],q=N.baseArray[Y][$.markClass];F[O*3]=q.x-$.x+F[z*3]-F[z*3+2],F[O*3+1]=q.y-$.y+F[z*3+1];break}}}else if(J.ltype===6){const A=i._lctf.coverageIndex(N.mark1Coverage,G);if(A!==-1){const z=V();if(z!==-1){const Y=L[z];if(R(D,Y)===3){const $=i._lctf.coverageIndex(N.mark2Coverage,Y);if($!==-1){const q=N.mark1Array[A],re=N.mark2Array[$][q.markClass];F[O*3]=re.x-q.x+F[z*3]-F[z*3+2],F[O*3+1]=re.y-q.y+F[z*3+1];break}}}}}}}}else if(D.kern&&!D.cff){const ee=V();if(ee!==-1){const ye=D.kern.glyph1.indexOf(L[ee]);if(ye!==-1){const J=D.kern.rval[ye].glyph2.indexOf(G);J!==-1&&(F[ee*3+2]+=D.kern.rval[ye].vals[J])}}}}return F;function V(G){for(let fe=O-1;fe>=0;fe--)if(L[fe]!==-1&&(!G||G(L[fe])))return fe;return-1}function U(G){return R(D,G)===1}function H(G,fe){for(let ee=0;ee<3;ee++)F[fe*3+ee]+=G[ee]||0}}function R(D,L){const F=D.GDEF&&D.GDEF.glyphClassDef;return F?i.U._getGlyphClass(L,F):0}function b(...D){for(let L=0;L<D.length;L++)if(typeof D[L]=="number")return D[L]}function I(D){const L=Object.create(null),F=D["OS/2"],O=D.hhea,V=D.head.unitsPerEm,U=b(F&&F.sTypoAscender,O&&O.ascender,V),H={unitsPerEm:V,ascender:U,descender:b(F&&F.sTypoDescender,O&&O.descender,0),capHeight:b(F&&F.sCapHeight,U),xHeight:b(F&&F.sxHeight,U),lineGap:b(F&&F.sTypoLineGap,O&&O.lineGap),supportsCodePoint(G){return i.U.codeToGlyph(D,G)>0},forEachGlyph(G,fe,ee,ye){let J=0;const K=1/H.unitsPerEm*fe,N=T(D,G);let A=0;const z=M(D,N);return N.forEach((Y,$)=>{if(Y!==-1){let q=L[Y];if(!q){const{cmds:re,crds:oe}=i.U.glyphToPath(D,Y);let de="",Te=0;for(let Xe=0,Ie=re.length;Xe<Ie;Xe++){const De=a[re[Xe]];de+=re[Xe];for(let Ve=1;Ve<=De;Ve++)de+=(Ve>1?",":"")+oe[Te++]}let Re,ve,ge,He;if(oe.length){Re=ve=1/0,ge=He=-1/0;for(let Xe=0,Ie=oe.length;Xe<Ie;Xe+=2){let De=oe[Xe],Ve=oe[Xe+1];De<Re&&(Re=De),Ve<ve&&(ve=Ve),De>ge&&(ge=De),Ve>He&&(He=Ve)}}else Re=ge=ve=He=0;q=L[Y]={index:Y,advanceWidth:D.hmtx.aWidth[Y],xMin:Re,yMin:ve,xMax:ge,yMax:He,path:de}}ye.call(null,q,J+z[$*3]*K,z[$*3+1]*K,A),J+=z[$*3+2]*K,ee&&(J+=ee*fe)}A+=G.codePointAt(A)>65535?2:1}),J}};return H}return function(L){const F=new Uint8Array(L,0,4),O=i._bin.readASCII(F,0,4);if(O==="wOFF")L=e(L);else if(O==="wOF2")throw new Error("woff2 fonts not supported");return I(i.parse(L)[0])}}const hv=ro({name:"Typr Font Parser",dependencies:[cv,fv,dv],init(i,e,a){const s=i(),o=e();return a(s,o)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function pv(){return function(i){var e=function(){this.buckets=new Map};e.prototype.add=function(M){var R=M>>5;this.buckets.set(R,(this.buckets.get(R)||0)|1<<(31&M))},e.prototype.has=function(M){var R=this.buckets.get(M>>5);return R!==void 0&&(R&1<<(31&M))!=0},e.prototype.serialize=function(){var M=[];return this.buckets.forEach(function(R,b){M.push((+b).toString(36)+":"+R.toString(36))}),M.join(",")},e.prototype.deserialize=function(M){var R=this;this.buckets.clear(),M.split(",").forEach(function(b){var I=b.split(":");R.buckets.set(parseInt(I[0],36),parseInt(I[1],36))})};var a=Math.pow(2,8),s=a-1,o=~s;function r(M){var R=function(I){return I&o}(M).toString(16),b=function(I){return(I&o)+a-1}(M).toString(16);return"codepoint-index/plane"+(M>>16)+"/"+R+"-"+b+".json"}function u(M,R){var b=M&s,I=R.codePointAt(b/6|0);return((I=(I||48)-48)&1<<b%6)!=0}function f(M,R){var b;(b=M,b.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(I){return I.split("-").map(function(D){return parseInt(D.trim(),16)})})).forEach(function(I){var D=I[0],L=I[1];L===void 0&&(L=D),R(D,L)})}function c(M,R){f(M,function(b,I){for(var D=b;D<=I;D++)R(D)})}var h={},d={},v=new WeakMap,g="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function y(M){var R=v.get(M);return R||(R=new e,c(M.ranges,function(b){return R.add(b)}),v.set(M,R)),R}var S,E=new Map;function x(M,R,b){return M[R]?R:M[b]?b:function(I){for(var D in I)return D}(M)}function C(M,R){var b=R;if(!M.includes(b)){b=1/0;for(var I=0;I<M.length;I++)Math.abs(M[I]-R)<Math.abs(b-R)&&(b=M[I])}return b}function T(M){return S||(S=new Set,c("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(R){S.add(R)})),S.has(M)}return i.CodePointSet=e,i.clearCache=function(){h={},d={}},i.getFontsForString=function(M,R){R===void 0&&(R={});var b,I=R.lang;I===void 0&&(I=new RegExp("\\p{Script=Hangul}","u").test(b=M)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(b)?"ja":"en");var D=R.category;D===void 0&&(D="sans-serif");var L=R.style;L===void 0&&(L="normal");var F=R.weight;F===void 0&&(F=400);var O=(R.dataUrl||g).replace(/\/$/g,""),V=new Map,U=new Uint8Array(M.length),H={},G={},fe=new Array(M.length),ee=new Map,ye=!1;function J(A){var z=E.get(A);return z||(z=fetch(O+"/"+A).then(function(Y){if(!Y.ok)throw new Error(Y.statusText);return Y.json().then(function($){if(!Array.isArray($)||$[0]!==1)throw new Error("Incorrect schema version; need 1, got "+$[0]);return $[1]})}).catch(function(Y){if(O!==g)return ye||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+O+'", trying default CDN. '+Y.message),ye=!0),O=g,E.delete(A),J(A);throw Y}),E.set(A,z)),z}for(var K=function(A){var z=M.codePointAt(A),Y=r(z);fe[A]=Y,h[Y]||ee.has(Y)||ee.set(Y,J(Y).then(function($){h[Y]=$})),z>65535&&(A++,N=A)},N=0;N<M.length;N++)K(N);return Promise.all(ee.values()).then(function(){ee.clear();for(var A=function(Y){var $=M.codePointAt(Y),q=null,re=h[fe[Y]],oe=void 0;for(var de in re){var Te=G[de];if(Te===void 0&&(Te=G[de]=new RegExp(de).test(I||"en")),Te){for(var Re in oe=de,re[de])if(u($,re[de][Re])){q=Re;break}break}}if(!q){e:for(var ve in re)if(ve!==oe){for(var ge in re[ve])if(u($,re[ve][ge])){q=ge;break e}}}q||(console.debug("No font coverage for U+"+$.toString(16)),q="latin"),fe[Y]=q,d[q]||ee.has(q)||ee.set(q,J("font-meta/"+q+".json").then(function(He){d[q]=He})),$>65535&&(Y++,z=Y)},z=0;z<M.length;z++)A(z);return Promise.all(ee.values())}).then(function(){for(var A,z=null,Y=0;Y<M.length;Y++){var $=M.codePointAt(Y);if(z&&(T($)||y(z).has($)))U[Y]=U[Y-1];else{z=d[fe[Y]];var q=H[z.id];if(!q){var re=z.typeforms,oe=x(re,D,"sans-serif"),de=x(re[oe],L,"normal"),Te=C((A=re[oe])===null||A===void 0?void 0:A[de],F);q=H[z.id]=O+"/font-files/"+z.id+"/"+oe+"."+de+"."+Te+".woff"}var Re=V.get(q);Re==null&&(Re=V.size,V.set(q,Re)),U[Y]=Re}$>65535&&(Y++,U[Y]=U[Y-1])}return{fontUrls:Array.from(V.keys()),chars:U}})},Object.defineProperty(i,"__esModule",{value:!0}),i}({})}function vv(i,e){const a=Object.create(null),s=Object.create(null);function o(u,f){const c=h=>{console.error(`Failure loading font ${u}`,h)};try{const h=new XMLHttpRequest;h.open("get",u,!0),h.responseType="arraybuffer",h.onload=function(){if(h.status>=400)c(new Error(h.statusText));else if(h.status>0)try{const d=i(h.response);d.src=u,f(d)}catch(d){c(d)}},h.onerror=c,h.send()}catch(h){c(h)}}function r(u,f){let c=a[u];c?f(c):s[u]?s[u].push(f):(s[u]=[f],o(u,h=>{h.src=u,a[u]=h,s[u].forEach(d=>d(h)),delete s[u]}))}return function(u,f,{lang:c,fonts:h=[],style:d="normal",weight:v="normal",unicodeFontsURL:g}={}){const y=new Uint8Array(u.length),S=[];u.length||T();const E=new Map,x=[];if(d!=="italic"&&(d="normal"),typeof v!="number"&&(v=v==="bold"?700:400),h&&!Array.isArray(h)&&(h=[h]),h=h.slice().filter(R=>!R.lang||R.lang.test(c)).reverse(),h.length){let D=0;(function L(F=0){for(let O=F,V=u.length;O<V;O++){const U=u.codePointAt(O);if(D===1&&S[y[O-1]].supportsCodePoint(U)||/\s/.test(u[O]))y[O]=y[O-1],D===2&&(x[x.length-1][1]=O);else for(let H=y[O],G=h.length;H<=G;H++)if(H===G){const fe=D===2?x[x.length-1]:x[x.length]=[O,O];fe[1]=O,D=2}else{y[O]=H;const{src:fe,unicodeRange:ee}=h[H];if(!ee||M(U,ee)){const ye=a[fe];if(!ye){r(fe,()=>{L(O)});return}if(ye.supportsCodePoint(U)){let J=E.get(ye);typeof J!="number"&&(J=S.length,S.push(ye),E.set(ye,J)),y[O]=J,D=1;break}}}U>65535&&O+1<V&&(y[O+1]=y[O],O++,D===2&&(x[x.length-1][1]=O))}C()})()}else x.push([0,u.length-1]),C();function C(){if(x.length){const R=x.map(b=>u.substring(b[0],b[1]+1)).join(`
`);e.getFontsForString(R,{lang:c||void 0,style:d,weight:v,dataUrl:g}).then(({fontUrls:b,chars:I})=>{const D=S.length;let L=0;x.forEach(O=>{for(let V=0,U=O[1]-O[0];V<=U;V++)y[O[0]+V]=I[L++]+D;L++});let F=0;b.forEach((O,V)=>{r(O,U=>{S[V+D]=U,++F===b.length&&T()})})})}else T()}function T(){f({chars:y,fonts:S})}function M(R,b){for(let I=0;I<b.length;I++){const[D,L=D]=b[I];if(D<=R&&R<=L)return!0}return!1}}}const gv=ro({name:"FontResolver",dependencies:[vv,hv,pv],init(i,e,a){return i(e,a())}});function mv(i,e){const s=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,o="[^\\S\\u00A0]",r=new RegExp(`${o}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function u({text:S,lang:E,fonts:x,style:C,weight:T,preResolvedFonts:M,unicodeFontsURL:R},b){const I=({chars:D,fonts:L})=>{let F,O;const V=[];for(let U=0;U<D.length;U++)D[U]!==O?(O=D[U],V.push(F={start:U,end:U,fontObj:L[D[U]]})):F.end=U;b(V)};M?I(M):i(S,I,{lang:E,fonts:x,style:C,weight:T,unicodeFontsURL:R})}function f({text:S="",font:E,lang:x,sdfGlyphSize:C=64,fontSize:T=400,fontWeight:M=1,fontStyle:R="normal",letterSpacing:b=0,lineHeight:I="normal",maxWidth:D=1/0,direction:L,textAlign:F="left",textIndent:O=0,whiteSpace:V="normal",overflowWrap:U="normal",anchorX:H=0,anchorY:G=0,metricsOnly:fe=!1,unicodeFontsURL:ee,preResolvedFonts:ye=null,includeCaretPositions:J=!1,chunkedBoundsSize:K=8192,colorRanges:N=null},A){const z=v(),Y={fontLoad:0,typesetting:0};S.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),S=S.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),T=+T,b=+b,D=+D,I=I||"normal",O=+O,u({text:S,lang:x,style:R,weight:M,fonts:typeof E=="string"?[{src:E}]:E,unicodeFontsURL:ee,preResolvedFonts:ye},$=>{Y.fontLoad=v()-z;const q=isFinite(D);let re=null,oe=null,de=null,Te=null,Re=null,ve=null,ge=null,He=null,Xe=0,Ie=0,De=V!=="nowrap";const Ve=new Map,we=v();let je=O,Le=0,he=new g;const qe=[he];$.forEach(Fe=>{const{fontObj:Ne}=Fe,{ascender:ze,descender:$e,unitsPerEm:xt,lineGap:Ct,capHeight:it,xHeight:Ye}=Ne;let j=Ve.get(Ne);if(!j){const ue=T/xt,et=I==="normal"?(ze-$e+Ct)*ue:I*T,ln=(et-(ze-$e)*ue)/2,Et=Math.min(et,(ze-$e)*ue),rt=(ze+$e)/2*ue+Et/2;j={index:Ve.size,src:Ne.src,fontObj:Ne,fontSizeMult:ue,unitsPerEm:xt,ascender:ze*ue,descender:$e*ue,capHeight:it*ue,xHeight:Ye*ue,lineHeight:et,baseline:-ln-ze*ue,caretTop:rt,caretBottom:rt-Et},Ve.set(Ne,j)}const{fontSizeMult:pe}=j,Se=S.slice(Fe.start,Fe.end+1);let Ue,Je;Ne.forEachGlyph(Se,T,b,(ue,et,ln,Et)=>{et+=Le,Et+=Fe.start,Ue=et,Je=ue;const rt=S.charAt(Et),Tt=ue.advanceWidth*pe,bt=he.count;let tt;if("isEmpty"in ue||(ue.isWhitespace=!!rt&&new RegExp(o).test(rt),ue.canBreakAfter=!!rt&&r.test(rt),ue.isEmpty=ue.xMin===ue.xMax||ue.yMin===ue.yMax||s.test(rt)),!ue.isWhitespace&&!ue.isEmpty&&Ie++,De&&q&&!ue.isWhitespace&&et+Tt+je>D&&bt){if(he.glyphAt(bt-1).glyphObj.canBreakAfter)tt=new g,je=-et;else for(let Nt=bt;Nt--;)if(Nt===0&&U==="break-word"){tt=new g,je=-et;break}else if(he.glyphAt(Nt).glyphObj.canBreakAfter){tt=he.splitAt(Nt+1);const rn=tt.glyphAt(0).x;je-=rn;for(let Vt=tt.count;Vt--;)tt.glyphAt(Vt).x-=rn;break}tt&&(he.isSoftWrapped=!0,he=tt,qe.push(he),Xe=D)}let kt=he.glyphAt(he.count);kt.glyphObj=ue,kt.x=et+je,kt.y=ln,kt.width=Tt,kt.charIndex=Et,kt.fontData=j,rt===`
`&&(he=new g,qe.push(he),je=-(et+Tt+b*T)+O)}),Le=Ue+Je.advanceWidth*pe+b*T});let be=0;qe.forEach(Fe=>{let Ne=!0;for(let ze=Fe.count;ze--;){const $e=Fe.glyphAt(ze);Ne&&!$e.glyphObj.isWhitespace&&(Fe.width=$e.x+$e.width,Fe.width>Xe&&(Xe=Fe.width),Ne=!1);let{lineHeight:xt,capHeight:Ct,xHeight:it,baseline:Ye}=$e.fontData;xt>Fe.lineHeight&&(Fe.lineHeight=xt);const j=Ye-Fe.baseline;j<0&&(Fe.baseline+=j,Fe.cap+=j,Fe.ex+=j),Fe.cap=Math.max(Fe.cap,Fe.baseline+Ct),Fe.ex=Math.max(Fe.ex,Fe.baseline+it)}Fe.baseline-=be,Fe.cap-=be,Fe.ex-=be,be+=Fe.lineHeight});let Oe=0,Me=0;if(H&&(typeof H=="number"?Oe=-H:typeof H=="string"&&(Oe=-Xe*(H==="left"?0:H==="center"?.5:H==="right"?1:h(H)))),G&&(typeof G=="number"?Me=-G:typeof G=="string"&&(Me=G==="top"?0:G==="top-baseline"?-qe[0].baseline:G==="top-cap"?-qe[0].cap:G==="top-ex"?-qe[0].ex:G==="middle"?be/2:G==="bottom"?be:G==="bottom-baseline"?-qe[qe.length-1].baseline:h(G)*be)),!fe){const Fe=e.getEmbeddingLevels(S,L);re=new Uint16Array(Ie),oe=new Uint8Array(Ie),de=new Float32Array(Ie*2),Te={},ge=[1/0,1/0,-1/0,-1/0],He=[],J&&(ve=new Float32Array(S.length*4)),N&&(Re=new Uint8Array(Ie*3));let Ne=0,ze=-1,$e=-1,xt,Ct;if(qe.forEach((it,Ye)=>{let{count:j,width:pe}=it;if(j>0){let Se=0;for(let Et=j;Et--&&it.glyphAt(Et).glyphObj.isWhitespace;)Se++;let Ue=0,Je=0;if(F==="center")Ue=(Xe-pe)/2;else if(F==="right")Ue=Xe-pe;else if(F==="justify"&&it.isSoftWrapped){let Et=0;for(let rt=j-Se;rt--;)it.glyphAt(rt).glyphObj.isWhitespace&&Et++;Je=(Xe-pe)/Et}if(Je||Ue){let Et=0;for(let rt=0;rt<j;rt++){let Tt=it.glyphAt(rt);const bt=Tt.glyphObj;Tt.x+=Ue+Et,Je!==0&&bt.isWhitespace&&rt<j-Se&&(Et+=Je,Tt.width+=Je)}}const ue=e.getReorderSegments(S,Fe,it.glyphAt(0).charIndex,it.glyphAt(it.count-1).charIndex);for(let Et=0;Et<ue.length;Et++){const[rt,Tt]=ue[Et];let bt=1/0,tt=-1/0;for(let kt=0;kt<j;kt++)if(it.glyphAt(kt).charIndex>=rt){let Nt=kt,rn=kt;for(;rn<j;rn++){let Vt=it.glyphAt(rn);if(Vt.charIndex>Tt)break;rn<j-Se&&(bt=Math.min(bt,Vt.x),tt=Math.max(tt,Vt.x+Vt.width))}for(let Vt=Nt;Vt<rn;Vt++){const Rn=it.glyphAt(Vt);Rn.x=tt-(Rn.x+Rn.width-bt)}break}}let et;const ln=Et=>et=Et;for(let Et=0;Et<j;Et++){const rt=it.glyphAt(Et);et=rt.glyphObj;const Tt=et.index,bt=Fe.levels[rt.charIndex]&1;if(bt){const tt=e.getMirroredCharacter(S[rt.charIndex]);tt&&rt.fontData.fontObj.forEachGlyph(tt,0,0,ln)}if(J){const{charIndex:tt,fontData:kt}=rt,Nt=rt.x+Oe,rn=rt.x+rt.width+Oe;ve[tt*4]=bt?rn:Nt,ve[tt*4+1]=bt?Nt:rn,ve[tt*4+2]=it.baseline+kt.caretBottom+Me,ve[tt*4+3]=it.baseline+kt.caretTop+Me;const Vt=tt-ze;Vt>1&&d(ve,ze,Vt),ze=tt}if(N){const{charIndex:tt}=rt;for(;tt>$e;)$e++,N.hasOwnProperty($e)&&(Ct=N[$e])}if(!et.isWhitespace&&!et.isEmpty){const tt=Ne++,{fontSizeMult:kt,src:Nt,index:rn}=rt.fontData,Vt=Te[Nt]||(Te[Nt]={});Vt[Tt]||(Vt[Tt]={path:et.path,pathBounds:[et.xMin,et.yMin,et.xMax,et.yMax]});const Rn=rt.x+Oe,wn=rt.y+it.baseline+Me;de[tt*2]=Rn,de[tt*2+1]=wn;const In=Rn+et.xMin*kt,xn=wn+et.yMin*kt,un=Rn+et.xMax*kt,st=wn+et.yMax*kt;In<ge[0]&&(ge[0]=In),xn<ge[1]&&(ge[1]=xn),un>ge[2]&&(ge[2]=un),st>ge[3]&&(ge[3]=st),tt%K===0&&(xt={start:tt,end:tt,rect:[1/0,1/0,-1/0,-1/0]},He.push(xt)),xt.end++;const on=xt.rect;if(In<on[0]&&(on[0]=In),xn<on[1]&&(on[1]=xn),un>on[2]&&(on[2]=un),st>on[3]&&(on[3]=st),re[tt]=Tt,oe[tt]=rn,N){const yr=tt*3;Re[yr]=Ct>>16&255,Re[yr+1]=Ct>>8&255,Re[yr+2]=Ct&255}}}}}),ve){const it=S.length-ze;it>1&&d(ve,ze,it)}}const vt=[];Ve.forEach(({index:Fe,src:Ne,unitsPerEm:ze,ascender:$e,descender:xt,lineHeight:Ct,capHeight:it,xHeight:Ye})=>{vt[Fe]={src:Ne,unitsPerEm:ze,ascender:$e,descender:xt,lineHeight:Ct,capHeight:it,xHeight:Ye}}),Y.typesetting=v()-we,A({glyphIds:re,glyphFontIndices:oe,glyphPositions:de,glyphData:Te,fontData:vt,caretPositions:ve,glyphColors:Re,chunkedBounds:He,fontSize:T,topBaseline:Me+qe[0].baseline,blockBounds:[Oe,Me-be,Oe+Xe,Me],visibleBounds:ge,timings:Y})})}function c(S,E){f({...S,metricsOnly:!0},x=>{const[C,T,M,R]=x.blockBounds;E({width:M-C,height:R-T})})}function h(S){let E=S.match(/^([\d.]+)%$/),x=E?parseFloat(E[1]):NaN;return isNaN(x)?0:x/100}function d(S,E,x){const C=S[E*4],T=S[E*4+1],M=S[E*4+2],R=S[E*4+3],b=(T-C)/x;for(let I=0;I<x;I++){const D=(E+I)*4;S[D]=C+b*I,S[D+1]=C+b*(I+1),S[D+2]=M,S[D+3]=R}}function v(){return(self.performance||Date).now()}function g(){this.data=[]}const y=["glyphObj","x","y","width","charIndex","fontData"];return g.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/y.length)},glyphAt(S){let E=g.flyweight;return E.data=this.data,E.index=S,E},splitAt(S){let E=new g;return E.data=this.data.splice(S*y.length),E}},g.flyweight=y.reduce((S,E,x,C)=>(Object.defineProperty(S,E,{get(){return this.data[this.index*y.length+x]},set(T){this.data[this.index*y.length+x]=T}}),S),{data:null,index:0}),{typeset:f,measure:c}}const xi=()=>(self.performance||Date).now(),as=Od();let uf;function yv(i,e,a,s,o,r,u,f,c,h,d=!0){return d?xv(i,e,a,s,o,r,u,f,c,h).then(null,v=>(uf||(console.warn("WebGL SDF generation failed, falling back to JS",v),uf=!0),ff(i,e,a,s,o,r,u,f,c,h))):ff(i,e,a,s,o,r,u,f,c,h)}const Qa=[],wv=5;let Dl=0;function Fd(){const i=xi();for(;Qa.length&&xi()-i<wv;)Qa.shift()();Dl=Qa.length?setTimeout(Fd,0):0}const xv=(...i)=>new Promise((e,a)=>{Qa.push(()=>{const s=xi();try{as.webgl.generateIntoCanvas(...i),e({timing:xi()-s})}catch(o){a(o)}}),Dl||(Dl=setTimeout(Fd,0))}),Sv=4,_v=2e3,cf={};let Cv=0;function ff(i,e,a,s,o,r,u,f,c,h){const d="TroikaTextSDFGenerator_JS_"+Cv++%Sv;let v=cf[d];return v||(v=cf[d]={workerModule:ro({name:d,workerId:d,dependencies:[Od,xi],init(g,y){const S=g().javascript.generate;return function(...E){const x=y();return{textureData:S(...E),timing:y()-x}}},getTransferables(g){return[g.textureData.buffer]}}),requests:0,idleTimer:null}),v.requests++,clearTimeout(v.idleTimer),v.workerModule(i,e,a,s,o,r).then(({textureData:g,timing:y})=>{const S=xi(),E=new Uint8Array(g.length*4);for(let x=0;x<g.length;x++)E[x*4+h]=g[x];return as.webglUtils.renderImageData(u,E,f,c,i,e,1<<3-h),y+=xi()-S,--v.requests===0&&(v.idleTimer=setTimeout(()=>{ev(d)},_v)),{timing:y}})}function Ev(i){i._warm||(as.webgl.isSupported(i),i._warm=!0)}const Tv=as.webglUtils.resizeWebGLCanvasWithoutClearing,Xi={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},kv=new ns;function Wi(){return(self.performance||Date).now()}const df=Object.create(null);function jd(i,e){i=Rv({},i);const a=Wi(),{defaultFontURL:s}=Xi,o=[];if(s&&o.push({label:"default",src:hf(s)}),i.font&&o.push({label:"user",src:hf(i.font)}),i.font=o,i.text=""+i.text,i.sdfGlyphSize=i.sdfGlyphSize||Xi.sdfGlyphSize,i.unicodeFontsURL=i.unicodeFontsURL||Xi.unicodeFontsURL,i.colorRanges!=null){let g={};for(let y in i.colorRanges)if(i.colorRanges.hasOwnProperty(y)){let S=i.colorRanges[y];typeof S!="number"&&(S=kv.set(S).getHex()),g[y]=S}i.colorRanges=g}Object.freeze(i);const{textureWidth:r,sdfExponent:u}=Xi,{sdfGlyphSize:f}=i,c=r/f*4;let h=df[f];if(!h){const g=document.createElement("canvas");g.width=r,g.height=f*256/c,h=df[f]={glyphCount:0,sdfGlyphSize:f,sdfCanvas:g,sdfTexture:new zr(g,void 0,void 0,void 0,Vn,Vn),contextLost:!1,glyphsByFont:new Map},h.sdfTexture.generateMipmaps=!1,Mv(h)}const{sdfTexture:d,sdfCanvas:v}=h;Pv(i).then(g=>{const{glyphIds:y,glyphFontIndices:S,fontData:E,glyphPositions:x,fontSize:C,timings:T}=g,M=[],R=new Float32Array(y.length*4);let b=0,I=0;const D=Wi(),L=E.map(H=>{let G=h.glyphsByFont.get(H.src);return G||h.glyphsByFont.set(H.src,G=new Map),G});y.forEach((H,G)=>{const fe=S[G],{src:ee,unitsPerEm:ye}=E[fe];let J=L[fe].get(H);if(!J){const{path:Y,pathBounds:$}=g.glyphData[ee][H],q=Math.max($[2]-$[0],$[3]-$[1])/f*(Xi.sdfMargin*f+.5),re=h.glyphCount++,oe=[$[0]-q,$[1]-q,$[2]+q,$[3]+q];L[fe].set(H,J={path:Y,atlasIndex:re,sdfViewBox:oe}),M.push(J)}const{sdfViewBox:K}=J,N=x[I++],A=x[I++],z=C/ye;R[b++]=N+K[0]*z,R[b++]=A+K[1]*z,R[b++]=N+K[2]*z,R[b++]=A+K[3]*z,y[G]=J.atlasIndex}),T.quads=(T.quads||0)+(Wi()-D);const F=Wi();T.sdf={};const O=v.height,V=Math.ceil(h.glyphCount/c),U=Math.pow(2,Math.ceil(Math.log2(V*f)));U>O&&(console.info(`Increasing SDF texture size ${O}->${U}`),Tv(v,r,U),d.dispose()),Promise.all(M.map(H=>Nd(H,h,i.gpuAccelerateSDF).then(({timing:G})=>{T.sdf[H.atlasIndex]=G}))).then(()=>{M.length&&!h.contextLost&&(zd(h),d.needsUpdate=!0),T.sdfTotal=Wi()-F,T.total=Wi()-a,e(Object.freeze({parameters:i,sdfTexture:d,sdfGlyphSize:f,sdfExponent:u,glyphBounds:R,glyphAtlasIndices:y,glyphColors:g.glyphColors,caretPositions:g.caretPositions,chunkedBounds:g.chunkedBounds,ascender:g.ascender,descender:g.descender,lineHeight:g.lineHeight,capHeight:g.capHeight,xHeight:g.xHeight,topBaseline:g.topBaseline,blockBounds:g.blockBounds,visibleBounds:g.visibleBounds,timings:g.timings}))})}),Promise.resolve().then(()=>{h.contextLost||Ev(v)})}function Nd({path:i,atlasIndex:e,sdfViewBox:a},{sdfGlyphSize:s,sdfCanvas:o,contextLost:r},u){if(r)return Promise.resolve({timing:-1});const{textureWidth:f,sdfExponent:c}=Xi,h=Math.max(a[2]-a[0],a[3]-a[1]),d=Math.floor(e/4),v=d%(f/s)*s,g=Math.floor(d/(f/s))*s,y=e%4;return yv(s,s,i,a,h,c,o,v,g,y,u)}function Mv(i){const e=i.sdfCanvas;e.addEventListener("webglcontextlost",a=>{console.log("Context Lost",a),a.preventDefault(),i.contextLost=!0}),e.addEventListener("webglcontextrestored",a=>{console.log("Context Restored",a),i.contextLost=!1;const s=[];i.glyphsByFont.forEach(o=>{o.forEach(r=>{s.push(Nd(r,i,!0))})}),Promise.all(s).then(()=>{zd(i),i.sdfTexture.needsUpdate=!0})})}function bv({font:i,characters:e,sdfGlyphSize:a},s){let o=Array.isArray(e)?e.join(`
`):""+e;jd({font:i,sdfGlyphSize:a,text:o},s)}function Rv(i,e){for(let a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);return i}let Ba;function hf(i){return Ba||(Ba=typeof document>"u"?{}:document.createElement("a")),Ba.href=i,Ba.href}function zd(i){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:a}=i,{width:s,height:o}=e,r=i.sdfCanvas.getContext("webgl");let u=a.image.data;(!u||u.length!==s*o*4)&&(u=new Uint8Array(s*o*4),a.image={width:s,height:o,data:u},a.flipY=!1,a.isDataTexture=!0),r.readPixels(0,0,s,o,r.RGBA,r.UNSIGNED_BYTE,u)}}const Iv=ro({name:"Typesetter",dependencies:[mv,gv,nv],init(i,e,a){return i(e,a())}}),Pv=ro({name:"Typesetter",dependencies:[Iv],init(i){return function(e){return new Promise(a=>{i.typeset(e,a)})}},getTransferables(i){const e=[];for(let a in i)i[a]&&i[a].buffer&&e.push(i[a].buffer);return e}}),pf={};function Lv(i){let e=pf[i];if(!e){const a=new no(1,1,i,i),s=a.clone(),o=a.attributes,r=s.attributes,u=new Nf,f=o.uv.count;for(let c=0;c<f;c++)r.position.array[c*3]*=-1,r.normal.array[c*3+2]*=-1;["position","normal","uv"].forEach(c=>{u.setAttribute(c,new mh([...o[c].array,...r[c].array],o[c].itemSize))}),u.setIndex([...a.index.array,...s.index.array.map(c=>c+f)]),u.translate(.5,.5,0),e=pf[i]=u}return e}const Av="aTroikaGlyphBounds",vf="aTroikaGlyphIndex",Uv="aTroikaGlyphColor";class Ov extends ch{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new fh,this.boundingBox=new dh}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const a=this.getIndex().count;this.setDrawRange(e===hh?a/2:0,e===Gf?a:a/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let a=Lv(e);["position","normal","uv"].forEach(s=>{this.attributes[s]=a.attributes[s].clone()}),this.setIndex(a.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,a,s,o,r){yl(this,Av,e,4),yl(this,vf,a,1),yl(this,Uv,r,3),this._blockBounds=s,this._chunkedBounds=o,this.instanceCount=a.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:a,boundingBox:s}=this;if(a){const{PI:o,floor:r,min:u,max:f,sin:c,cos:h}=Math,d=o/2,v=o*2,g=Math.abs(a),y=e[0]/g,S=e[2]/g,E=r((y+d)/v)!==r((S+d)/v)?-g:u(c(y)*g,c(S)*g),x=r((y-d)/v)!==r((S-d)/v)?g:f(c(y)*g,c(S)*g),C=r((y+o)/v)!==r((S+o)/v)?g*2:f(g-h(y)*g,g-h(S)*g);s.min.set(E,e[1],a<0?-C:0),s.max.set(x,e[3],a<0?0:C)}else s.min.set(e[0],e[1],0),s.max.set(e[2],e[3],0);s.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let a=this.getAttribute(vf).count,s=this._chunkedBounds;if(s)for(let o=s.length;o--;){a=s[o].end;let r=s[o].rect;if(r[1]<e.w&&r[3]>e.y&&r[0]<e.z&&r[2]>e.x)break}this.instanceCount=a}}function yl(i,e,a,s){const o=i.getAttribute(e);a?o&&o.array.length===a.length?(o.array.set(a),o.needsUpdate=!0):(i.setAttribute(e,new ph(a,s)),delete i._maxInstanceCount,i.dispose()):o&&i.deleteAttribute(e)}const Dv=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Fv=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,jv=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Nv=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function zv(i){const e=Ol(i,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Tn},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Ec(0,0,0,0)},uTroikaClipRect:{value:new Ec(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Tn},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ns},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new vh},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Dv,vertexTransform:Fv,fragmentDefs:jv,fragmentColorTransform:Nv,customRewriter({vertexShader:a,fragmentShader:s}){let o=/\buniform\s+vec3\s+diffuse\b/;return o.test(s)&&(s=s.replace(o,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),o.test(a)||(a=a.replace(Dd,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:a,fragmentShader:s}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const Hl=new Hf({color:16777215,side:Gf,transparent:!0}),gf=8421504,mf=new gh,Ga=new zt,wl=new zt,Ao=[],Bv=new zt,xl="+x+y";function yf(i){return Array.isArray(i)?i[0]:i}let Bd=()=>{const i=new Ci(new no(1,1),Hl);return Bd=()=>i,i},Gd=()=>{const i=new Ci(new no(1,1,32,1),Hl);return Gd=()=>i,i};const Gv={type:"syncstart"},Hv={type:"synccomplete"},Hd=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Wv=Hd.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Wd=class extends Ci{constructor(){const e=new Ov;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=gf,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=xl,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Gv),jd({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},a=>{this._isSyncing=!1,this._textRenderInfo=a,this.geometry.updateGlyphs(a.glyphBounds,a.glyphAtlasIndices,a.blockBounds,a.chunkedBounds,a.glyphColors);const s=this._queuedSyncs;s&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{s.forEach(o=>o&&o())})),this.dispatchEvent(Hv),e&&e()})))}onBeforeRender(e,a,s,o,r,u){this.sync(),r.isTroikaTextMaterial&&this._prepareForRender(r),r._hadOwnSide=r.hasOwnProperty("side"),this.geometry.setSide(r._actualSide=r.side),r.side=uh}onAfterRender(e,a,s,o,r,u){r._hadOwnSide?r.side=r._actualSide:delete r.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const a=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Hl.clone());if((!e||e.baseMaterial!==a)&&(e=this._derivedMaterial=zv(a),a.addEventListener("dispose",function s(){a.removeEventListener("dispose",s),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let s=e._outlineMtl;return s||(s=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),s.isTextOutlineMaterial=!0,s.depthWrite=!1,s.map=null,e.addEventListener("dispose",function o(){e.removeEventListener("dispose",o),s.dispose()})),[s,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return yf(this.material).getDepthMaterial()}get customDistanceMaterial(){return yf(this.material).getDistanceMaterial()}_prepareForRender(e){const a=e.isTextOutlineMaterial,s=e.uniforms,o=this.textRenderInfo;if(o){const{sdfTexture:f,blockBounds:c}=o;s.uTroikaSDFTexture.value=f,s.uTroikaSDFTextureSize.value.set(f.image.width,f.image.height),s.uTroikaSDFGlyphSize.value=o.sdfGlyphSize,s.uTroikaSDFExponent.value=o.sdfExponent,s.uTroikaTotalBounds.value.fromArray(c),s.uTroikaUseGlyphColors.value=!a&&!!o.glyphColors;let h=0,d=0,v=0,g,y,S,E=0,x=0;if(a){let{outlineWidth:T,outlineOffsetX:M,outlineOffsetY:R,outlineBlur:b,outlineOpacity:I}=this;h=this._parsePercent(T)||0,d=Math.max(0,this._parsePercent(b)||0),g=I,E=this._parsePercent(M)||0,x=this._parsePercent(R)||0}else v=Math.max(0,this._parsePercent(this.strokeWidth)||0),v&&(S=this.strokeColor,s.uTroikaStrokeColor.value.set(S??gf),y=this.strokeOpacity,y==null&&(y=1)),g=this.fillOpacity;s.uTroikaDistanceOffset.value=h,s.uTroikaPositionOffset.value.set(E,x),s.uTroikaBlurRadius.value=d,s.uTroikaStrokeWidth.value=v,s.uTroikaStrokeOpacity.value=y,s.uTroikaFillOpacity.value=g??1,s.uTroikaCurveRadius.value=this.curveRadius||0;let C=this.clipRect;if(C&&Array.isArray(C)&&C.length===4)s.uTroikaClipRect.value.fromArray(C);else{const T=(this.fontSize||.1)*100;s.uTroikaClipRect.value.set(c[0]-T,c[1]-T,c[2]+T,c[3]+T)}this.geometry.applyClipRect(s.uTroikaClipRect.value)}s.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const r=a?this.outlineColor||0:this.color;if(r==null)delete e.color;else{const f=e.hasOwnProperty("color")?e.color:e.color=new ns;(r!==f._input||typeof r=="object")&&f.set(f._input=r)}let u=this.orientation||xl;if(u!==e._orientation){let f=s.uTroikaOrient.value;u=u.replace(/[^-+xyz]/g,"");let c=u!==xl&&u.match(/^([-+])([xyz])([-+])([xyz])$/);if(c){let[,h,d,v,g]=c;Ga.set(0,0,0)[d]=h==="-"?1:-1,wl.set(0,0,0)[g]=v==="-"?-1:1,mf.lookAt(Bv,Ga.cross(wl),wl),f.setFromMatrix4(mf)}else f.identity();e._orientation=u}}_parsePercent(e){if(typeof e=="string"){let a=e.match(/^(-?[\d.]+)%$/),s=a?parseFloat(a[1]):NaN;e=(isNaN(s)?0:s/100)*this.fontSize}return e}localPositionToTextCoords(e,a=new Tn){a.copy(e);const s=this.curveRadius;return s&&(a.x=Math.atan2(e.x,Math.abs(s)-Math.abs(e.z))*Math.abs(s)),a}worldPositionToTextCoords(e,a=new Tn){return Ga.copy(e),this.localPositionToTextCoords(this.worldToLocal(Ga),a)}raycast(e,a){const{textRenderInfo:s,curveRadius:o}=this;if(s){const r=s.blockBounds,u=o?Gd():Bd(),f=u.geometry,{position:c,uv:h}=f.attributes;for(let d=0;d<h.count;d++){let v=r[0]+h.getX(d)*(r[2]-r[0]);const g=r[1]+h.getY(d)*(r[3]-r[1]);let y=0;o&&(y=o-Math.cos(v/o)*o,v=Math.sin(v/o)*o),c.setXYZ(d,v,g,y)}f.boundingSphere=this.geometry.boundingSphere,f.boundingBox=this.geometry.boundingBox,u.matrixWorld=this.matrixWorld,u.material.side=this.material.side,Ao.length=0,u.raycast(e,Ao);for(let d=0;d<Ao.length;d++)Ao[d].object=this,a.push(Ao[d])}}copy(e){const a=this.geometry;return super.copy(e),this.geometry=a,Wv.forEach(s=>{this[s]=e[s]}),this}clone(){return new this.constructor().copy(this)}};Hd.forEach(i=>{const e="_private_"+i;Object.defineProperty(Wd.prototype,i,{get(){return this[e]},set(a){a!==this[e]&&(this[e]=a,this._needsSync=!0)}})});const wf=Q.forwardRef(({sdfGlyphSize:i=64,anchorX:e="center",anchorY:a="middle",font:s,fontSize:o=1,children:r,characters:u,onSync:f,...c},h)=>{const d=fn(({invalidate:S})=>S),[v]=Q.useState(()=>new Wd),[g,y]=Q.useMemo(()=>{const S=[];let E="";return Q.Children.forEach(r,x=>{typeof x=="string"||typeof x=="number"?E+=x:S.push(x)}),[S,E]},[r]);return Jf(()=>new Promise(S=>bv({font:s,characters:u},S)),["troika-text",s,u]),Q.useLayoutEffect(()=>void v.sync(()=>{d(),f&&f(v)})),Q.useEffect(()=>()=>v.dispose(),[v]),Q.createElement("primitive",qa({object:v,ref:h,font:s,text:y,anchorX:e,anchorY:a,fontSize:o,sdfGlyphSize:i},c),g)});function W2(i,e,a){const s=fn(g=>g.size),o=fn(g=>g.viewport),r=typeof i=="number"?i:s.width*o.dpr,u=typeof e=="number"?e:s.height*o.dpr,f=(typeof i=="number"?a:i)||{},{samples:c=0,depth:h,...d}=f,v=Q.useMemo(()=>{const g=new Nl(r,u,{minFilter:Vn,magFilter:Vn,type:tr,...d});return h&&(g.depthTexture=new yh(r,u,Rr)),g.samples=c,g},[]);return Q.useLayoutEffect(()=>{v.setSize(r,u),c&&(v.samples=c)},[c,v,r,u]),Q.useEffect(()=>()=>v.dispose(),[]),v}function V2({resolution:i=256,near:e=.1,far:a=1e3,envMap:s,fog:o}={}){const r=fn(({gl:g})=>g),u=fn(({scene:g})=>g),f=Q.useMemo(()=>{const g=new wh(i);return g.texture.type=tr,g},[i]);Q.useEffect(()=>()=>{f.dispose()},[f]);const c=Q.useMemo(()=>new xh(e,a,f),[e,a,f]);let h,d;const v=Q.useCallback(()=>{h=u.fog,d=u.background,u.background=s||d,u.fog=o||h,c.update(r,u),u.fog=h,u.background=d},[r,u,c]);return{fbo:f,camera:c,update:v}}const Z2=Q.forwardRef(({makeDefault:i,camera:e,regress:a,domElement:s,enableDamping:o=!0,keyEvents:r=!1,onChange:u,onStart:f,onEnd:c,...h},d)=>{const v=fn(I=>I.invalidate),g=fn(I=>I.camera),y=fn(I=>I.gl),S=fn(I=>I.events),E=fn(I=>I.setEvents),x=fn(I=>I.set),C=fn(I=>I.get),T=fn(I=>I.performance),M=e||g,R=s||S.connected||y.domElement,b=Q.useMemo(()=>new V0(M),[M]);return is(()=>{b.enabled&&b.update()},-1),Q.useEffect(()=>(r&&b.connect(r===!0?R:r),b.connect(R),()=>void b.dispose()),[r,R,a,b,v]),Q.useEffect(()=>{const I=F=>{v(),a&&T.regress(),u&&u(F)},D=F=>{f&&f(F)},L=F=>{c&&c(F)};return b.addEventListener("change",I),b.addEventListener("start",D),b.addEventListener("end",L),()=>{b.removeEventListener("start",D),b.removeEventListener("end",L),b.removeEventListener("change",I)}},[u,f,c,b,v,E]),Q.useEffect(()=>{if(i){const I=C().controls;return x({controls:b}),()=>x({controls:I})}},[i,b]),Q.createElement("primitive",qa({ref:d,object:b,enableDamping:o},h))});var Vd={exports:{}},Vv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Zv=Vv,Yv=Zv;function Zd(){}function Yd(){}Yd.resetWarningCache=Zd;var Xv=function(){function i(s,o,r,u,f,c){if(c!==Yv){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}i.isRequired=i;function e(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Yd,resetWarningCache:Zd};return a.PropTypes=a,a};Vd.exports=Xv();var Qv=Vd.exports;const Y2=Ho(Qv),Kv=3e3,Jv=3001,X2=Q.forwardRef(({intensity:i=1,decay:e,decayRate:a=.65,maxYaw:s=.1,maxPitch:o=.1,maxRoll:r=.1,yawFrequency:u=.1,pitchFrequency:f=.1,rollFrequency:c=.1},h)=>{const d=fn(T=>T.camera),v=fn(T=>T.controls),g=Q.useRef(i),y=Q.useRef(d.rotation.clone()),[S]=Q.useState(()=>new vl),[E]=Q.useState(()=>new vl),[x]=Q.useState(()=>new vl),C=()=>{(g.current<0||g.current>1)&&(g.current=g.current<0?0:1)};return Q.useImperativeHandle(h,()=>({getIntensity:()=>g.current,setIntensity:T=>{g.current=T,C()}}),[]),Q.useEffect(()=>{if(v){const T=()=>void(y.current=d.rotation.clone());return v.addEventListener("change",T),T(),()=>void v.removeEventListener("change",T)}},[d,v]),is((T,M)=>{const R=Math.pow(g.current,2),b=s*R*S.noise(T.clock.elapsedTime*u,1),I=o*R*E.noise(T.clock.elapsedTime*f,1),D=r*R*x.noise(T.clock.elapsedTime*c,1);d.rotation.set(y.current.x+I,y.current.y+b,y.current.z+D),e&&g.current>0&&(g.current-=a*M,C())}),null}),Xd=(i,e,a)=>{let s;switch(i){case Ka:s=new Uint8ClampedArray(e*a*4);break;case tr:s=new Uint16Array(e*a*4);break;case Th:s=new Uint32Array(e*a*4);break;case Eh:s=new Int8Array(e*a*4);break;case Ch:s=new Int16Array(e*a*4);break;case _h:s=new Int32Array(e*a*4);break;case Rr:s=new Float32Array(e*a*4);break;default:throw new Error("Unsupported data type")}return s};let Ha;const qv=(i,e,a,s)=>{if(Ha!==void 0)return Ha;const o=new Nl(1,1,s);e.setRenderTarget(o);const r=new Ci(new no,new Hf({color:16777215}));e.render(r,a),e.setRenderTarget(null);const u=Xd(i,o.width,o.height);return e.readRenderTargetPixels(o,0,0,o.width,o.height,u),o.dispose(),r.geometry.dispose(),r.material.dispose(),Ha=u[0]!==0,Ha};class Wl{constructor(e){var a,s,o,r,u,f,c,h,d,v,g,y,S,E,x,C;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(M){throw this._renderer.setRenderTarget(null),M}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const T={format:$i,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.anisotropy)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.anisotropy:1,generateMipmaps:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.generateMipmaps)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps:!1,magFilter:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.magFilter)!==void 0?(f=e.renderTargetOptions)===null||f===void 0?void 0:f.magFilter:Vn,minFilter:((c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.minFilter:Vn,samples:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.samples:void 0,wrapS:((g=e.renderTargetOptions)===null||g===void 0?void 0:g.wrapS)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapS:$r,wrapT:((S=e.renderTargetOptions)===null||S===void 0?void 0:S.wrapT)!==void 0?(E=e.renderTargetOptions)===null||E===void 0?void 0:E.wrapT:$r};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=Wl.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Go,this._camera=new mi,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!qv(this._type,this._renderer,this._camera,T)){let M;switch(this._type){case tr:M=this._renderer.extensions.has("EXT_color_buffer_float")?Rr:void 0;break}M!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Rr}`),this._type=M):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Ci(new no,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Nl(this.width,this.height,T),this._renderTarget.texture.mapping=((x=e.renderTargetOptions)===null||x===void 0?void 0:x.mapping)!==void 0?(C=e.renderTargetOptions)===null||C===void 0?void 0:C.mapping:Ja}static instantiateRenderer(){const e=new zf;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=Xd(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const a=new Sh(this.toArray(),this.width,this.height,$i,this._type,(e==null?void 0:e.mapping)||Ja,(e==null?void 0:e.wrapS)||$r,(e==null?void 0:e.wrapT)||$r,(e==null?void 0:e.magFilter)||Vn,(e==null?void 0:e.minFilter)||Vn,(e==null?void 0:e.anisotropy)||1,Tl);return a.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,a}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Wf&&Object.values(this.material.uniforms).forEach(a=>{a.value instanceof zr&&a.value.dispose()}),Object.values(this.material).forEach(a=>{a instanceof zr&&a.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const $v=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,eg=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class tg extends Wf{constructor({gamma:e,offsetHdr:a,offsetSdr:s,gainMapMin:o,gainMapMax:r,maxDisplayBoost:u,hdrCapacityMin:f,hdrCapacityMax:c,sdr:h,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:$v,fragmentShader:eg,uniforms:{sdr:{value:h},gainMap:{value:d},gamma:{value:new zt(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new zt().fromArray(a)},offsetSdr:{value:new zt().fromArray(s)},gainMapMin:{value:new zt().fromArray(o)},gainMapMax:{value:new zt().fromArray(r)},weightFactor:{value:(Math.log2(u)-f)/(c-f)}},blending:Rh,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=u,this._hdrCapacityMin=f,this._hdrCapacityMax=c,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const a=this.uniforms.gamma.value;a.x=1/e[0],a.y=1/e[1],a.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class Qd extends Error{}class Kd extends Error{}const Uo=(i,e,a)=>{var s;let o;const r=(s=i.attributes.getNamedItem(e))===null||s===void 0?void 0:s.nodeValue;if(r)o=r;else{const u=i.getElementsByTagName(e)[0];if(u){const f=u.getElementsByTagName("rdf:li");if(f.length===3)o=Array.from(f).map(c=>c.innerHTML);else throw new Error(`Gainmap metadata contains an array of items for ${e} but its length is not 3`)}else{if(a)return a;throw new Error(`Can't find ${e} in gainmap metadata`)}}return o},ng=i=>{var e,a;let s;typeof TextDecoder<"u"?s=new TextDecoder().decode(i):s=i.toString();let o=s.indexOf("<x:xmpmeta");const r=new DOMParser;for(;o!==-1;){const u=s.indexOf("x:xmpmeta>",o);s.slice(o,u+10);const f=s.slice(o,u+10);try{const h=r.parseFromString(f,"text/xml").getElementsByTagName("rdf:Description")[0],d=Uo(h,"hdrgm:GainMapMin","0"),v=Uo(h,"hdrgm:GainMapMax"),g=Uo(h,"hdrgm:Gamma","1"),y=Uo(h,"hdrgm:OffsetSDR","0.015625"),S=Uo(h,"hdrgm:OffsetHDR","0.015625");let E=(e=h.attributes.getNamedItem("hdrgm:HDRCapacityMin"))===null||e===void 0?void 0:e.nodeValue;E||(E="0");const x=(a=h.attributes.getNamedItem("hdrgm:HDRCapacityMax"))===null||a===void 0?void 0:a.nodeValue;if(!x)throw new Error("Incomplete gainmap metadata");return{gainMapMin:Array.isArray(d)?d.map(C=>parseFloat(C)):[parseFloat(d),parseFloat(d),parseFloat(d)],gainMapMax:Array.isArray(v)?v.map(C=>parseFloat(C)):[parseFloat(v),parseFloat(v),parseFloat(v)],gamma:Array.isArray(g)?g.map(C=>parseFloat(C)):[parseFloat(g),parseFloat(g),parseFloat(g)],offsetSdr:Array.isArray(y)?y.map(C=>parseFloat(C)):[parseFloat(y),parseFloat(y),parseFloat(y)],offsetHdr:Array.isArray(S)?S.map(C=>parseFloat(C)):[parseFloat(S),parseFloat(S),parseFloat(S)],hdrCapacityMin:parseFloat(E),hdrCapacityMax:parseFloat(x)}}catch{}o=s.indexOf("<x:xmpmeta",u)}};class rg{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((a,s)=>{const o=this.options.debug,r=new DataView(e.buffer);if(r.getUint16(0)!==65496){s(new Error("Not a valid jpeg"));return}const u=r.byteLength;let f=2,c=0,h;for(;f<u;){if(++c>250){s(new Error(`Found no marker after ${c} loops `));return}if(r.getUint8(f)!==255){s(new Error(`Not a valid marker at offset 0x${f.toString(16)}, found: 0x${r.getUint8(f).toString(16)}`));return}if(h=r.getUint8(f+1),o&&console.log(`Marker: ${h.toString(16)}`),h===226){o&&console.log("Found APP2 marker (0xffe2)");const d=f+4;if(r.getUint32(d)===1297106432){const v=d+4;let g;if(r.getUint16(v)===18761)g=!1;else if(r.getUint16(v)===19789)g=!0;else{s(new Error("No valid endianness marker found in TIFF header"));return}if(r.getUint16(v+2,!g)!==42){s(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const y=r.getUint32(v+4,!g);if(y<8){s(new Error("Not valid TIFF data! (First offset less than 8)"));return}const S=v+y,E=r.getUint16(S,!g),x=S+2;let C=0;for(let b=x;b<x+12*E;b+=12)r.getUint16(b,!g)===45057&&(C=r.getUint32(b+8,!g));const M=S+2+E*12+4,R=[];for(let b=M;b<M+C*16;b+=16){const I={MPType:r.getUint32(b,!g),size:r.getUint32(b+4,!g),dataOffset:r.getUint32(b+8,!g),dependantImages:r.getUint32(b+12,!g),start:-1,end:-1,isFII:!1};I.dataOffset?(I.start=v+I.dataOffset,I.isFII=!1):(I.start=0,I.isFII=!0),I.end=I.start+I.size,R.push(I)}if(this.options.extractNonFII&&R.length){const b=new Blob([r]),I=[];for(const D of R){if(D.isFII&&!this.options.extractFII)continue;const L=b.slice(D.start,D.end+1,"image/jpeg");I.push(L)}a(I)}}}f+=2+r.getUint16(f+2)}})}}const ig=async i=>{const e=ng(i);if(!e)throw new Kd("Gain map XMP metadata not found");const s=await new rg({extractFII:!0,extractNonFII:!0}).extract(i);if(s.length!==2)throw new Qd("Gain map recovery image not found");return{sdr:new Uint8Array(await s[0].arrayBuffer()),gainMap:new Uint8Array(await s[1].arrayBuffer()),metadata:e}},xf=i=>new Promise((e,a)=>{const s=document.createElement("img");s.onload=()=>{e(s)},s.onerror=o=>{a(o)},s.src=URL.createObjectURL(i)});class Jd extends kh{constructor(e,a){super(a),e&&(this._renderer=e),this._internalLoadingManager=new Mh}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new tg({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new zr,sdr:new zr});return new Wl({width:16,height:16,type:tr,colorSpace:Tl,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,a,s,o){const r=o?new Blob([o],{type:"image/jpeg"}):void 0,u=new Blob([s],{type:"image/jpeg"});let f,c,h=!1;if(typeof createImageBitmap>"u"){const g=await Promise.all([r?xf(r):Promise.resolve(void 0),xf(u)]);c=g[0],f=g[1],h=!0}else{const g=await Promise.all([r?createImageBitmap(r,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(u,{imageOrientation:"flipY"})]);c=g[0],f=g[1]}const d=new zr(c||new ImageData(2,2),Ja,$r,$r,Vn,Tc,$i,Ka,1,Tl);d.flipY=h,d.needsUpdate=!0;const v=new zr(f,Ja,$r,$r,Vn,Tc,$i,Ka,1,bh);v.flipY=h,v.needsUpdate=!0,e.width=f.width,e.height=f.height,e.material.gainMap=d,e.material.sdr=v,e.material.gainMapMin=a.gainMapMin,e.material.gainMapMax=a.gainMapMax,e.material.offsetHdr=a.offsetHdr,e.material.offsetSdr=a.offsetSdr,e.material.gamma=a.gamma,e.material.hdrCapacityMin=a.hdrCapacityMin,e.material.hdrCapacityMax=a.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,a.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class og extends Jd{load([e,a,s],o,r,u){const f=this.prepareQuadRenderer();let c,h,d;const v=async()=>{if(c&&h&&d){try{await this.render(f,d,c,h)}catch(F){this.manager.itemError(e),this.manager.itemError(a),this.manager.itemError(s),typeof u=="function"&&u(F),f.disposeOnDemandRenderer();return}typeof o=="function"&&o(f),this.manager.itemEnd(e),this.manager.itemEnd(a),this.manager.itemEnd(s),f.disposeOnDemandRenderer()}};let g=!0,y=0,S=0,E=!0,x=0,C=0,T=!0,M=0,R=0;const b=()=>{if(typeof r=="function"){const F=y+x+M,O=S+C+R,V=g&&E&&T;r(new ProgressEvent("progress",{lengthComputable:V,loaded:O,total:F}))}};this.manager.itemStart(e),this.manager.itemStart(a),this.manager.itemStart(s);const I=new Va(this._internalLoadingManager);I.setResponseType("arraybuffer"),I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(e,async F=>{if(typeof F=="string")throw new Error("Invalid sdr buffer");c=F,await v()},F=>{g=F.lengthComputable,S=F.loaded,y=F.total,b()},F=>{this.manager.itemError(e),typeof u=="function"&&u(F)});const D=new Va(this._internalLoadingManager);D.setResponseType("arraybuffer"),D.setRequestHeader(this.requestHeader),D.setPath(this.path),D.setWithCredentials(this.withCredentials),D.load(a,async F=>{if(typeof F=="string")throw new Error("Invalid gainmap buffer");h=F,await v()},F=>{E=F.lengthComputable,C=F.loaded,x=F.total,b()},F=>{this.manager.itemError(a),typeof u=="function"&&u(F)});const L=new Va(this._internalLoadingManager);return L.setRequestHeader(this.requestHeader),L.setPath(this.path),L.setWithCredentials(this.withCredentials),L.load(s,async F=>{if(typeof F!="string")throw new Error("Invalid metadata string");d=JSON.parse(F),await v()},F=>{T=F.lengthComputable,R=F.loaded,M=F.total,b()},F=>{this.manager.itemError(s),typeof u=="function"&&u(F)}),f}}class ag extends Jd{load(e,a,s,o){const r=this.prepareQuadRenderer(),u=new Va(this._internalLoadingManager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(this.withCredentials),this.manager.itemStart(e),u.load(e,async f=>{if(typeof f=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const c=new Uint8Array(f);let h,d,v;try{const g=await ig(c);h=g.sdr,d=g.gainMap,v=g.metadata}catch(g){if(g instanceof Kd||g instanceof Qd)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),v={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},h=c;else throw g}try{await this.render(r,v,h,d)}catch(g){this.manager.itemError(e),typeof o=="function"&&o(g),r.disposeOnDemandRenderer();return}typeof a=="function"&&a(r),this.manager.itemEnd(e),r.disposeOnDemandRenderer()},s,f=>{this.manager.itemError(e),typeof o=="function"&&o(f)}),r}}const Sl={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},sg="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Wa=i=>Array.isArray(i);function Q2({files:i=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:a=void 0,encoding:s=void 0,extensions:o}={}){var r;let u=null,f=!1;if(a){if(!(a in Sl))throw new Error("Preset must be one of: "+Object.keys(Sl).join(", "));i=Sl[a],e=sg}const c=Wa(i)&&i.length===6,h=Wa(i)&&i.length===3&&i.some(x=>x.endsWith("json")),d=Wa(i)?i[0]:i;f=Wa(i);const v=c?"cube":h?"webp":d.startsWith("data:application/exr")?"exr":d.startsWith("data:application/hdr")?"hdr":d.startsWith("data:image/jpeg")?"jpg":(r=d.split(".").pop())==null||(r=r.split("?"))==null||(r=r.shift())==null?void 0:r.toLowerCase();if(u=v==="cube"?Lh:v==="hdr"?X0:v==="exr"?Q0:v==="jpg"||v==="jpeg"?ag:v==="webp"?og:null,!u)throw new Error("useEnvironment: Unrecognized file extension: "+i);const g=fn(x=>x.gl);Q.useLayoutEffect(()=>{if(v!=="webp"&&v!=="jpg"&&v!=="jpeg")return;function x(){$a.clear(u,f?[i]:i)}g.domElement.addEventListener("webglcontextlost",x,{once:!0})},[i,g.domElement]);const y=$a(u,f?[i]:i,x=>{(v==="webp"||v==="jpg"||v==="jpeg")&&x.setRenderer(g),x.setPath==null||x.setPath(e),o&&o(x)});let S=f?y[0]:y;if(v==="jpg"||v==="jpeg"||v==="webp"){var E;S=(E=S.renderTarget)==null?void 0:E.texture}return S.mapping=c?Ih:Ph,"colorSpace"in S?S.colorSpace=s??c?"srgb":"srgb-linear":S.encoding=s??c?Jv:Kv,S}const lg={BASE_URL:"/hengkang.guthub.io",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Sf=i=>{let e;const a=new Set,s=(d,v)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const y=e;e=v??(typeof g!="object"||g===null)?g:Object.assign({},e,g),a.forEach(S=>S(e,y))}},o=()=>e,c={setState:s,getState:o,getInitialState:()=>h,subscribe:d=>(a.add(d),()=>a.delete(d)),destroy:()=>{(lg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},h=e=i(s,o,c);return c},qd=i=>i?Sf(i):Sf;var $d={exports:{}},e1={},t1={exports:{}},n1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=Q;function ug(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var cg=typeof Object.is=="function"?Object.is:ug,fg=to.useState,dg=to.useEffect,hg=to.useLayoutEffect,pg=to.useDebugValue;function vg(i,e){var a=e(),s=fg({inst:{value:a,getSnapshot:e}}),o=s[0].inst,r=s[1];return hg(function(){o.value=a,o.getSnapshot=e,_l(o)&&r({inst:o})},[i,a,e]),dg(function(){return _l(o)&&r({inst:o}),i(function(){_l(o)&&r({inst:o})})},[i]),pg(a),a}function _l(i){var e=i.getSnapshot;i=i.value;try{var a=e();return!cg(i,a)}catch{return!0}}function gg(i,e){return e()}var mg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gg:vg;n1.useSyncExternalStore=to.useSyncExternalStore!==void 0?to.useSyncExternalStore:mg;t1.exports=n1;var yg=t1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Q,wg=yg;function xg(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var Sg=typeof Object.is=="function"?Object.is:xg,_g=wg.useSyncExternalStore,Cg=ss.useRef,Eg=ss.useEffect,Tg=ss.useMemo,kg=ss.useDebugValue;e1.useSyncExternalStoreWithSelector=function(i,e,a,s,o){var r=Cg(null);if(r.current===null){var u={hasValue:!1,value:null};r.current=u}else u=r.current;r=Tg(function(){function c(y){if(!h){if(h=!0,d=y,y=s(y),o!==void 0&&u.hasValue){var S=u.value;if(o(S,y))return v=S}return v=y}if(S=v,Sg(d,y))return S;var E=s(y);return o!==void 0&&o(S,E)?S:(d=y,v=E)}var h=!1,d,v,g=a===void 0?null:a;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,a,s,o]);var f=_g(i,r[0],r[1]);return Eg(function(){u.hasValue=!0,u.value=f},[f]),kg(f),f};$d.exports=e1;var Mg=$d.exports;const r1=Ho(Mg),i1={BASE_URL:"/hengkang.guthub.io",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:bg}=hr,{useSyncExternalStoreWithSelector:Rg}=r1;let _f=!1;const Ig=i=>i;function Pg(i,e=Ig,a){(i1?"production":void 0)!=="production"&&a&&!_f&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_f=!0);const s=Rg(i.subscribe,i.getState,i.getServerState||i.getInitialState,e,a);return bg(s),s}const Cf=i=>{(i1?"production":void 0)!=="production"&&typeof i!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof i=="function"?qd(i):i,a=(s,o)=>Pg(e,s,o);return Object.assign(a,e),a},K2=i=>i?Cf(i):Cf;var Ot="colors",Fn="sizes",Ge="space",Lg={gap:Ge,gridGap:Ge,columnGap:Ge,gridColumnGap:Ge,rowGap:Ge,gridRowGap:Ge,inset:Ge,insetBlock:Ge,insetBlockEnd:Ge,insetBlockStart:Ge,insetInline:Ge,insetInlineEnd:Ge,insetInlineStart:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,marginBlock:Ge,marginBlockEnd:Ge,marginBlockStart:Ge,marginInline:Ge,marginInlineEnd:Ge,marginInlineStart:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,paddingBlock:Ge,paddingBlockEnd:Ge,paddingBlockStart:Ge,paddingInline:Ge,paddingInlineEnd:Ge,paddingInlineStart:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,scrollMargin:Ge,scrollMarginTop:Ge,scrollMarginRight:Ge,scrollMarginBottom:Ge,scrollMarginLeft:Ge,scrollMarginX:Ge,scrollMarginY:Ge,scrollMarginBlock:Ge,scrollMarginBlockEnd:Ge,scrollMarginBlockStart:Ge,scrollMarginInline:Ge,scrollMarginInlineEnd:Ge,scrollMarginInlineStart:Ge,scrollPadding:Ge,scrollPaddingTop:Ge,scrollPaddingRight:Ge,scrollPaddingBottom:Ge,scrollPaddingLeft:Ge,scrollPaddingX:Ge,scrollPaddingY:Ge,scrollPaddingBlock:Ge,scrollPaddingBlockEnd:Ge,scrollPaddingBlockStart:Ge,scrollPaddingInline:Ge,scrollPaddingInlineEnd:Ge,scrollPaddingInlineStart:Ge,fontSize:"fontSizes",background:Ot,backgroundColor:Ot,backgroundImage:Ot,borderImage:Ot,border:Ot,borderBlock:Ot,borderBlockEnd:Ot,borderBlockStart:Ot,borderBottom:Ot,borderBottomColor:Ot,borderColor:Ot,borderInline:Ot,borderInlineEnd:Ot,borderInlineStart:Ot,borderLeft:Ot,borderLeftColor:Ot,borderRight:Ot,borderRightColor:Ot,borderTop:Ot,borderTopColor:Ot,caretColor:Ot,color:Ot,columnRuleColor:Ot,fill:Ot,outline:Ot,outlineColor:Ot,stroke:Ot,textDecorationColor:Ot,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Fn,minBlockSize:Fn,maxBlockSize:Fn,inlineSize:Fn,minInlineSize:Fn,maxInlineSize:Fn,width:Fn,minWidth:Fn,maxWidth:Fn,height:Fn,minHeight:Fn,maxHeight:Fn,flexBasis:Fn,gridTemplateColumns:Fn,gridTemplateRows:Fn,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Ag=(i,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,io=()=>{const i=Object.create(null);return(e,a,...s)=>{const o=(r=>JSON.stringify(r,Ag))(e);return o in i?i[o]:i[o]=a(e,...s)}},Si=Symbol.for("sxs.internal"),Vl=(i,e)=>Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)),Ef=i=>{for(const e in i)return!0;return!1},{hasOwnProperty:Ug}=Object.prototype,Fl=i=>i.includes("-")?i:i.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Og=/\s+(?![^()]*\))/,Vi=i=>e=>i(...typeof e=="string"?String(e).split(Og):[e]),Tf={appearance:i=>({WebkitAppearance:i,appearance:i}),backfaceVisibility:i=>({WebkitBackfaceVisibility:i,backfaceVisibility:i}),backdropFilter:i=>({WebkitBackdropFilter:i,backdropFilter:i}),backgroundClip:i=>({WebkitBackgroundClip:i,backgroundClip:i}),boxDecorationBreak:i=>({WebkitBoxDecorationBreak:i,boxDecorationBreak:i}),clipPath:i=>({WebkitClipPath:i,clipPath:i}),content:i=>({content:i.includes('"')||i.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(i)?i:`"${i}"`}),hyphens:i=>({WebkitHyphens:i,hyphens:i}),maskImage:i=>({WebkitMaskImage:i,maskImage:i}),maskSize:i=>({WebkitMaskSize:i,maskSize:i}),tabSize:i=>({MozTabSize:i,tabSize:i}),textSizeAdjust:i=>({WebkitTextSizeAdjust:i,textSizeAdjust:i}),userSelect:i=>({WebkitUserSelect:i,userSelect:i}),marginBlock:Vi((i,e)=>({marginBlockStart:i,marginBlockEnd:e||i})),marginInline:Vi((i,e)=>({marginInlineStart:i,marginInlineEnd:e||i})),maxSize:Vi((i,e)=>({maxBlockSize:i,maxInlineSize:e||i})),minSize:Vi((i,e)=>({minBlockSize:i,minInlineSize:e||i})),paddingBlock:Vi((i,e)=>({paddingBlockStart:i,paddingBlockEnd:e||i})),paddingInline:Vi((i,e)=>({paddingInlineStart:i,paddingInlineEnd:e||i}))},Cl=/([\d.]+)([^]*)/,Dg=(i,e)=>i.length?i.reduce((a,s)=>(a.push(...e.map(o=>o.includes("&")?o.replace(/&/g,/[ +>|~]/.test(s)&&/&.*&/.test(o)?`:is(${s})`:s):s+" "+o)),a),[]):e,Fg=(i,e)=>i in jg&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(a,s,o,r)=>s+(o==="stretch"?`-moz-available${r};${Fl(i)}:${s}-webkit-fill-available`:`-moz-fit-content${r};${Fl(i)}:${s}fit-content`)+r):String(e),jg={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Br=i=>i?i+"-":"",o1=(i,e,a)=>i.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(s,o,r,u,f)=>u=="$"==!!r?s:(o||u=="--"?"calc(":"")+"var(--"+(u==="$"?Br(e)+(f.includes("$")?"":Br(a))+f.replace(/\$/g,"-"):f)+")"+(o||u=="--"?"*"+(o||"")+(r||"1")+")":"")),Ng=/\s*,\s*(?![^()]*\))/,zg=Object.prototype.toString,Ji=(i,e,a,s,o)=>{let r,u,f;const c=(h,d,v)=>{let g,y;const S=E=>{for(g in E){const T=g.charCodeAt(0)===64,M=T&&Array.isArray(E[g])?E[g]:[E[g]];for(y of M){const R=/[A-Z]/.test(C=g)?C:C.replace(/-[^]/g,I=>I[1].toUpperCase()),b=typeof y=="object"&&y&&y.toString===zg&&(!s.utils[R]||!d.length);if(R in s.utils&&!b){const I=s.utils[R];if(I!==u){u=I,S(I(y)),u=null;continue}}else if(R in Tf){const I=Tf[R];if(I!==f){f=I,S(I(y)),f=null;continue}}if(T&&(x=g.slice(1)in s.media?"@media "+s.media[g.slice(1)]:g,g=x.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(I,D,L,F,O,V)=>{const U=Cl.test(D),H=.0625*(U?-1:1),[G,fe]=U?[F,D]:[D,F];return"("+(L[0]==="="?"":L[0]===">"===U?"max-":"min-")+G+":"+(L[0]!=="="&&L.length===1?fe.replace(Cl,(ee,ye,J)=>Number(ye)+H*(L===">"?1:-1)+J):fe)+(O?") and ("+(O[0]===">"?"min-":"max-")+G+":"+(O.length===1?V.replace(Cl,(ee,ye,J)=>Number(ye)+H*(O===">"?-1:1)+J):V):"")+")"})),b){const I=T?v.concat(g):[...v],D=T?[...d]:Dg(d,g.split(Ng));r!==void 0&&o(kf(...r)),r=void 0,c(y,D,I)}else r===void 0&&(r=[[],d,v]),g=T||g.charCodeAt(0)!==36?g:`--${Br(s.prefix)}${g.slice(1).replace(/\$/g,"-")}`,y=b?y:typeof y=="number"?y&&R in Bg?String(y)+"px":String(y):o1(Fg(R,y??""),s.prefix,s.themeMap[R]),r[0].push(`${T?`${g} `:`${Fl(g)}:`}${y}`)}}var x,C};S(h),r!==void 0&&o(kf(...r)),r=void 0};c(i,e,a)},kf=(i,e,a)=>`${a.map(s=>`${s}{`).join("")}${e.length?`${e.join(",")}{`:""}${i.join(";")}${e.length?"}":""}${Array(a.length?a.length+1:0).join("}")}`,Bg={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Mf=i=>String.fromCharCode(i+(i>25?39:97)),_i=i=>(e=>{let a,s="";for(a=Math.abs(e);a>52;a=a/52|0)s=Mf(a%52)+s;return Mf(a%52)+s})(((e,a)=>{let s=a.length;for(;s;)e=33*e^a.charCodeAt(--s);return e})(5381,JSON.stringify(i))>>>0),jo=["themed","global","styled","onevar","resonevar","allvar","inline"],Gg=i=>{if(i.href&&!i.href.startsWith(location.origin))return!1;try{return!!i.cssRules}catch{return!1}},Hg=i=>{let e;const a=()=>{const{cssRules:o}=e.sheet;return[].map.call(o,(r,u)=>{const{cssText:f}=r;let c="";if(f.startsWith("--sxs"))return"";if(o[u-1]&&(c=o[u-1].cssText).startsWith("--sxs")){if(!r.cssRules.length)return"";for(const h in e.rules)if(e.rules[h].group===r)return`--sxs{--sxs:${[...e.rules[h].cache].join(" ")}}${f}`;return r.cssRules.length?`${c}${f}`:""}return f}).join("")},s=()=>{if(e){const{rules:f,sheet:c}=e;if(!c.deleteRule){for(;Object(Object(c.cssRules)[0]).type===3;)c.cssRules.splice(0,1);c.cssRules=[]}for(const h in f)delete f[h]}const o=Object(i).styleSheets||[];for(const f of o)if(Gg(f)){for(let c=0,h=f.cssRules;h[c];++c){const d=Object(h[c]);if(d.type!==1)continue;const v=Object(h[c+1]);if(v.type!==4)continue;++c;const{cssText:g}=d;if(!g.startsWith("--sxs"))continue;const y=g.slice(14,-3).trim().split(/\s+/),S=jo[y[0]];S&&(e||(e={sheet:f,reset:s,rules:{},toString:a}),e.rules[S]={group:v,index:c,cache:new Set(y)})}if(e)break}if(!e){const f=(c,h)=>({type:h,cssRules:[],insertRule(d,v){this.cssRules.splice(v,0,f(d,{import:3,undefined:1}[(d.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return c==="@media{}"?`@media{${[].map.call(this.cssRules,d=>d.cssText).join("")}}`:c}});e={sheet:i?(i.head||i).appendChild(document.createElement("style")).sheet:f("","text/css"),rules:{},reset:s,toString:a}}const{sheet:r,rules:u}=e;for(let f=jo.length-1;f>=0;--f){const c=jo[f];if(!u[c]){const h=jo[f+1],d=u[h]?u[h].index:r.cssRules.length;r.insertRule("@media{}",d),r.insertRule(`--sxs{--sxs:${f}}`,d),u[c]={group:r.cssRules[d+1],index:d,cache:new Set([f])}}Wg(u[c])}};return s(),e},Wg=i=>{const e=i.group;let a=e.cssRules.length;i.apply=s=>{try{e.insertRule(s,a),++a}catch{}}},Oo=Symbol(),Vg=io(),bf=(i,e)=>Vg(i,()=>(...a)=>{let s={type:null,composers:new Set};for(const o of a)if(o!=null)if(o[Si]){s.type==null&&(s.type=o[Si].type);for(const r of o[Si].composers)s.composers.add(r)}else o.constructor!==Object||o.$$typeof?s.type==null&&(s.type=o):s.composers.add(Zg(o,i));return s.type==null&&(s.type="span"),s.composers.size||s.composers.add(["PJLV",{},[],[],{},[]]),Yg(i,s,e)}),Zg=({variants:i,compoundVariants:e,defaultVariants:a,...s},o)=>{const r=`${Br(o.prefix)}c-${_i(s)}`,u=[],f=[],c=Object.create(null),h=[];for(const g in a)c[g]=String(a[g]);if(typeof i=="object"&&i)for(const g in i){d=c,v=g,Ug.call(d,v)||(c[g]="undefined");const y=i[g];for(const S in y){const E={[g]:String(S)};String(S)==="undefined"&&h.push(g);const x=y[S],C=[E,x,!Ef(x)];u.push(C)}}var d,v;if(typeof e=="object"&&e)for(const g of e){let{css:y,...S}=g;y=typeof y=="object"&&y||{};for(const x in S)S[x]=String(S[x]);const E=[S,y,!Ef(y)];f.push(E)}return[r,s,u,f,c,h]},Yg=(i,e,a)=>{const[s,o,r,u]=Xg(e.composers),f=typeof e.type=="function"||e.type.$$typeof?(v=>{function g(){for(let y=0;y<g[Oo].length;y++){const[S,E]=g[Oo][y];v.rules[S].apply(E)}return g[Oo]=[],null}return g[Oo]=[],g.rules={},jo.forEach(y=>g.rules[y]={apply:S=>g[Oo].push([y,S])}),g})(a):null,c=(f||a).rules,h=`.${s}${o.length>1?`:where(.${o.slice(1).join(".")})`:""}`,d=v=>{v=typeof v=="object"&&v||Qg;const{css:g,...y}=v,S={};for(const C in r)if(delete y[C],C in v){let T=v[C];typeof T=="object"&&T?S[C]={"@initial":r[C],...T}:(T=String(T),S[C]=T!=="undefined"||u.has(C)?T:r[C])}else S[C]=r[C];const E=new Set([...o]);for(const[C,T,M,R]of e.composers){a.rules.styled.cache.has(C)||(a.rules.styled.cache.add(C),Ji(T,[`.${C}`],[],i,D=>{c.styled.apply(D)}));const b=Rf(M,S,i.media),I=Rf(R,S,i.media,!0);for(const D of b)if(D!==void 0)for(const[L,F,O]of D){const V=`${C}-${_i(F)}-${L}`;E.add(V);const U=(O?a.rules.resonevar:a.rules.onevar).cache,H=O?c.resonevar:c.onevar;U.has(V)||(U.add(V),Ji(F,[`.${V}`],[],i,G=>{H.apply(G)}))}for(const D of I)if(D!==void 0)for(const[L,F]of D){const O=`${C}-${_i(F)}-${L}`;E.add(O),a.rules.allvar.cache.has(O)||(a.rules.allvar.cache.add(O),Ji(F,[`.${O}`],[],i,V=>{c.allvar.apply(V)}))}}if(typeof g=="object"&&g){const C=`${s}-i${_i(g)}-css`;E.add(C),a.rules.inline.cache.has(C)||(a.rules.inline.cache.add(C),Ji(g,[`.${C}`],[],i,T=>{c.inline.apply(T)}))}for(const C of String(v.className||"").trim().split(/\s+/))C&&E.add(C);const x=y.className=[...E].join(" ");return{type:e.type,className:x,selector:h,props:y,toString:()=>x,deferredInjector:f}};return Vl(d,{className:s,selector:h,[Si]:e,toString:()=>(a.rules.styled.cache.has(s)||d(),s)})},Xg=i=>{let e="";const a=[],s={},o=[];for(const[r,,,,u,f]of i){e===""&&(e=r),a.push(r),o.push(...f);for(const c in u){const h=u[c];(s[c]===void 0||h!=="undefined"||f.includes(h))&&(s[c]=h)}}return[e,a,s,new Set(o)]},Rf=(i,e,a,s)=>{const o=[];e:for(let[r,u,f]of i){if(f)continue;let c,h=0,d=!1;for(c in r){const v=r[c];let g=e[c];if(g!==v){if(typeof g!="object"||!g)continue e;{let y,S,E=0;for(const x in g){if(v===String(g[x])){if(x!=="@initial"){const C=x.slice(1);(S=S||[]).push(C in a?a[C]:x.replace(/^@media ?/,"")),d=!0}h+=E,y=!0}++E}if(S&&S.length&&(u={["@media "+S.join(", ")]:u}),!y)continue e}}}(o[h]=o[h]||[]).push([s?"cv":`${c}-${r[c]}`,u,d])}return o},Qg={},Kg=io(),Jg=(i,e)=>Kg(i,()=>(...a)=>{const s=()=>{for(let o of a){o=typeof o=="object"&&o||{};let r=_i(o);if(!e.rules.global.cache.has(r)){if(e.rules.global.cache.add(r),"@import"in o){let u=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let f of[].concat(o["@import"]))f=f.includes('"')||f.includes("'")?f:`"${f}"`,e.sheet.insertRule(`@import ${f};`,u++);delete o["@import"]}Ji(o,[],[],i,u=>{e.rules.global.apply(u)})}}return""};return Vl(s,{toString:s})}),qg=io(),$g=(i,e)=>qg(i,()=>a=>{const s=`${Br(i.prefix)}k-${_i(a)}`,o=()=>{if(!e.rules.global.cache.has(s)){e.rules.global.cache.add(s);const r=[];Ji(a,[],[],i,f=>r.push(f));const u=`@keyframes ${s}{${r.join("")}}`;e.rules.global.apply(u)}return s};return Vl(o,{get name(){return o()},toString:o})}),em=class{constructor(i,e,a,s){this.token=i==null?"":String(i),this.value=e==null?"":String(e),this.scale=a==null?"":String(a),this.prefix=s==null?"":String(s)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Br(this.prefix)+Br(this.scale)+this.token}toString(){return this.computedValue}},tm=io(),nm=(i,e)=>tm(i,()=>(a,s)=>{s=typeof a=="object"&&a||Object(s);const o=`.${a=(a=typeof a=="string"?a:"")||`${Br(i.prefix)}t-${_i(s)}`}`,r={},u=[];for(const c in s){r[c]={};for(const h in s[c]){const d=`--${Br(i.prefix)}${c}-${h}`,v=o1(String(s[c][h]),i.prefix,c);r[c][h]=new em(h,v,c,i.prefix),u.push(`${d}:${v}`)}}const f=()=>{if(u.length&&!e.rules.themed.cache.has(a)){e.rules.themed.cache.add(a);const c=`${s===i.theme?":root,":""}.${a}{${u.join(";")}}`;e.rules.themed.apply(c)}return a};return{...r,get className(){return f()},selector:o,toString:f}}),rm=io(),If,im=io(),om=i=>{const e=(a=>{let s=!1;const o=rm(a,r=>{s=!0;const u="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",f=typeof r.media=="object"&&r.media||{},c=typeof r.root=="object"?r.root||null:globalThis.document||null,h=typeof r.theme=="object"&&r.theme||{},d={prefix:u,media:f,theme:h,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...Lg},utils:typeof r.utils=="object"&&r.utils||{}},v=Hg(c),g={css:bf(d,v),globalCss:Jg(d,v),keyframes:$g(d,v),createTheme:nm(d,v),reset(){v.reset(),g.theme.toString()},theme:{},sheet:v,config:d,prefix:u,getCssText:v.toString,toString:v.toString};return String(g.theme=g.createTheme(h)),g});return s||o.reset(),o})(i);return e.styled=(({config:a,sheet:s})=>im(a,()=>{const o=bf(a,s);return(...r)=>{const u=o(...r),f=u[Si].type,c=hr.forwardRef((h,d)=>{const v=h&&h.as||f,{props:g,deferredInjector:y}=u(h);return delete g.as,g.ref=d,y?hr.createElement(hr.Fragment,null,hr.createElement(v,g),hr.createElement(y,null)):hr.createElement(v,g)});return c.className=u.className,c.displayName=`Styled.${f.displayName||f.name||f}`,c.selector=u.selector,c.toString=()=>u.selector,c[Si]=u[Si],c}}))(e),e},am=()=>If||(If=om()),dn=(...i)=>am().styled(...i);const{useDebugValue:sm}=hr,{useSyncExternalStoreWithSelector:lm}=r1,um=i=>i;function cm(i,e=um,a){const s=lm(i.subscribe,i.getState,i.getServerState||i.getInitialState,e,a);return sm(s),s}const Pf=(i,e)=>{const a=qd(i),s=(o,r=e)=>cm(a,o,r);return Object.assign(s,a),s},fm=(i,e)=>i?Pf(i,e):Pf;function dm(i,e){if(Object.is(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;if(i instanceof Map&&e instanceof Map){if(i.size!==e.size)return!1;for(const[s,o]of i)if(!Object.is(o,e.get(s)))return!1;return!0}if(i instanceof Set&&e instanceof Set){if(i.size!==e.size)return!1;for(const s of i)if(!e.has(s))return!1;return!0}const a=Object.keys(i);if(a.length!==Object.keys(e).length)return!1;for(const s of a)if(!Object.prototype.hasOwnProperty.call(e,s)||!Object.is(i[s],e[s]))return!1;return!0}const Zl=fm((i,e)=>{function a(){var s;const{accumulated:o,startTime:r,infos:u}=e(),f=(s=e().log)==null?void 0:s.maxMemory,{totalFrames:c,log:h,gl:d,max:v}=o,g={calls:d.calls/c,triangles:d.triangles/c,points:d.points/c,lines:d.lines/c},y={gpu:h.gpu/c,cpu:h.cpu/c,mem:h.mem/c,fps:h.fps/c};return{sessionTime:(window.performance.now()-r)/1e3,infos:u,log:y,gl:g,max:v,maxMemory:f,totalFrames:c}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:a}}),mr=i=>Zl(i,dm);Object.assign(mr,Zl);const{getState:gr,setState:er}=Zl,dr={value:0,fpsLimit:60,isOverLimit:0},Do=i=>(i==null?void 0:i.reduce((e,a)=>e+a,0))/i.length;class hm{constructor(e={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,e),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=Ah.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let e=0;const a=s=>{++e<20?this.rafId=window.requestAnimationFrame(a):(this.detected=Math.ceil(1e3*e/(s-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=s)};this.rafId=window.requestAnimationFrame(a)}addUI(e){this.names.indexOf(e)===-1&&(this.names.push(e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(e){const a=16.666666666666668,s=a-e.timeRemaining(),o=a*dr.fpsLimit/10/s;o<0||(dr.value=o,dr.isOverLimit<25?dr.isOverLimit++:er({overclockingFps:!0}))}nextFrame(e){this.frameId++;const a=e||this.now();let s=a-this.paramTime,o=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=a;else if(a>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const r=this.frameId-this.paramFrame,u=r*1e3/s,f=gr().overclockingFps?dr.value:u;if(o=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/s,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const c=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=(c==null?void 0:c.duration)||0,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(u),this.logsAccums.fps.push(f),this.logsAccums.gpu.push(o),this.overClock&&typeof window.requestIdleCallback<"u"&&(dr.isOverLimit>0&&f>u?dr.isOverLimit--:gr().overclockingFps&&er({overclockingFps:!1})),a>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:Do(this.logsAccums.cpu),gpu:Do(this.logsAccums.gpu),mem:Do(this.logsAccums.mem),fps:Do(this.logsAccums.fps),duration:Math.round(s),maxMemory:this.maxMemory,frameCount:r}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=a),this.overClock&&a-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=e,dr.fpsLimit=Math.round(Do(this.logsAccums.fpsFixed)/10)*100,er({fpsLimit:dr.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=a)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=a,this.circularId=0;else{const r=a-this.chartTime;let u=this.chartHz*r/1e3;for(;--u>0&&this.detected;){const c=(this.frameId-this.chartFrame)/r*1e3,h=gr().overclockingFps?dr.value:c;this.fpsChart[this.circularId%this.chartLen]=h;const d=1e3/this.currentMem,v=this.currentCpu,g=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/s*100))+4;g>0&&(this.gpuChart[this.circularId%this.chartLen]=g),v>0&&(this.cpuChart[this.circularId%this.chartLen]=v),d>0&&(this.memChart[this.circularId%this.chartLen]=d);for(let y=0;y<this.names.length;y++)this.chartLogger({i:y,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=a}}}startGpu(){const e=this.gl,a=this.extension;if(!(!e||!a)&&this.isWebGL2){let s=!1,o,r;if(this.query){this.queryHasResult=!1;let u=this.query;if(s=e.getQueryParameter(u,e.QUERY_RESULT_AVAILABLE),o=e.getParameter(a.GPU_DISJOINT_EXT),s&&!o){r=e.getQueryParameter(this.query,e.QUERY_RESULT);const f=r*1e-6;(s||o)&&(e.deleteQuery(this.query),u=null),s&&f>0&&(o||this.activeAccums.forEach((c,h)=>{this.gpuAccums[h]=f}))}}(s||!this.query)&&(this.queryCreated=!0,this.query=e.createQuery(),e.beginQuery(a.TIME_ELAPSED_EXT,this.query))}}endGpu(){const e=this.extension,a=this.gl;this.isWebGL2&&this.queryCreated&&a.getQuery(e.TIME_ELAPSED_EXT,a.CURRENT_QUERY)&&a.endQuery(e.TIME_ELAPSED_EXT)}begin(e){this.startGpu(),this.updateAccums(e)}end(e){this.endGpu(),this.updateAccums(e)}updateAccums(e){let a=this.names.indexOf(e);a===-1&&(a=this.names.length,this.addUI(e));const s=this.now();this.activeAccums[a]=!this.activeAccums[a],this.t0=s}}const pm=i=>{i.forEach((e,a)=>{const{meshes:s}=e;if(!s)return;let o={total:0,type:"Triangle",data:[]};Object.keys(s).forEach(r=>{const u=s[r],{geometry:f,material:c}=u;let h=f.index;const d=f.attributes.position;if(!d)return;let v=1;c.wireframe===!0&&(v=0);const g=h!==null?h.count:d.count,y=f.drawRange.start*v,S=f.drawRange.count*v,E=y,x=Math.min(g,y+S)-1;let C=1;const T=u.count||1;let M="Triangle",R=0;u.isMesh?c.wireframe===!0?(M="Line",C=C/2):(M="Triangle",C=C/3):u.isLine?(M="Line",u.isLineSegments?C=C/2:u.isLineLoop?C=C:C=C-1):u.isPoints?(M="Point",C=C):u.isSprite&&(M="Triangle",C=C/3);const b=Math.round(Math.max(0,x-E+1)*(C*T));b>R&&(R=b,o.type=M),o.total+=b,o.data.push({drawCount:b,type:M}),u.userData.drawCount={type:M,count:b}}),e.drawCounts=o})};var a1={exports:{}};(function(i){var e=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function o(c,h,d){this.fn=c,this.context=h,this.once=d||!1}function r(c,h,d,v,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new o(d,v||c,g),S=a?a+h:h;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],y]:c._events[S].push(y):(c._events[S]=y,c._eventsCount++),c}function u(c,h){--c._eventsCount===0?c._events=new s:delete c._events[h]}function f(){this._events=new s,this._eventsCount=0}f.prototype.eventNames=function(){var h=[],d,v;if(this._eventsCount===0)return h;for(v in d=this._events)e.call(d,v)&&h.push(a?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},f.prototype.listeners=function(h){var d=a?a+h:h,v=this._events[d];if(!v)return[];if(v.fn)return[v.fn];for(var g=0,y=v.length,S=new Array(y);g<y;g++)S[g]=v[g].fn;return S},f.prototype.listenerCount=function(h){var d=a?a+h:h,v=this._events[d];return v?v.fn?1:v.length:0},f.prototype.emit=function(h,d,v,g,y,S){var E=a?a+h:h;if(!this._events[E])return!1;var x=this._events[E],C=arguments.length,T,M;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),C){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,v),!0;case 4:return x.fn.call(x.context,d,v,g),!0;case 5:return x.fn.call(x.context,d,v,g,y),!0;case 6:return x.fn.call(x.context,d,v,g,y,S),!0}for(M=1,T=new Array(C-1);M<C;M++)T[M-1]=arguments[M];x.fn.apply(x.context,T)}else{var R=x.length,b;for(M=0;M<R;M++)switch(x[M].once&&this.removeListener(h,x[M].fn,void 0,!0),C){case 1:x[M].fn.call(x[M].context);break;case 2:x[M].fn.call(x[M].context,d);break;case 3:x[M].fn.call(x[M].context,d,v);break;case 4:x[M].fn.call(x[M].context,d,v,g);break;default:if(!T)for(b=1,T=new Array(C-1);b<C;b++)T[b-1]=arguments[b];x[M].fn.apply(x[M].context,T)}}return!0},f.prototype.on=function(h,d,v){return r(this,h,d,v,!1)},f.prototype.once=function(h,d,v){return r(this,h,d,v,!0)},f.prototype.removeListener=function(h,d,v,g){var y=a?a+h:h;if(!this._events[y])return this;if(!d)return u(this,y),this;var S=this._events[y];if(S.fn)S.fn===d&&(!g||S.once)&&(!v||S.context===v)&&u(this,y);else{for(var E=0,x=[],C=S.length;E<C;E++)(S[E].fn!==d||g&&!S[E].once||v&&S[E].context!==v)&&x.push(S[E]);x.length?this._events[y]=x.length===1?x[0]:x:u(this,y)}return this},f.prototype.removeAllListeners=function(h){var d;return h?(d=a?a+h:h,this._events[d]&&u(this,d)):(this._events=new s,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=a,f.EventEmitter=f,i.exports=f})(a1);var vm=a1.exports;const gm=Ho(vm),Yl=new gm;function mm(i,e,a){return Yl.on(i,e)}function ym(i,e,a){var s;Yl.removeListener(i,e,(s=a==null?void 0:a.context)!=null?s:null,a==null?void 0:a.once)}function wm(i,e){Yl.emit(i,e)}function xm(i,e,a=[],s){const o=Q.useRef(e);Q.useEffect(()=>void(o.current=e),[e]),Q.useEffect(()=>{const r=f=>{var c;return(c=o.current)==null?void 0:c.call(o,f)},u=mm(i,r);return()=>ym(i,r,{...s,context:u})},[i,void 0,...a])}const Sm=yi.prototype.updateMatrixWorld,_m=yi.prototype.updateWorldMatrix,Lf=yi.prototype.updateMatrix,Af=["calls","triangles","points","lines"],Uf=["gpu","cpu","mem","fps"];let qi={value:0},nr={value:0};const Cm=i=>{let e=""+i;return e=e.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),e!==null},Of=(i,e)=>{i.defines||(i.defines={}),i.defines&&!i.defines.muiPerf&&(i.defines=Object.assign(i.defines||{},{muiPerf:i.uuid}));const a=i.uuid;return e[a]||(e[a]={meshes:{},material:i},i.needsUpdate=!0),i.needsUpdate=!1,a},Em=i=>i==="muiPerf",Tm=({overClock:i,logsPerSecond:e,chart:a,deepAnalyze:s,matrixUpdate:o})=>{const{gl:r,scene:u}=fn();er({gl:r,scene:u});const f=Q.useMemo(()=>{const c=new hm({trackGPU:!0,overClock:i,chartLen:a?a.length:120,chartHz:a?a.hz:60,logsPerSecond:e||10,gl:r.getContext(),chartLogger:x=>{er({chart:x})},paramLogger:x=>{const C={maxMemory:x.maxMemory,gpu:x.gpu,cpu:x.cpu,mem:x.mem,fps:x.fps,totalTime:x.duration,frameCount:x.frameCount};er({log:C});const{accumulated:T}=gr(),M=r.info.render;T.totalFrames++,T.gl.calls+=M.calls,T.gl.triangles+=M.triangles,T.gl.points+=M.points,T.gl.lines+=M.lines,T.log.gpu+=x.gpu,T.log.cpu+=x.cpu,T.log.mem+=x.mem,T.log.fps+=x.fps;for(let R=0;R<Af.length;R++){const b=Af[R],I=M[b];I>T.max.gl[b]&&(T.max.gl[b]=I)}for(let R=0;R<Uf.length;R++){const b=Uf[R],I=x[b];I>T.max.log[b]&&(T.max.log[b]=I)}er({accumulated:T}),wm("log",[C,r])}}),h=r.getContext();let d=null,v=null;const g=h.getExtension("WEBGL_debug_renderer_info"),y=h.getParameter(h.VERSION);g!=null&&(d=h.getParameter(g.UNMASKED_RENDERER_WEBGL),v=h.getParameter(g.UNMASKED_VENDOR_WEBGL)),v||(v="Unknown vendor"),d||(d=h.getParameter(h.RENDERER)),er({startTime:window.performance.now(),infos:{version:y,renderer:d,vendor:v}});const S=new Map,E=new Map;return Object.defineProperty(Go.prototype,"onBeforeRender",{get(){return(...x)=>{var C;c&&c.begin("profiler"),(C=S.get(this))==null||C(...x)}},set(x){S.set(this,x)},configurable:!0}),Object.defineProperty(Go.prototype,"onAfterRender",{get(){return(...x)=>{var C;c&&c.end("profiler"),(C=E.get(this))==null||C(...x)}},set(x){E.set(this,x)},configurable:!0}),c},[]);return Q.useEffect(()=>{f&&(f.overClock=i||!1,i===!1&&(er({overclockingFps:!1}),dr.value=0,dr.isOverLimit=0),f.chartHz=(a==null?void 0:a.hz)||60,f.chartLen=(a==null?void 0:a.length)||120)},[i,f,a==null?void 0:a.length,a==null?void 0:a.hz]),Q.useEffect(()=>{o&&(yi.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&qi.value++,Sm.apply(this,arguments)},yi.prototype.updateWorldMatrix=function(){qi.value++,_m.apply(this,arguments)},yi.prototype.updateMatrix=function(){nr.value++,Lf.apply(this,arguments)}),r.info.autoReset=!1;let c=null,h=null;if(r.info)return c=up(function(){gr().paused&&er({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),f.startCpuProfiling=!0),nr.value-=1,qi.value=0,nr.value=0,r.info&&r.info.reset()}),h=cp(function(){var v,g;if(f&&!f.paused&&(f.nextFrame(window.performance.now()),i&&typeof window.requestIdleCallback<"u"&&(f.idleCbId=requestIdleCallback(f.nextFps))),s){const y={},S=new Map;u.traverse(function(x){if((x instanceof Ci||x instanceof Uh)&&x.material){let C=x.material.uuid;Array.isArray(x.material)&&x.material.length>1?C=Of(x.material[1],y):C=Of(x.material,y),y[C].meshes[x.uuid]=x}}),(g=(v=r==null?void 0:r.info)==null?void 0:v.programs)==null||g.forEach(E=>{const x=E.cacheKey.split(","),C=x[x.findIndex(Em)+1];if(Cm(C)&&y[C]){const{material:T,meshes:M}=y[C];S.set(C,{program:E,material:T,meshes:M,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),S.size!==gr().programs.size&&(pm(S),er({programs:S,triggerProgramsUpdate:gr().triggerProgramsUpdate++}))}}),()=>{f&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(f.idleCbId),window.cancelAnimationFrame(f.rafId),window.cancelAnimationFrame(f.checkQueryId)),o&&(yi.prototype.updateMatrixWorld=Lf),c(),h()}},[f,r,a,o]),Q.useEffect(()=>{const c=fp(function(){return f&&(f.paused=!0,nr.value=0,qi.value=0,er({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{c()}},[]),null},km=dn("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),El=dn("small",{position:"absolute",right:0,fontSize:"10px"}),kn=dn("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),Wn=dn("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),Mm=dn("div",{display:"flex"}),bm=dn("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),Rm=dn("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),Im=dn("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),Xl=dn("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),Pm=dn("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),Lm=dn("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),Am=dn("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),Um=dn("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),Om=dn("div",{marginTop:"0"}),Df=dn("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),s1=dn("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),l1=dn("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),Dm=dn("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),Fm=dn("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function nn(i,e){if(i==null)return{};var a={},s=Object.keys(i),o,r;for(r=0;r<s.length;r++)o=s[r],!(e.indexOf(o)>=0)&&(a[o]=i[o]);return a}var jm=["color"],u1=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,jm);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Nm=["color"],zm=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,Nm);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Bm=["color"],Gm=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,Bm);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Hm=["color"],Wm=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,Hm);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Vm=["color"],Zm=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,Vm);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Ym=["color"],Xm=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,Ym);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Qm=["color"],Km=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,Qm);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Jm=["color"],qm=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,Jm);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),$m=["color"],jl=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,$m);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),e2=["color"],t2=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,e2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),n2=["color"],r2=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,n2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),i2=["color"],o2=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,i2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),a2=["color"],s2=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,a2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),l2=["color"],u2=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,l2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),c2=["color"],f2=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,c2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),d2=["color"],h2=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,d2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),p2=["color"],v2=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,p2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),g2=["color"],m2=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,g2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),y2=["color"],c1=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,y2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:s}))}),w2=["color"],f1=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,w2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:s}))}),x2=["color"],d1=Q.forwardRef(function(i,e){var a=i.color,s=a===void 0?"currentColor":a,o=nn(i,x2);return Q.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Q.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))});const fr=Q.memo(({isPerf:i,color:e,colorBlind:a,customData:s,isMemory:o,isShadersInfo:r,metric:u,fontSize:f,offsetY:c=0,offsetX:h,round:d,hasInstance:v})=>{const{width:g,height:y}=fn(x=>x.viewport),S=Q.useRef(null),E=Q.useRef(null);return xm("log",function([C,T]){var M;if(!C||!S.current||(s&&(S.current.text=(Math.round(gr().customData*Math.pow(10,d))/Math.pow(10,d)).toFixed(d)),!u))return;let R=C[u];if(r?R=(M=T.info.programs)==null?void 0:M.length:u==="matriceCount"?R=nr.value:!i&&T.info.render&&(R=(o?T.info.memory:T.info.render)[u]),u==="fps"&&(S.current.color=gr().overclockingFps?Mn(a).overClock.toString():`rgb(${Mn(a).fps.toString()})`),S.current.text=(Math.round(R*Math.pow(10,d))/Math.pow(10,d)).toFixed(d),v){const b=T.info.instance;if(typeof b>"u"&&u!=="matriceCount")return;let I;u==="matriceCount"?I=qi.value:I=b[u],I>0?(S.current.fontSize=f/1.15,E.current.fontSize=R>0?f/1.4:f,S.current.position.y=y/2-c-f/1.9,E.current.text=" 	"+(Math.round(I*Math.pow(10,d))/Math.pow(10,d)).toFixed(d)):(E.current.text&&(E.current.text=""),S.current.position.y=y/2-c-f,S.current.fontSize=f)}nr.value-=1,S.current.updateMatrix(),S.current.matrixWorld.copy(S.current.matrix)}),W.jsxs(Q.Suspense,{fallback:null,children:[W.jsxs(wf,{textAlign:"justify",matrixAutoUpdate:!1,ref:S,fontSize:f,position:[-g/2+h+f,y/2-c-f,0],color:e,characters:"0123456789",onUpdate:x=>{x.updateMatrix(),nr.value-=1,x.matrixWorld.copy(x.matrix)},children:[W.jsx("meshBasicMaterial",{blending:kc}),"0"]}),v&&W.jsx(wf,{textAlign:"justify",matrixAutoUpdate:!1,ref:E,fontSize:8,position:[-g/2+h+f,y/2-c-f*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:x=>{x.updateMatrix(),nr.value-=1,x.matrixWorld.copy(x.matrix)},children:W.jsx("meshBasicMaterial",{blending:kc})})]})}),S2=({colorBlind:i,customData:e,minimal:a,matrixUpdate:s})=>W.jsxs(W.Fragment,{children:[W.jsx(fr,{colorBlind:i,color:`rgb(${Mn(i).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),W.jsx(fr,{color:`rgb(${Mn(i).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),W.jsx(fr,{color:`rgb(${Mn(i).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),a?null:W.jsxs(W.Fragment,{children:[W.jsx(fr,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),W.jsx(fr,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),W.jsx(fr,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),W.jsx(fr,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),W.jsx(fr,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),W.jsx(fr,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),W.jsx(fr,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),s&&W.jsx(fr,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),e&&W.jsx(fr,{color:`rgb(${Mn(i).custom.toString()})`,customData:e,fontSize:14,offsetY:0,offsetX:a?200:320,round:e.round||2})]}),_2=({colorBlind:i,minimal:e,chart:a={length:120,hz:60}})=>{const s=Q.useMemo(()=>({fps:new Float32Array(a.length*3),cpu:new Float32Array(a.length*3),gpu:new Float32Array(a.length*3)}),[a]),o=Q.useRef(null),r=Q.useRef(null),u=Q.useRef(null),f=Q.useRef(null),c=Q.useMemo(()=>new zt(0,0,0),[]),h=(d,v=1,g,y)=>{let S=0;const{width:E,height:x}=y,C=gr().chart.data[d];if(!C||C.length===0)return;const T=e?2:6,M=e?12:50;let R=C.length;for(let b=0;b<R;b++){let I=(gr().chart.circularId+b+1)%R;C[I]!==void 0&&(C[I]>S&&(S=C[I]*v),c.set(T+b/(R-1)*(E-T*2)-E/2,Math.min(100,C[I])*v/100*(x-T*2-M)-x/2,0),c.toArray(g.attributes.position.array,b*3))}g.attributes.position.needsUpdate=!0};return is(function({viewport:v}){h("fps",1,o.current,v),r.current&&r.current.color.set(gr().overclockingFps?Mn(i).overClock.toString():`rgb(${Mn(i).fps.toString()})`),h("gpu",5,u.current,v),h("cpu",5,f.current,v)}),W.jsxs(W.Fragment,{children:[W.jsxs("line",{onUpdate:d=>{d.updateMatrix(),nr.value-=1,d.matrixWorld.copy(d.matrix)},children:[W.jsx("bufferGeometry",{ref:o,children:W.jsx("bufferAttribute",{attach:"attributes-position",count:a.length,array:s.fps,itemSize:3,usage:rl,needsUpdate:!0})}),W.jsx("lineBasicMaterial",{ref:r,color:`rgb(${Mn(i).fps.toString()})`,transparent:!0,opacity:.5})]}),W.jsxs("line",{onUpdate:d=>{d.updateMatrix(),nr.value-=1,d.matrixWorld.copy(d.matrix)},children:[W.jsx("bufferGeometry",{ref:u,children:W.jsx("bufferAttribute",{attach:"attributes-position",count:a.length,array:s.gpu,itemSize:3,usage:rl,needsUpdate:!0})}),W.jsx("lineBasicMaterial",{color:`rgb(${Mn(i).gpu.toString()})`,transparent:!0,opacity:.5})]}),W.jsxs("line",{onUpdate:d=>{d.updateMatrix(),nr.value-=1,d.matrixWorld.copy(d.matrix)},children:[W.jsx("bufferGeometry",{ref:f,children:W.jsx("bufferAttribute",{attach:"attributes-position",count:a.length,array:s.cpu,itemSize:3,usage:rl,needsUpdate:!0})}),W.jsx("lineBasicMaterial",{color:`rgb(${Mn(i).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},C2=({colorBlind:i,chart:e,customData:a,matrixUpdate:s,showGraph:o=!0,antialias:r=!0,minimal:u})=>{const f=Q.useRef(void 0),c=mr(h=>h.paused);return W.jsxs(Rm,{style:{display:"flex",position:"absolute",height:`${u?37:o?100:60}px`,minWidth:`${u?"100px":a?"370px":"310px"}`},children:[W.jsx(Up,{ref:f,orthographic:!0,camera:{rotation:[0,0,0]},dpr:r?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:h})=>{h.traverse(d=>{d.matrixWorldAutoUpdate=!1,d.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${u?37:o?100:60}px`},children:c?null:W.jsxs(W.Fragment,{children:[W.jsx(E2,{}),W.jsx(S2,{customData:a,minimal:u,matrixUpdate:s}),o&&W.jsx(_2,{colorBlind:i,minimal:u,chart:e})]})}),c&&W.jsxs(Im,{children:[W.jsx(f2,{})," PAUSED"]})]})},E2=()=>(is(function({gl:e,scene:a,camera:s}){s.updateMatrix(),nr.value-=1,s.matrixWorld.copy(s.matrix),s.matrixWorldInverse.copy(s.matrixWorld).invert(),e.render(a,s),qi.value=0,nr.value=0},1/0),null),T2=Q.forwardRef(({portal:i,className:e,children:a,name:s,...o},r)=>{const u=fn(d=>d.gl),f=Q.useRef(null),c=Q.useRef(null),h=(i==null?void 0:i.current)!=null?i.current:u.domElement.parentNode;return Q.useLayoutEffect(()=>{if(!f.current||!h)return;const d=document.createElement("div"),v=c.current=Yf(d);return h.appendChild(d),()=>{v.unmount(),c.current=null,h.removeChild(d)}},[h]),Q.useLayoutEffect(()=>{const d=c.current;d&&d.render(W.jsx("div",{ref:r,className:e,children:a}))}),W.jsx("group",{name:s,...o,ref:f})});function k2(i){let e=0;for(let s in i.attributes){const o=i.getAttribute(s);e+=o.count*o.itemSize*o.array.BYTES_PER_ELEMENT}const a=i.getIndex();return e+=a?a.count*a.itemSize*a.array.BYTES_PER_ELEMENT:0,e}const Ff=(i,e)=>{const a=o=>{switch(o){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},s=o=>{switch(o){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:i,url:e.image.currentSrc,encoding:s(e.encoding),wrapT:a(e.wrapT),flipY:e.flipY.toString()}},M2=({program:i,material:e,setTexNumber:a})=>{const s=mr(u=>u.gl),[o,r]=Q.useState(null);return Q.useEffect(()=>{if(s){const u=i==null?void 0:i.getUniforms();let f=0;const c=new Map;u.seq.forEach(h=>{if(!h.id.includes("uTroika")&&h.id!=="isOrthographic"&&h.id!=="uvTransform"&&h.id!=="lightProbe"&&h.id!=="projectionMatrix"&&h.id!=="viewMatrix"&&h.id!=="normalMatrix"&&h.id!=="modelMatrix"&&h.id!=="modelViewMatrix"){let d=[],v={name:h.id};h.cache&&(h.cache.forEach(g=>{typeof g<"u"&&d.push(g.toString().substring(0,4))}),v.value=d.join(),e[h.id]&&e[h.id].image&&e[h.id].image&&(f++,v.value=Ff(h.id,e[h.id])),v.value||(v.value="empty"),c.set(h.id,v))}}),e.uniforms&&Object.keys(e.uniforms).forEach(h=>{const d=e.uniforms[h];if(d.value){const{value:v}=d;let g={name:h};if(h.includes("uTroika"))return;if(v.isTexture)f++,g.value=Ff(h,v);else{let y=JSON.stringify(v);try{y=JSON.stringify(v)}catch{y=v.toString()}g.value=y}c.set(h,g)}}),f>0&&a(f),r(c)}},[]),W.jsx(s1,{children:o&&Array.from(o.values()).map(u=>W.jsx("span",{children:typeof u.value=="string"?W.jsx("li",{children:W.jsxs("span",{children:[u.name," :"," ",W.jsxs("b",{children:[u.value.substring(0,30),u.value.length>30?"...":""]})]})}):W.jsxs(W.Fragment,{children:[W.jsx("li",{children:W.jsxs("b",{children:[u.value.name,":"]})}),W.jsxs("div",{children:[Object.keys(u.value).map(f=>f!=="name"?W.jsx("div",{children:f==="url"?W.jsx("a",{href:u.value[f],target:"_blank",children:W.jsx("img",{src:u.value[f]})}):W.jsxs("li",{children:[f,": ",W.jsx("b",{children:u.value[f]})]})},f):null),W.jsxs(l1,{onClick:()=>{var f;console.info(e[u.value.name]||((f=e==null?void 0:e.uniforms[u.value.name])==null?void 0:f.value))},children:["console.info(",u.value.name,");"]})]})]})},u.name))})},b2=({el:i})=>{mr(s=>s.log);const e=mr(s=>s.gl),a=s=>{if(!e)return 0;const o=Math.round(s.drawCounts.total/(e.info.render.triangles+e.info.render.lines+e.info.render.points)*100*10)/10;return isFinite(o)&&o||0};return W.jsx(W.Fragment,{children:i.drawCounts.total>0&&W.jsxs(kn,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[i.drawCounts.type==="Triangle"?W.jsx(d1,{style:{top:"-1px"}}):W.jsx(u1,{style:{top:"-1px"}}),i.drawCounts.total,W.jsxs("small",{children:[i.drawCounts.type,"s"]}),e&&W.jsxs(Wn,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[i.visible&&!i.material.wireframe?a(i):0,"%"]})]})})},R2=({el:i})=>{const[e,a]=Q.useState(i.visible),[s,o]=Q.useState(i.expand),[r,u]=Q.useState(0),{meshes:f,program:c,material:h}=i;return W.jsxs(Lm,{children:[W.jsxs(bm,{onClick:()=>{i.expand=!s,Object.keys(f).forEach(d=>{const v=f[d];v.material.wireframe=!1}),o(!s)},children:[W.jsx(Xl,{style:{marginRight:"6px"},children:s?W.jsx("span",{children:W.jsx(c1,{})}):W.jsx("span",{children:W.jsx(f1,{})})}),c&&W.jsxs("span",{children:[W.jsx(Am,{children:c.name}),W.jsxs(kn,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[W.jsx(r2,{style:{top:"-1px"}}),Object.keys(f).length,W.jsx("small",{children:Object.keys(f).length>1?"users":"user"})]}),r>0&&W.jsxs(kn,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[r>1?W.jsx(jl,{style:{top:"-1px"}}):W.jsx(jl,{style:{top:"-1px"}}),r,W.jsx("small",{children:"tex"})]}),W.jsx(b2,{el:i}),h.glslVersion==="300 es"&&W.jsxs(kn,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[W.jsx(h2,{style:{top:"-1px"}}),"300",W.jsx("small",{children:"es"}),W.jsx(Wn,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),W.jsx(Pm,{onPointerEnter:()=>{Object.keys(f).forEach(d=>{const v=f[d];v.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(f).forEach(d=>{const v=f[d];v.material.wireframe=!1})},onClick:d=>{d.stopPropagation(),Object.keys(f).forEach(v=>{const g=f[v],y=!e;g.visible=y,i.visible=y,a(y)})},children:e?W.jsx(qm,{}):W.jsx(Km,{})})]}),W.jsxs("div",{style:{maxHeight:s?"9999px":0,overflow:"hidden"},children:[W.jsxs(Df,{children:[W.jsx(Gm,{})," Uniforms:"]}),W.jsx(M2,{program:c,material:h,setTexNumber:u}),W.jsxs(Df,{children:[W.jsx(Wm,{})," Geometries:"]}),W.jsx(s1,{children:f&&Object.keys(f).map(d=>f[d]&&f[d].geometry&&W.jsxs(Fm,{children:[W.jsxs("span",{children:[f[d].geometry.type,": "]}),f[d].userData&&f[d].userData.drawCount&&W.jsxs("b",{children:[W.jsxs("div",{children:[f[d].userData.drawCount.count,W.jsxs("small",{children:[" ",f[d].userData.drawCount.type,"s"]})]}),W.jsx("br",{}),W.jsxs("div",{children:[Math.round(k2(f[d].geometry)/1024*1e3)/1e3,"Kb",W.jsx("small",{children:" memory used"})]})]})]},d))}),W.jsxs(l1,{onClick:()=>{console.info(h)},children:["console.info(",h.type,")"]})]})]})},I2=()=>{mr(e=>e.triggerProgramsUpdate);const i=mr(e=>e.programs);return W.jsx(Om,{children:i&&Array.from(i.values()).map(e=>e&&e?W.jsx(R2,{el:e},e.material.uuid):null)})},Mn=i=>({overClock:"#ff6eff",fps:i?"100, 143, 255":"238,38,110",cpu:i?"254, 254, 98":"66,226,46",gpu:i?"254,254,254":"253,151,31",custom:i?"86,180,233":"40,255,255"}),P2=({showGraph:i,colorBlind:e})=>{const a=mr(o=>o.overclockingFps),s=mr(o=>o.fpsLimit);return W.jsxs(Wn,{style:i?{color:a?Mn(e).overClock.toString():`rgb(${Mn(e).fps})`}:{},children:["FPS ",a?`${s}`:""]})},L2=({showGraph:i,colorBlind:e,customData:a,minimal:s})=>{const o=mr(r=>r.gl);return o?W.jsxs(Mm,{children:[W.jsxs(kn,{children:[W.jsx(o2,{}),W.jsx(Wn,{style:i?{color:`rgb(${Mn(e).gpu.toString()})`}:{},children:"GPU"}),W.jsx(El,{children:"ms"})]}),W.jsxs(kn,{children:[W.jsx(v2,{}),W.jsx(Wn,{style:i?{color:`rgb(${Mn(e).cpu.toString()})`}:{},children:"CPU"}),W.jsx(El,{children:"ms"})]}),W.jsxs(kn,{children:[W.jsx(t2,{}),W.jsx(P2,{showGraph:i,colorBlind:e})]}),!s&&o&&W.jsxs(kn,{children:[W.jsx(m2,{}),W.jsx(Wn,{children:o.info.render.calls===1?"call":"calls"})]}),!s&&o&&W.jsxs(kn,{children:[W.jsx(d1,{}),W.jsx(Wn,{children:"Triangles"})]}),a&&W.jsxs(kn,{children:[W.jsx(zm,{}),W.jsx(Wn,{style:i?{color:`rgb(${Mn(e).custom})`}:{},children:a.name}),a.info&&W.jsx(El,{children:a.info})]})]}):null},A2=({showGraph:i,colorBlind:e,deepAnalyze:a,customData:s,matrixUpdate:o,openByDefault:r,minimal:u})=>W.jsxs(W.Fragment,{children:[W.jsx(L2,{showGraph:i,colorBlind:e,customData:s,minimal:u}),!u&&W.jsx(O2,{matrixUpdate:o,openByDefault:r,deepAnalyze:a,showGraph:i})]}),U2=({matrixUpdate:i})=>W.jsxs("div",{children:[W.jsxs(kn,{children:[W.jsx(s2,{}),W.jsx(Wn,{children:"Geometries"})]}),W.jsxs(kn,{children:[W.jsx(jl,{}),W.jsx(Wn,{children:"Textures"})]}),W.jsxs(kn,{children:[W.jsx(u1,{}),W.jsx(Wn,{children:"shaders"})]}),W.jsxs(kn,{children:[W.jsx(u2,{}),W.jsx(Wn,{children:"Lines"})]}),W.jsxs(kn,{children:[W.jsx(Zm,{}),W.jsx(Wn,{children:"Points"})]}),i&&W.jsxs(kn,{children:[W.jsx(Xm,{}),W.jsx(Wn,{children:"Matrices"})]})]}),jf=({tab:i,title:e,set:a})=>{const s=mr(o=>o.tab);return W.jsx(Xl,{className:`${s===i?" __perf_toggle_tab_active":""}`,onClick:()=>{a(!0),er({tab:i})},children:W.jsx("span",{children:e})})},O2=({openByDefault:i,showGraph:e,deepAnalyze:a,matrixUpdate:s})=>{const[o,r]=hr.useState(i);return W.jsxs("span",{children:[W.jsx(D2,{show:o,showGraph:e,matrixUpdate:s}),i&&!a?null:W.jsxs(Dm,{className:"__perf_toggle",children:[a&&W.jsx(jf,{tab:"programs",title:"Programs",set:r}),a&&W.jsx(jf,{tab:"infos",title:"Infos",set:r}),W.jsx(Xl,{onClick:()=>{r(!o)},children:o?W.jsxs("span",{children:[W.jsx(c1,{})," Minimize"]}):W.jsxs("span",{children:[W.jsx(f1,{})," More"]})})]})]})},D2=({show:i,showGraph:e,matrixUpdate:a})=>{const s=mr(o=>o.tab);return W.jsxs(W.Fragment,{children:[W.jsx(U2,{matrixUpdate:a}),i&&W.jsx("div",{children:W.jsx(Um,{style:{marginTop:e?"38px":0},children:s==="programs"&&W.jsx(I2,{})})})]})},J2=({showGraph:i=!0,colorBlind:e=!1,openByDefault:a=!0,className:s,overClock:o=!1,style:r,position:u="top-right",chart:f,logsPerSecond:c,deepAnalyze:h=!1,antialias:d=!0,customData:v,matrixUpdate:g,minimal:y})=>{const S=Q.useRef(null);return W.jsxs(W.Fragment,{children:[W.jsx(Tm,{logsPerSecond:c,chart:f,overClock:o,deepAnalyze:h,matrixUpdate:g}),W.jsx(T2,{name:"r3f-perf",children:W.jsxs(km,{className:(s?" ".concat(s):" ")+` ${u||""} ${y?"minimal":""}`,style:{minHeight:y?"37px":i?"100px":"60px",...r},ref:S,children:[W.jsx(C2,{perfContainerRef:S,colorBlind:e,chart:f,showGraph:i,antialias:d,customData:v,minimal:y,matrixUpdate:g}),W.jsx(A2,{colorBlind:e,showGraph:i,deepAnalyze:h,openByDefault:a,customData:v,matrixUpdate:g,minimal:y})]})})]})};export{G2 as C,B2 as F,Z2 as O,Y2 as P,qa as _,fn as a,W2 as b,is as c,K2 as d,V2 as e,Q2 as f,X2 as g,Up as h,J2 as i,W as j,Mc as k,om as q,N2 as u};
