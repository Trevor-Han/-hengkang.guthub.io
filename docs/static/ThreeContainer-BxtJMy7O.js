var ca=Object.defineProperty;var la=(a,e,t)=>e in a?ca(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var Z=(a,e,t)=>la(a,typeof e!="symbol"?e+"":e,t);import{F as Sn,C as ua,u as $e,b as _n,d as br,e as bn,f as fa,j as D,O as da,g as pa}from "./r3f-MrBdxHq8.js";import{g as ft,u as ba,C as ce,v as ze,q as ha,w as dt,x as Ct,k as ma,y as Ve,P as hr,f as se,Q as Pt,z as An,U as Zt,G as Et,I as ga,J as Ge,p as mr,K as Dt,r as Ze,X as va,M as Tt,T as en,Y as Xe,Z as he,_ as pt,$ as Oe,a0 as xa,a1 as ya,a2 as tn,a3 as gr,a4 as vr,a5 as ct,a6 as Lt,a7 as wa,a8 as Sa,a9 as _a,aa as Me,ab as Aa,ac as Ea,ad as xr,ae as Ta,af as lt,ag as Ma,ah as yr,ai as Ra,aj as ka,ak as wr,al as Ca,B as Sr,am as Pa,an as La,ao as ja,ap as Ia,aq as Oa,O as Da,ar as Fa,as as Na,at as za,au as _r,av as En,aw as Ga,ax as Ba,ay as Ua,az as Ha,aA as Va,aB as Ka,aC as qa,aD as Wa,aE as Tn,aF as Mn,aG as Rn,aH as Qa,aI as Xa,aJ as Ya,aK as $a,H as xt,F as Gt,aL as yt,aM as Ja}from "./three-DIB8jkB1.js";import{o as xe,r as U,g as Ft}from "./react-CEZk2wmh.js";import{g as J,u as Te}from "./gsap-BN-z8O7O.js";import{_ as mt,a as gt,b as Ar,c as Er,d as Ue,e as Mt,f as Za,h as ei,r as W,g as ke,M as ee,W as Y,s as ti,i as Bt,j as ut,m as je,k as ni,R as Tr,l as ri,K as ai,n as Mr,o as Fe,D as ii,p as oi,q as qe,t as kn,u as Cn,v as Pn,w as si,x as nn,C as rn,y as Ut,z as Ln,A as ci,B as li,E as ui,F as fi,G as di,H as pi,I as Ee,J as bi,L as hi,N as mi,O as gi,P as vi,Q as xi,S as yi}from "./index-DwRpjUGG.js";var Rr=mt(function a(){gt(this,a)}),kr="CALC_UNIT",wi=new RegExp(kr,"g");function Ht(a){return typeof a=="number"?"".concat(a).concat(kr):a}var Si=function(a){Ar(t,a);var e=Er(t);function t(r, n){var i;gt(this,t),i=e.call(this),Ue(Mt(i),"result",""),Ue(Mt(i),"unitlessCssVar",void 0),Ue(Mt(i),"lowPriority",void 0);var o=Za(r);return i.unitlessCssVar=n,r instanceof t?i.result="(".concat(r.result,")"):o==="number"?i.result=Ht(r):o==="string"&&(i.result=r),i}return mt(t,[{key:"add",value:function(n){return n instanceof t?this.result="".concat(this.result," + ").concat(n.getResult()):(typeof n=="number"||typeof n=="string")&&(this.result="".concat(this.result," + ").concat(Ht(n))),this.lowPriority=!0,this}},{key:"sub",value:function(n){return n instanceof t?this.result="".concat(this.result," - ").concat(n.getResult()):(typeof n=="number"||typeof n=="string")&&(this.result="".concat(this.result," - ").concat(Ht(n))),this.lowPriority=!0,this}},{key:"mul",value:function(n){return this.lowPriority&&(this.result="(".concat(this.result,")")),n instanceof t?this.result="".concat(this.result," * ").concat(n.getResult(!0)):(typeof n=="number"||typeof n=="string")&&(this.result="".concat(this.result," * ").concat(n)),this.lowPriority=!1,this}},{key:"div",value:function(n){return this.lowPriority&&(this.result="(".concat(this.result,")")),n instanceof t?this.result="".concat(this.result," / ").concat(n.getResult(!0)):(typeof n=="number"||typeof n=="string")&&(this.result="".concat(this.result," / ").concat(n)),this.lowPriority=!1,this}},{key:"getResult",value:function(n){return this.lowPriority||n?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(n){var i=this,o=n||{},s=o.unit,c=!0;return typeof s=="boolean"?c=s:Array.from(this.unitlessCssVar).some(function(l){return i.result.includes(l)})&&(c=!1),this.result=this.result.replace(wi,c?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(Rr),_i=function(a){Ar(t,a);var e=Er(t);function t(r){var n;return gt(this,t),n=e.call(this),Ue(Mt(n),"result",0),r instanceof t?n.result=r.result:typeof r=="number"&&(n.result=r),n}return mt(t,[{key:"add",value:function(n){return n instanceof t?this.result+=n.result:typeof n=="number"&&(this.result+=n),this}},{key:"sub",value:function(n){return n instanceof t?this.result-=n.result:typeof n=="number"&&(this.result-=n),this}},{key:"mul",value:function(n){return n instanceof t?this.result*=n.result:typeof n=="number"&&(this.result*=n),this}},{key:"div",value:function(n){return n instanceof t?this.result/=n.result:typeof n=="number"&&(this.result/=n),this}},{key:"equal",value:function(){return this.result}}]),t}(Rr),Ai=function(e, t){var r=e==="css"?Si:_i;return function(n){return new r(n,t)}};function Cr(a, e, t){switch(ei(a,e)){case 5103:return Y+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Y+a+a;case 4789:return ut+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return Y+a+ut+a+ee+a+a;case 5936:switch(ke(a,e+11)){case 114:return Y+a+ee+W(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return Y+a+ee+W(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return Y+a+ee+W(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return Y+a+ee+a+a;case 6165:return Y+a+ee+"flex-"+a+a;case 5187:return Y+a+W(a,/(\w+).+(:[^]+)/,Y+"box-$1$2"+ee+"flex-$1$2")+a;case 5443:return Y+a+ee+"flex-item-"+W(a,/flex-|-self/g,"")+(je(a,/flex-|baseline/)?"":ee+"grid-row-"+W(a,/flex-|-self/g,""))+a;case 4675:return Y+a+ee+"flex-line-pack"+W(a,/align-content|flex-|-self/g,"")+a;case 5548:return Y+a+ee+W(a,"shrink","negative")+a;case 5292:return Y+a+ee+W(a,"basis","preferred-size")+a;case 6060:return Y+"box-"+W(a,"-grow","")+Y+a+ee+W(a,"grow","positive")+a;case 4554:return Y+W(a,/([^-])(transform)/g,"$1"+Y+"$2")+a;case 6187:return W(W(W(a,/(zoom-|grab)/,Y+"$1"),/(image-set)/,Y+"$1"),a,"")+a;case 5495:case 3959:return W(a,/(image-set\([^]*)/,Y+"$1$`$1");case 4968:return W(W(a,/(.+:)(flex-)?(.*)/,Y+"box-pack:$3"+ee+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Y+a+a;case 4200:if(!je(a,/flex-|baseline/))return ee+"grid-column-align"+ni(a,e)+a;break;case 2592:case 3360:return ee+W(a,"template-","")+a;case 4384:case 3616:return t&&t.some(function(r, n){return e=n,je(r.props,/grid-\w+-end/)})?~Bt(a+(t=t[e].value),"span",0)?a:ee+W(a,"-start","")+a+ee+"grid-row-span:"+(~Bt(t,"span",0)?je(t,/\d+/):+je(t,/\d+/)-+je(a,/\d+/))+";":ee+W(a,"-start","")+a;case 4896:case 4128:return t&&t.some(function(r){return je(r.props,/grid-\w+-start/)})?a:ee+W(W(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return W(a,/(.+)-inline(.+)/,Y+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ti(a)-1-e>6)switch(ke(a,e+1)){case 109:if(ke(a,e+4)!==45)break;case 102:return W(a,/(.+:)(.+)-([^]+)/,"$1"+Y+"$2-$3$1"+ut+(ke(a,e+3)==108?"$3":"$2-$3"))+a;case 115:return~Bt(a,"stretch",0)?Cr(W(a,"stretch","fill-available"),e,t)+a:a}break;case 5152:case 5920:return W(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r, n, i, o, s, c, l){return ee+n+":"+i+l+(o?ee+n+"-span:"+(s?c:+c-+i)+l:"")+a});case 4949:if(ke(a,e+6)===121)return W(a,":",":"+Y)+a;break;case 6444:switch(ke(a,ke(a,14)===45?18:11)){case 120:return W(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Y+(ke(a,14)===45?"inline-":"")+"box$3$1"+Y+"$2$3$1"+ee+"$2box$3")+a;case 100:return W(a,":",":"+ee)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return W(a,"scroll-","scroll-snap-")+a}return a}function Ei(a){var e=oi(a);return function(t, r, n, i){for(var o="",s=0; s<e; s++)o+=a[s](t,r,n,i)||"";return o}}function Ti(a){return function(e){e.root||(e=e.return)&&a(e)}}function Mi(a, e, t, r){if(a.length>-1&&!a.return)switch(a.type){case ii:a.return=Cr(a.value,a.length,t);return;case ai:return Mr([Fe(a,{value:W(a.value,"@","@"+Y)})],r);case Tr:if(a.length)return ri(t=a.props,function(n){switch(je(n,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":qe(Fe(a,{props:[W(n,/:(read-\w+)/,":"+ut+"$1")]})),qe(Fe(a,{props:[n]})),kn(a,{props:Cn(t,r)});break;case"::placeholder":qe(Fe(a,{props:[W(n,/:(plac\w+)/,":"+Y+"input-$1")]})),qe(Fe(a,{props:[W(n,/:(plac\w+)/,":"+ut+"$1")]})),qe(Fe(a,{props:[W(n,/:(plac\w+)/,ee+"input-$1")]})),qe(Fe(a,{props:[n]})),kn(a,{props:Cn(t,r)});break}return""})}}var Pr=function(){function a(e, t){gt(this,a),Ue(this,"name",void 0),Ue(this,"style",void 0),Ue(this,"_keyframe",!0),this.name=e,this.style=t}return mt(a,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),a}();const Ri=1e3*60*10;let ki=function(){function a(){gt(this,a),this.map=new Map,this.objectIDMap=new WeakMap,this.nextID=0,this.lastAccessBeat=new Map,this.accessBeat=0}return mt(a,[{key:"set",value:function(t, r){this.clear();const n=this.getCompositeKey(t);this.map.set(n,r),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(t){const r=this.getCompositeKey(t),n=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(t){return t.map(n=>n&&typeof n=="object"?`obj_${this.getObjectID(n)}`:`${typeof n}_${n}`).join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);const r=this.nextID;return this.objectIDMap.set(t,r),this.nextID+=1,r}},{key:"clear",value:function(){if(this.accessBeat>1e4){const t=Date.now();this.lastAccessBeat.forEach((r, n)=>{t-r>Ri&&(this.map.delete(n),this.lastAccessBeat.delete(n))}),this.accessBeat=0}}}])}();const jn=new ki;function Ci(a, e){return xe.useMemo(()=>{const t=jn.get(e);if(t)return t;const r=a();return jn.set(e,r),r},e)}function Pi(a){return a==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),r=0; r<e; r++)t[r]=arguments[r];return`max(${t.map(n=>Pn(n)).join(",")})`},min:function(){for(var e=arguments.length,t=new Array(e),r=0; r<e; r++)t[r]=arguments[r];return`min(${t.map(n=>Pn(n)).join(",")})`}}}const Lr=typeof CSSINJS_STATISTIC<"u";let an=!0;function hn(){for(var a=arguments.length,e=new Array(a),t=0; t<a; t++)e[t]=arguments[t];if(!Lr)return Object.assign.apply(Object,[{}].concat(e));an=!1;const r={};return e.forEach(n=>{Object.keys(n).forEach(o=>{Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:()=>n[o]})})}),an=!0,r}const In={};function Li(){}const ji= a=>{let e,t=a,r=Li;return Lr&&typeof Proxy<"u"&&(e=new Set,t=new Proxy(a,{get(n, i){return an&&e.add(i),n[i]}}),r=(n, i)=>{var o;In[n]={global:Array.from(e),component:Object.assign(Object.assign({},(o=In[n])===null||o===void 0?void 0:o.component),i)}}),{token:t,keys:e,flush:r}},jr=(a, e, t)=>{var r;return typeof t=="function"?t(hn(e,(r=e[a])!==null&&r!==void 0?r:{})):t??{}},Ir=(a, e, t, r)=>{const n=Object.assign({},e[a]);if(r!=null&&r.deprecatedTokens){const{deprecatedTokens:o}=r;o.forEach(s=>{let[c,l]=s;var u;(n!=null&&n[c]||n!=null&&n[l])&&((u=n[l])!==null&&u!==void 0||(n[l]=n==null?void 0:n[c]))})}const i=Object.assign(Object.assign({},t),n);return Object.keys(i).forEach(o=>{i[o]===e[o]&&delete i[o]}),i},On=(a, e)=>`${[e,a.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function Ii(a, e, t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const n=Array.isArray(a)?a:[a,a],[i]=n,o=n.join("-");return function(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;const[l,u,h,v,S]=nn(),{getPrefixCls:A,iconPrefixCls:C,csp:m}=U.useContext(rn),y=A(),_=S?"css":"js",T=Ci(()=>{const d=new Set;return S&&Object.keys(r.unitless||{}).forEach(b=>{d.add(Ut(b,S.prefix)),d.add(Ut(b,On(i,S.prefix)))}),Ai(_,d)},[_,i,S&&S.prefix]),{max:E,min:P}=Pi(_),x={theme:l,token:v,hashId:h,nonce:()=>m==null?void 0:m.nonce,clientOnly:r.clientOnly,layer:{name:"antd"},order:r.order||-999};return Ln(Object.assign(Object.assign({},x),{clientOnly:!1,path:["Shared",y]}),()=>[{"&":ci(v)}]),li(C,m),[Ln(Object.assign(Object.assign({},x),{path:[o,s,C]}),()=>{if(r.injectStyle===!1)return[];const{token:d,flush:b}=ji(v),p=jr(i,u,t),w=`.${s}`,R=Ir(i,u,p,{deprecatedTokens:r.deprecatedTokens});S&&Object.keys(p).forEach(N=>{p[N]=`var(${Ut(N,On(i,S.prefix))})`});const F=hn(d,{componentCls:w,prefixCls:s,iconCls:`.${C}`,antCls:`.${y}`,calc:T,max:E,min:P},S?p:R),j=e(F,{hashId:h,prefixCls:s,rootPrefixCls:y,iconPrefixCls:C});return b(i,R),[r.resetStyle===!1?null:ui(F,s,c,r.resetFont),j]}),h]}}const Oi=(a, e, t)=>{const{unitless:r,injectStyle:n=!0,prefixToken:i}=t,o= c=>{let{rootCls:l,cssVar:u}=c;const[,h]=nn();return fi({path:[a],prefix:u.prefix,key:u==null?void 0:u.key,unitless:r,ignore:di,token:h,scope:l},()=>{const v=jr(a,h,e),S=Ir(a,h,v,{deprecatedTokens:t==null?void 0:t.deprecatedTokens});return Object.keys(v).forEach(A=>{S[i(A)]=S[A],delete S[A]}),S}),null};return c=>{const[,,,,l]=nn();return[u=>n&&l?xe.createElement(xe.Fragment,null,xe.createElement(o,{rootCls:c,cssVar:l,component:a}),u):u,l==null?void 0:l.key]}},Di=(a, e, t, r)=>{const n=Array.isArray(a)?a[0]:a;function i(h){return`${n}${h.slice(0,1).toUpperCase()}${h.slice(1)}`}const o={},s=Object.assign(Object.assign({},si),{[i("zIndexPopup")]:!0});Object.keys(o).forEach(h=>{s[i(h)]=o[h]});const c=Object.assign(Object.assign({},r),{unitless:s,prefixToken:i}),l=Ii(a,e,t,c),u=Oi(n,t,c);return function(h){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;const[,S]=l(h,v),[A,C]=u(v);return[A,S,C]}},Fi=(a, e, t)=>xe.isValidElement(a)?xe.cloneElement(a,typeof t=="function"?t(a.props||{}):t):e;function Ni(a, e){return Fi(a,a,e)}function zi(a, e, t){var r=t||{},n=r.noTrailing,i=n===void 0?!1:n,o=r.noLeading,s=o===void 0?!1:o,c=r.debounceMode,l=c===void 0?void 0:c,u,h=!1,v=0;function S(){u&&clearTimeout(u)}function A(m){var y=m||{},_=y.upcomingOnly,T=_===void 0?!1:_;S(),h=!T}function C(){for(var m=arguments.length,y=new Array(m),_=0; _<m; _++)y[_]=arguments[_];var T=this,E=Date.now()-v;if(h)return;function P(){v=Date.now(),e.apply(T,y)}function x(){u=void 0}!s&&l&&!u&&P(),S(),l===void 0&&E>a?s?(v=Date.now(),i||(u=setTimeout(l?x:P,a))):P():i!==!0&&(u=setTimeout(l?x:P,l===void 0?a-E:a))}return C.cancel=A,C}function Gi(a, e, t){var r={},n=r.atBegin,i=n===void 0?!1:n;return zi(a,e,{debounceMode:i!==!1})}function Bi(a){let{percent:e,prefixCls:t}=a;const r=`${t}-dot`,n=`${r}-holder`,i=`${n}-hidden`,[o,s]=U.useState(!1);pi(()=>{e!==0&&s(!0)},[e!==0]);const c=Math.max(Math.min(e,100),0),l=100,u=l/5,h=l/2-u/2,v=h*2*Math.PI,S=(A, C)=>U.createElement("circle",{className:Ee(A,`${r}-circle`),r:h,cx:"50",cy:"50",strokeWidth:u,style:C});return o?U.createElement("span",{className:Ee(n,`${r}-progress`,c<=0&&i)},U.createElement("svg",{viewBox:`0 0 ${l} ${l}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":c},S(`${r}-circle-bg`),S("",{strokeDasharray:`${v*c/100} ${v*(100-c)/100}`,strokeDashoffset:`${v/4}`}))):null}function Ui(a){const{prefixCls:e,percent:t=0}=a,r=`${e}-dot`,n=`${r}-holder`,i=`${n}-hidden`;return U.createElement(U.Fragment,null,U.createElement("span",{className:Ee(n,t>0&&i)},U.createElement("span",{className:Ee(r,`${e}-dot-spin`)},[1,2,3,4].map(o=>U.createElement("i",{className:`${e}-dot-item`,key:o})))),U.createElement(Bi,{prefixCls:e,percent:t}))}function Hi(a){const{prefixCls:e,indicator:t,percent:r}=a,n=`${e}-dot`;return t&&U.isValidElement(t)?Ni(t,{className:Ee(t.props.className,n),percent:r}):U.createElement(Ui,{prefixCls:e,percent:r})}const Vi=new Pr("antSpinMove",{to:{opacity:1}}),Ki=new Pr("antRotate",{to:{transform:"rotate(405deg)"}}),qi= a=>{const{componentCls:e,calc:t}=a;return{[`${e}`]:Object.assign(Object.assign({},bi(a)),{position:"absolute",display:"none",color:a.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${a.motionDurationSlow} ${a.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:a.fontSize,paddingTop:t(t(a.dotSize).sub(a.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:a.colorBgMask,zIndex:a.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${a.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:a.colorWhite},[`${e}-text`]:{color:a.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:a.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(a.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${a.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(a.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(a.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(a.dotSizeSM).sub(a.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(a.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(a.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(a.dotSizeLG).sub(a.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(a.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${a.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:a.colorBgContainer,opacity:0,transition:`all ${a.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:a.spinDotDefault},[`${e}-dot-progress`]:{position:"absolute",top:0,insetInlineStart:0},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:a.dotSize,display:"inline-block",transition:`transform ${a.motionDurationSlow} ease, opacity ${a.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:a.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",top:0,insetInlineStart:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:a.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(a.dotSize).sub(t(a.marginXXS).div(2)).div(2).equal(),height:t(a.dotSize).sub(t(a.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Vi,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Ki,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${a.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:a.colorFillSecondary}},[`&-sm ${e}-dot`]:{fontSize:a.dotSizeSM},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(a.dotSizeSM).sub(t(a.marginXXS).div(2))).div(2).equal(),height:t(t(a.dotSizeSM).sub(t(a.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{fontSize:a.dotSizeLG},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(a.dotSizeLG).sub(a.marginXXS)).div(2).equal(),height:t(t(a.dotSizeLG).sub(a.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},Wi= a=>{const{controlHeightLG:e,controlHeight:t}=a;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},Qi=Di("Spin", a=>{const e=hn(a,{spinDotDefault:a.colorTextDescription});return[qi(e)]},Wi),Xi=200,Dn=[[30,.05],[70,.03],[96,.01]];function Yi(a, e){const[t,r]=U.useState(0),n=U.useRef(),i=e==="auto";return U.useEffect(()=>(i&&a&&(r(0),n.current=setInterval(()=>{r(o=>{const s=100-o;for(let c=0; c<Dn.length; c+=1){const[l,u]=Dn[c];if(o<=l)return o+s*u}return o})},Xi)),()=>{clearInterval(n.current)}),[i,a]),i?t:e}var $i=function(a, e){var t={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(a); n<r.length; n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(a,r[n])&&(t[r[n]]=a[r[n]]);return t};let Or;function Ji(a, e){return!!a&&!!e&&!isNaN(Number(e))}const Dr= a=>{const{prefixCls:e,spinning:t=!0,delay:r=0,className:n,rootClassName:i,size:o="default",tip:s,wrapperClassName:c,style:l,children:u,fullscreen:h=!1,indicator:v,percent:S}=a,A=$i(a,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:C}=U.useContext(rn),m=C("spin",e),[y,_,T]=Qi(m),[E,P]=U.useState(()=>t&&!Ji(t,r)),x=Yi(E,S);U.useEffect(()=>{if(t){const j=Gi(r,()=>{P(!0)});return j(),()=>{var N;(N=j==null?void 0:j.cancel)===null||N===void 0||N.call(j)}}P(!1)},[r,t]);const k=U.useMemo(()=>typeof u<"u"&&!h,[u,h]),{direction:d,spin:b}=U.useContext(rn),p=Ee(m,b==null?void 0:b.className,{[`${m}-sm`]:o==="small",[`${m}-lg`]:o==="large",[`${m}-spinning`]:E,[`${m}-show-text`]:!!s,[`${m}-rtl`]:d==="rtl"},n,!h&&i,_,T),w=Ee(`${m}-container`,{[`${m}-blur`]:E}),R=Object.assign(Object.assign({},b==null?void 0:b.style),l),F=U.createElement("div",Object.assign({},A,{style:R,className:p,"aria-live":"polite","aria-busy":E}),U.createElement(Hi,{prefixCls:m,indicator:v??Or,percent:x}),s&&(k||h)?U.createElement("div",{className:`${m}-text`},s):null);return y(k?U.createElement("div",Object.assign({},A,{className:Ee(`${m}-nested-loading`,c,_,T)}),E&&U.createElement("div",{key:"loading"},F),U.createElement("div",{className:w,key:"container"},u)):h?U.createElement("div",{className:Ee(`${m}-fullscreen`,{[`${m}-fullscreen-show`]:E},i,_,T)},F):F)};Dr.setDefaultIndicator= a=>{Or=a};function Zi(a, e){if(Object.is(a,e))return!0;if(typeof a!="object"||a===null||typeof e!="object"||e===null)return!1;if(a instanceof Map&&e instanceof Map){if(a.size!==e.size)return!1;for(const[r,n]of a)if(!Object.is(n,e.get(r)))return!1;return!0}if(a instanceof Set&&e instanceof Set){if(a.size!==e.size)return!1;for(const r of a)if(!e.has(r))return!1;return!0}const t=Object.keys(a);if(t.length!==Object.keys(e).length)return!1;for(const r of t)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(a[r],e[r]))return!1;return!0}const{useRef:eo}=xe;function to(a){const e=eo();return t=>{const r=a(t);return Zi(e.current,r)?e.current:e.current=r}}const no=`

	// Without original size argument for power of two targets
	vec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {

		// the fraction of the uv space used by the target mip
		float targetSubview = 1.0 / pow( 2.0, float( level ) );
		float widthRatio = 2.0 / 3.0;
		vec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );

		// all levels > 0 are on the right third of the texture
		// y is offset from the bottom
		vec2 offset = vec2(
			level > 0 ? widthRatio : 0.0,
			level > 0 ? targetSubview : 0.0
		);

		vec2 samplePoint = mix( offset, offset + scaledDimensions, uv );
		return texture2D( tex, samplePoint );

	}

	vec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {

		float ratio = mod( level, 1.0 );
		int minLevel = int( floor( level ) );
		int maxLevel = int( ceil( level ) );

		vec4 minValue = packedTexture2DLOD( tex, uv, minLevel );
		vec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );

		return mix( minValue, maxValue, ratio );

	}

	// With original size argument
	vec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {

		float floatLevel = float( level );
		vec2 atlasSize;
		atlasSize.x = floor( originalPixelSize.x * 1.5 );
		atlasSize.y = originalPixelSize.y;

		// we stop making mip maps when one dimension == 1
		float maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );
		floatLevel = min( floatLevel, maxLevel );

		// use inverse pow of 2 to simulate right bit shift operator
		vec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );
		vec2 pixelOffset = vec2(
			floatLevel > 0.0 ? originalPixelSize.x : 0.0,
			floatLevel > 0.0 ? currentPixelDimensions.y : 0.0
		);

		// "minPixel / atlasSize" samples the top left piece of the first pixel
		// "maxPixel / atlasSize" samples the bottom right piece of the last pixel
		vec2 minPixel = pixelOffset;
		vec2 maxPixel = pixelOffset + currentPixelDimensions;
		vec2 samplePoint = mix( minPixel, maxPixel, uv );
		samplePoint /= atlasSize;

		vec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );
		samplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );
		samplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );

		return texture2D( tex, samplePoint );

	}

	vec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {

		float ratio = mod( level, 1.0 );
		int minLevel = int( floor( level ) );
		int maxLevel = int( ceil( level ) );

		vec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );
		vec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );

		return mix( minValue, maxValue, ratio );

	}

`;function rt(a){const e={...a};return"defines"in a&&(e.defines={...a.defines}),"uniforms"in a&&(e.uniforms=ba.clone(a.uniforms)),e}const ro={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new ft},parentMapSize:{value:new ft},parentLevel:{value:0}},vertexShader:`
		varying vec2 vUv;
		void main() {

			#include <begin_vertex>
			#include <project_vertex>
			vUv = uv;

		}
	`,fragmentShader:`
		varying vec2 vUv;
		uniform sampler2D map;
		uniform int parentLevel;
		uniform vec2 parentMapSize;
		uniform vec2 originalMapSize;

		${no}

		#if X_IS_EVEN && Y_IS_EVEN

		#define SAMPLES 4
		#define WIDTH 2
		#define HEIGHT 2

		#elif X_IS_EVEN

		#define SAMPLES 6
		#define WIDTH 2
		#define HEIGHT 3

		#elif Y_IS_EVEN

		#define SAMPLES 6
		#define WIDTH 3
		#define HEIGHT 2

		#else

		#define SAMPLES 9
		#define WIDTH 3
		#define HEIGHT 3

		#endif

		vec4 sampleAt( vec2 uv ) {

			return packedTexture2DLOD( map, uv, parentLevel, originalMapSize );

		}

		void main() {

			vec2 childMapSize = parentMapSize / 2.0;
			// vec2 childPixelSize = 1.0 / childMapSize;
			// vec2 halfChildPixelSize = childPixelSize / 2.0;
			vec2 childPixelPos = floor( vUv * childMapSize );

			vec2 parentPixelSize = 1.0 / parentMapSize;
			vec2 halfParentPixelSize = parentPixelSize / 2.0;
			vec2 parentPixelPos = childPixelPos * 2.0;

			vec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;

			vec4 samples[ SAMPLES ];
			float weights[ SAMPLES ];

			#if X_IS_EVEN && Y_IS_EVEN

			samples[ 0 ] = sampleAt( baseUv );
			samples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );
			samples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );
			samples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );

			weights[ 0 ] = 0.25;
			weights[ 1 ] = 0.25;
			weights[ 2 ] = 0.25;
			weights[ 3 ] = 0.25;

			#elif X_IS_EVEN

			float wx0 = 0.5;
			float wx1 = 0.5;

			float yden = 2.0 * parentMapSize.y + 1.0;
			float wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;
			float wy1 = ( parentMapSize.y ) / yden;
			float wy2 = ( parentPixelPos.y + 1.0 ) / yden;

			samples[ 0 ] = sampleAt( baseUv );
			samples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );

			samples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );
			samples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );

			samples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );
			samples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );

			weights[ 0 ] = wx0 * wy0;
			weights[ 1 ] = wx1 * wy0;

			weights[ 2 ] = wx0 * wy1;
			weights[ 3 ] = wx1 * wy1;

			weights[ 4 ] = wx0 * wy2;
			weights[ 5 ] = wx1 * wy2;

			#elif Y_IS_EVEN

			float xden = 2.0 * parentMapSize.x + 1.0;
			float wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;
			float wx1 = ( parentMapSize.x ) / xden;
			float wx2 = ( parentPixelPos.x + 1.0 ) / xden;

			float wy0 = 0.5;
			float wy1 = 0.5;

			samples[ 0 ] = sampleAt( baseUv );
			samples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );
			samples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );

			samples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );
			samples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );
			samples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );

			weights[ 0 ] = wx0 * wy0;
			weights[ 1 ] = wx1 * wy0;
			weights[ 2 ] = wx2 * wy0;

			weights[ 3 ] = wx0 * wy1;
			weights[ 4 ] = wx1 * wy1;
			weights[ 5 ] = wx2 * wy1;

			#else

			float xden = 2.0 * parentMapSize.x + 1.0;
			float wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;
			float wx1 = ( parentMapSize.x ) / xden;
			float wx2 = ( parentPixelPos.x + 1.0 ) / xden;

			float yden = 2.0 * parentMapSize.y + 1.0;
			float wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;
			float wy1 = ( parentMapSize.y ) / yden;
			float wy2 = ( parentPixelPos.y + 1.0 ) / yden;

			samples[ 0 ] = sampleAt( baseUv );
			samples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );
			samples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );

			samples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );
			samples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );
			samples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );

			samples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );
			samples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );
			samples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );

			weights[ 0 ] = wx0 * wy0;
			weights[ 1 ] = wx1 * wy0;
			weights[ 2 ] = wx2 * wy0;

			weights[ 3 ] = wx0 * wy1;
			weights[ 4 ] = wx1 * wy1;
			weights[ 5 ] = wx2 * wy1;

			weights[ 6 ] = wx0 * wy2;
			weights[ 7 ] = wx1 * wy2;
			weights[ 8 ] = wx2 * wy2;

			#endif

			<mipmap_logic>

		}
	`},Fn=new ce;class ao{constructor(e){Z(this,"_swapTarget");Z(this,"_copyQuad");Z(this,"_mipQuad");Z(this,"_mipMaterials");e||(e=`

				#pragma unroll_loop
				for ( int i = 0; i < SAMPLES; i ++ ) {

					gl_FragColor += samples[ i ] * weights[ i ];

				}

			`);const t=rt(ro);t.fragmentShader=t.fragmentShader.replace(/<mipmap_logic>/g,e);const r=new Array(4);r[0]=new ze(rt(t)),r[0].defines.X_IS_EVEN=0,r[0].defines.Y_IS_EVEN=0,r[1]=new ze(rt(t)),r[1].defines.X_IS_EVEN=1,r[1].defines.Y_IS_EVEN=0,r[2]=new ze(rt(t)),r[2].defines.X_IS_EVEN=0,r[2].defines.Y_IS_EVEN=1,r[3]=new ze(rt(t)),r[3].defines.X_IS_EVEN=1,r[3].defines.Y_IS_EVEN=1;const n=new ha;n.texture.minFilter=dt,n.texture.magFilter=dt,this._swapTarget=n,this._copyQuad=new Sn(new ze(ua)),this._mipQuad=new Sn(null),this._mipMaterials=r}update(e,t,r,n=!1){e.isWebGLRenderTarget&&(e=e.texture);const i=r.autoClear,o=r.getClearAlpha(),s=r.getRenderTarget();r.getClearColor(Fn);const c=this._copyQuad,l=this._mipQuad,u=this._swapTarget,h=this._mipMaterials;let v,S;n?(v=Ct.floorPowerOfTwo(e.image.width),S=Ct.floorPowerOfTwo(e.image.height)):(v=Math.floor(e.image.width),S=Math.floor(e.image.height));const A=Math.floor(v*1.5),C=Math.floor(S);t.setSize(A,C),u.texture.type!==t.texture.type?(u.dispose(),u.copy(t),u.texture.image={...u.texture.image}):u.setSize(A,C),r.autoClear=!1,r.setClearColor(0),r.setClearAlpha(),c.material.uniforms.tDiffuse.value=e,c.camera.setViewOffset(v,S,0,0,A,C),r.setRenderTarget(t),r.clear(),c.render(r),r.setRenderTarget(u),r.clear(),c.render(r);let m=v,y=S,_=0;for(;m>1&&y>1;){const P=(m%2===0?1:0)|(y%2===0?2:0),x=h[P];x.uniforms.map.value=u.texture,x.uniforms.parentLevel.value=_,x.uniforms.parentMapSize.value.set(m,y),x.uniforms.originalMapSize.value.set(v,S),l.material=x,m=Math.floor(m/2),y=Math.floor(y/2);const k=C-2*y;r.setRenderTarget(t),l.camera.setViewOffset(m,y,-v,-k,A,C),l.render(r),r.setRenderTarget(u),x.uniforms.map.value=t.texture,l.render(r),_++}return r.setRenderTarget(s),r.setClearAlpha(o),r.setClearColor(Fn),r.autoClear=i,_+1}dispose(){this._swapTarget.dispose(),this._mipQuad.dispose(),this._copyQuad.dispose(),this._mipMaterials.forEach(e=>e.dispose())}}const io=(a,e={})=>{const{resolution:t=[512,512],ignoreObjects:r=[]}=e,[n,i]=t,{baseCamera:o,renderer:s,scene:c}=$e(to(m=>({baseCamera:m.camera,renderer:m.gl,scene:m.scene}))),l=U.useRef(new ma),u=U.useRef(new Ve),h=U.useRef(new hr),v=_n(n,i,{type:Zt}),S=U.useMemo(()=>new ao,[]),A=_n(n,i,{type:Zt}),C=()=>{if(!a)return;const m=l.current,y=u.current,_=h.current;m.set(new se(0,1,0),0),m.applyMatrix4(a.matrixWorld),_.copy(o);const T=new se(0,0,1).clone().negate(),E=o.getWorldPosition(new se);T.reflect(m.normal);const P=new se;m.projectPoint(E,P);const x=P.clone();x.sub(E),x.add(P),_.position.copy(x);const k=new se(0,0,-1);k.applyQuaternion(o.getWorldQuaternion(new Pt)),k.add(E);const d=new se;a.getWorldPosition(d),d.sub(k),d.reflect(m.normal).negate(),d.add(a.getWorldPosition(new se)),_.up.set(0,1,0),_.applyQuaternion(o.getWorldQuaternion(new Pt)),_.up.reflect(m.normal),_.lookAt(d),_.updateMatrixWorld();const b=new Ve;b.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),b.multiply(_.projectionMatrix),b.multiply(_.matrixWorldInverse),y.copy(b),m.applyMatrix4(_.matrixWorldInverse);const p=new An(m.normal.x,m.normal.y,m.normal.z,m.constant),w=_.projectionMatrix,R=new An;R.x=(Math.sign(p.x)+w.elements[8])/w.elements[0],R.y=(Math.sign(p.y)+w.elements[9])/w.elements[5],R.z=-1,R.w=(1+w.elements[10])/w.elements[14],p.multiplyScalar(2/p.dot(R)),w.elements[2]=p.x,w.elements[6]=p.y,w.elements[10]=p.z+1,w.elements[14]=p.w;const F=s.getRenderTarget();s.setRenderTarget(v),s.state.buffers.depth.setMask(!0),!s.autoClear&&s.clear(),r.forEach(j=>j.visible=!1),s.render(c,_),r.forEach(j=>j.visible=!0),s.setRenderTarget(F)};return br(()=>{C(),S.update(v.texture,A,s)}),{matrix:u.current,renderTarget:A}},wt=a=>{const e=[];return a.scene.traverse(t=>{e.push(t)}),e},ge=bn(()=>({time:0,touch:!1,transfer:!1,tabs:"tunnel",preColor:new ce("#26d6e9"),bodyColor:"#26d6e9"})),bt=bn(()=>({demand:!0,controlDom:document.createElement("div"),progressDom:document.createElement("div")})),Fr=bn(()=>({ready:!1})),Nn=(a,e,t)=>{a.traverse(r=>{r.name===e&&(r.visible=t)})},zn=(a,e)=>{a.scene.traverse(t=>{if(t.isMesh){const n=t.material;n.envMapIntensity=e}})},oo=a=>{const e=new Et,t=[],r=[],n=new ga(.02,.01,.1),i=a.geometry.getAttribute("position");for(let o=0;o<i.count;o++){const s=new se;s.fromBufferAttribute(i,o),t.push(s)}if(e.name="radarGroup",e.visible=!1,!r.length){e.position.set(0,.3,0);for(let o=0;o<6;o++){for(let s=0;s<t.length;s++){const c=new Ge({color:16777215,depthWrite:!1,depthTest:!1}),l=new mr(n,c);l.visible=!1,l.position.copy(t[s]),l.lookAt(0,.4,0),l.userData.originPos=l.position.clone(),l.translateZ(-5),l.userData.targetPos=l.position.clone(),l.translateZ(5),e.add(l),r.push(l),o===0?l.userData.delay=0:o===1?l.userData.delay=.5:o===2?l.userData.delay=1:o===3?l.userData.delay=2:o===4?l.userData.delay=2.5:o===5&&(l.userData.delay=3)}for(let s=0;s<r.length;s++)J.to(r[s].position,{x:r[s].userData.targetPos.x,y:r[s].userData.targetPos.y,z:r[s].userData.targetPos.z,duration:4,delay:r[s].userData.delay,repeat:-1,ease:"none",onStart:()=>{r[s].visible=!0}})}}return{radarGroup:e,meshArray:r}};function so(){const a=ge(i=>i.tabs),e=$e(i=>i.camera),t=$e(i=>i.controls),r=ge(i=>i.touch),n=$e(i=>i.scene);U.useEffect(()=>{a==="radar"&&(r?Nn(n,"radarGroup",!0):Nn(n,"radarGroup",!1))},[n,a,r]),Te(()=>{if(!a)return;const i={tunnel:new se(-.0908,.8,-3.9976),carBody:new se(1.5835,.8,2.5314),windDrag:new se(1.529,.8,-2.5425),radar:new se(-1.5097,5.2665,-.0144)};J.killTweensOf(e.position),J.killTweensOf(t),J.to(e.position,{x:i[a].x,y:i[a].y,z:i[a].z,duration:2,ease:"power2.out"}),t&&(a==="radar"?J.to(t,{maxDistance:7,minDistance:7,duration:1,onUpdate:()=>{e.updateProjectionMatrix()}}):J.to(t,{maxDistance:4,minDistance:4,duration:1,onUpdate:()=>{e.updateProjectionMatrix()}}))},{dependencies:[a]}),Te(()=>{r?J.to(e,{fov:75,duration:1,ease:"none",onUpdate:()=>{e.updateProjectionMatrix()}}):J.to(e,{fov:60,duration:1,ease:"none",onUpdate:()=>{e.updateProjectionMatrix()}})},{dependencies:[r]})}function co(a){const e=ge(s=>s.tabs),t=ge(s=>s.touch),{params:r,modelRef:n,floorUniforms:i,tunnelUniforms:o}=a;Te(()=>{var h;if(e!=="tunnel")return;const s=r.current,c=n.current.lightMat,l=(h=n.current.floor)==null?void 0:h.material,u=n.current.empennage;if(J.killTweensOf(i.uColor.value),J.killTweensOf(s),t){const v=J.timeline();v.to(i.uColor.value,{duration:1.5,ease:"power1.in",r:s.speedupColor.r,g:s.speedupColor.g,b:s.speedupColor.b}),v.to(s,{duration:1.5,ease:"power1.in",lightOpacity:0,onUpdate:()=>{c&&(c.opacity=s.lightOpacity)}},0),v.to(s,{duration:1.5,ease:"power1.in",speedFactor:10,floorEnvIntensity:.5,bloomIntensity:2,bloomThreshold:.1,wheelRoughness:0,wheelEnvIntensity:20,floorNormalSpeed:1,emPosX:-.42,emPosY:236.14,emPosZ:-107.97,emrRotX:-.189,onUpdate:()=>{o.uSpeed.value=s.speedFactor,l&&(l.envMapIntensity=s.floorEnvIntensity),u&&(u.position.x=s.emPosX),u&&(u.position.y=s.emPosY),u&&(u.position.z=s.emPosZ),u&&(u.rotation.x=s.emrRotX)}},1)}else{const v=J.timeline();v.to(s,{duration:1.5,ease:"power1.in",speedFactor:0,floorEnvIntensity:0,bloomIntensity:1,bloomThreshold:1,wheelRoughness:1,wheelEnvIntensity:5,floorNormalSpeed:0,emPosX:.735,emPosY:230.15,emPosZ:-97.55,emrRotX:0,onUpdate:()=>{o.uSpeed.value=s.speedFactor,l&&(l.envMapIntensity=s.floorEnvIntensity),u&&(u.position.x=s.emPosX),u&&(u.position.y=s.emPosY),u&&(u.position.z=s.emPosZ),u&&(u.rotation.x=s.emrRotX)}}),v.to(i.uColor.value,{duration:1.5,ease:"power1.in",r:s.initColor.r,g:s.initColor.g,b:s.initColor.b},"-=1"),v.to(s,{duration:1.5,ease:"power1.in",lightOpacity:1,onUpdate:()=>{c&&(c.opacity=s.lightOpacity)}},"-=1")}},[e,t])}function lo(a){const{modelRef:e}=a,t=ge(n=>n.bodyColor),r={color:e.current.bodyMat.color,targetColor:new ce(t)};Te(()=>{J.killTweensOf(r),J.to(r.color,{duration:1,ease:"power1.out",r:r.targetColor.r,g:r.targetColor.g,b:r.targetColor.b,onUpdate:()=>{var n;(n=e.current.bodyMat)==null||n.color.set(r.color),ge.setState({preColor:r.color})},onComplete:()=>{ge.setState({preColor:r.color})}})},{dependencies:[t]})}function uo(a){const{modelRef:e}=a,t=ge(r=>r.tabs);Te(()=>{J.killTweensOf(e.current.lightMat),t==="radar"||t==="windDrag"?J.to(e.current.lightMat,{opacity:0,duration:1}):J.to(e.current.lightMat,{opacity:1,duration:1})},{dependencies:[t]})}function fo(){const a=U.useRef({wheel:[],bodyMat:null,floor:null,empennage:null,lightMat:null}),e=U.useRef({speedFactor:0,initColor:new ce("#fff"),speedupColor:new ce("#000"),floorColor:new ce("#fff"),floorNormalSpeed:0,bloomIntensity:1,bloomThreshold:.9,lightOpacity:1,floorEnvIntensity:0,wheelRoughness:1,emPosX:.735,emPosY:230.15,emPosZ:-97.55,emrRotX:0,wheelEnvIntensity:5});return{modelRef:a,params:e}}function po(a){const e=U.useRef({opacity:0}),{windModel:t,carLoad:r}=a,n=ge(i=>i.tabs);Te(()=>{J.killTweensOf(e.current),n==="windDrag"?J.to(e.current,{opacity:1,duration:2,onUpdate:()=>{t.forEach(i=>{if(i.isMesh){const o=i.material;o.uniforms.opacity.value=e.current.opacity}}),zn(r,2)}}):J.to(e.current,{opacity:0,duration:2,onUpdate:()=>{t.forEach(i=>{if(i.isMesh){const o=i.material;o.uniforms.opacity.value=e.current.opacity}}),zn(r,10)}})},[n])}function bo(a){const{modelRef:e,params:t}=fo(),{carLoad:r,tunnelLoader:n,startRoom:i,cubeGround:o,windLine:s,roadLoader:c}=a.model[0],l=wt(r),u=wt(i),h=wt(n),v=wt(s),S=u[2],A=l[46],C=l[1],m=l[47],y=h[1],_=u[1],T=S.material,E=y.material,P=T.uniforms,x=E.uniforms,k=A.material,{radarGroup:d}=oo(C),{fbo:b,camera:p}=fa({resolution:1024}),w=$e(B=>B.scene),R=$e(B=>B.camera),F=ge(B=>B.preColor);k.color=new ce(F),e.current.bodyMat=A.material,e.current.floor=S,e.current.empennage=m,e.current.lightMat=_.material,b.texture.type=Zt,b.texture.generateMipmaps=!1,b.texture.minFilter=dt,b.texture.magFilter=dt;const{matrix:j,renderTarget:N}=io(e.current.floor,{resolution:[innerWidth,innerHeight],ignoreObjects:[e.current.floor,n.scene,i.scene]});so(),Te(()=>{J.killTweensOf(R),J.to(R,{fov:60,duration:4,ease:"power2.out",onUpdate:()=>{R.updateProjectionMatrix()}})},{dependencies:[R]}),uo({modelRef:e}),lo({modelRef:e}),co({params:t,modelRef:e,floorUniforms:P,tunnelUniforms:x}),po({windModel:v,carLoad:r}),U.useLayoutEffect(()=>{I(),P.uResolution.value.set(N.width,N.height),w.environment=b.texture},[]),U.useEffect(()=>{Fr.setState({ready:!0})},[]);const I=()=>{const B=[],q=l[62],V=l[68],H=l[74],ae=l[81];B.push(q,V,H,ae),B.forEach(te=>{e.current.wheel.push(te)}),_.material=new Ge({color:16777215,side:Dt,transparent:!0,alphaTest:.01}),P.uReflectTexture.value=N.texture,N.texture.minFilter=Ze,N.texture.magFilter=Ze,P.uReflectMatrix.value=j};return br((B,q)=>{x.uTime.value+=q*5,P.uTime.value+=q*t.current.floorNormalSpeed*20,r.scene.visible=!1,p.update(B.gl,w),r.scene.visible=!0,e.current.wheel.forEach(V=>{V.rotateZ(-q*2*t.current.speedFactor)}),v.forEach(V=>{if(V.isMesh){const H=V.material;H.uniforms.vTime.value+=q}})}),D.jsxs(D.Fragment,{children:[D.jsx(da,{makeDefault:!0,minDistance:4,maxDistance:4,minPolarAngle:.1,maxPolarAngle:Math.PI/2,enableZoom:!1,enablePan:!1,enableDamping:!0,target:[0,.4,0]}),D.jsx("primitive",{object:r==null?void 0:r.scene}),D.jsx("primitive",{object:i==null?void 0:i.scene}),D.jsx("primitive",{object:n==null?void 0:n.scene}),D.jsx("primitive",{object:o==null?void 0:o.scene}),D.jsx("primitive",{object:s==null?void 0:s.scene}),D.jsx("primitive",{object:d})]})}var be=function(){return be=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},be.apply(this,arguments)};function jt(a,e,t){if(t||arguments.length===2)for(var r=0,n=e.length,i;r<n;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return a.concat(i||Array.prototype.slice.call(e))}var ho={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},me={},et=typeof process<"u"&&me!==void 0&&(me.REACT_APP_SC_ATTR||me.SC_ATTR)||"data-styled",Nr="active",zr="data-styled-version",Nt="6.1.11",mn=`/*!sc*/
`,gn=typeof window<"u"&&"HTMLElement"in window,mo=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&me!==void 0&&me.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&me.REACT_APP_SC_DISABLE_SPEEDY!==""?me.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&me.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&me!==void 0&&me.SC_DISABLE_SPEEDY!==void 0&&me.SC_DISABLE_SPEEDY!==""&&me.SC_DISABLE_SPEEDY!=="false"&&me.SC_DISABLE_SPEEDY),zt=Object.freeze([]),tt=Object.freeze({});function go(a,e,t){return t===void 0&&(t=tt),a.theme!==t.theme&&a.theme||e||t.theme}var Gr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),vo=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,xo=/(^-|-$)/g;function Gn(a){return a.replace(vo,"-").replace(xo,"")}var yo=/(a)(d)/gi,St=52,Bn=function(a){return String.fromCharCode(a+(a>25?39:97))};function on(a){var e,t="";for(e=Math.abs(a);e>St;e=e/St|0)t=Bn(e%St)+t;return(Bn(e%St)+t).replace(yo,"$1-$2")}var Vt,Br=5381,Ye=function(a,e){for(var t=e.length;t;)a=33*a^e.charCodeAt(--t);return a},Ur=function(a){return Ye(Br,a)};function wo(a){return on(Ur(a)>>>0)}function So(a){return a.displayName||a.name||"Component"}function Kt(a){return typeof a=="string"&&!0}var Hr=typeof Symbol=="function"&&Symbol.for,Vr=Hr?Symbol.for("react.memo"):60115,_o=Hr?Symbol.for("react.forward_ref"):60112,Ao={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Eo={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Kr={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},To=((Vt={})[_o]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vt[Vr]=Kr,Vt);function Un(a){return("type"in(e=a)&&e.type.$$typeof)===Vr?Kr:"$$typeof"in a?To[a.$$typeof]:Ao;var e}var Mo=Object.defineProperty,Ro=Object.getOwnPropertyNames,Hn=Object.getOwnPropertySymbols,ko=Object.getOwnPropertyDescriptor,Co=Object.getPrototypeOf,Vn=Object.prototype;function qr(a,e,t){if(typeof e!="string"){if(Vn){var r=Co(e);r&&r!==Vn&&qr(a,r,t)}var n=Ro(e);Hn&&(n=n.concat(Hn(e)));for(var i=Un(a),o=Un(e),s=0;s<n.length;++s){var c=n[s];if(!(c in Eo||t&&t[c]||o&&c in o||i&&c in i)){var l=ko(e,c);try{Mo(a,c,l)}catch{}}}}return a}function nt(a){return typeof a=="function"}function vn(a){return typeof a=="object"&&"styledComponentId"in a}function Be(a,e){return a&&e?"".concat(a," ").concat(e):a||e||""}function Kn(a,e){if(a.length===0)return"";for(var t=a[0],r=1;r<a.length;r++)t+=a[r];return t}function ht(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function sn(a,e,t){if(t===void 0&&(t=!1),!t&&!ht(a)&&!Array.isArray(a))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)a[r]=sn(a[r],e[r]);else if(ht(e))for(var r in e)a[r]=sn(a[r],e[r]);return a}function xn(a,e){Object.defineProperty(a,"toString",{value:e})}function vt(a){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Po=function(){function a(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return a.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},a.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)if((i<<=1)<0)throw vt(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=n;o<i;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(e+1),c=(o=0,t.length);o<c;o++)this.tag.insertRule(s,t[o])&&(this.groupSizes[e]++,s++)},a.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},a.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,o=n;o<i;o++)t+="".concat(this.tag.getRule(o)).concat(mn);return t},a}(),Rt=new Map,It=new Map,kt=1,_t=function(a){if(Rt.has(a))return Rt.get(a);for(;It.has(kt);)kt++;var e=kt++;return Rt.set(a,e),It.set(e,a),e},Lo=function(a,e){kt=e+1,Rt.set(a,e),It.set(e,a)},jo="style[".concat(et,"][").concat(zr,'="').concat(Nt,'"]'),Io=new RegExp("^".concat(et,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Oo=function(a,e,t){for(var r,n=t.split(","),i=0,o=n.length;i<o;i++)(r=n[i])&&a.registerName(e,r)},Do=function(a,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(mn),n=[],i=0,o=r.length;i<o;i++){var s=r[i].trim();if(s){var c=s.match(Io);if(c){var l=0|parseInt(c[1],10),u=c[2];l!==0&&(Lo(u,l),Oo(a,u,c[3]),a.getTag().insertRules(l,n)),n.length=0}else n.push(s)}}};function Fo(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Wr=function(a){var e=document.head,t=a||e,r=document.createElement("style"),n=function(s){var c=Array.from(s.querySelectorAll("style[".concat(et,"]")));return c[c.length-1]}(t),i=n!==void 0?n.nextSibling:null;r.setAttribute(et,Nr),r.setAttribute(zr,Nt);var o=Fo();return o&&r.setAttribute("nonce",o),t.insertBefore(r,i),r},No=function(){function a(e){this.element=Wr(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,n=0,i=r.length;n<i;n++){var o=r[n];if(o.ownerNode===t)return o}throw vt(17)}(this.element),this.length=0}return a.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},a.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},a}(),zo=function(){function a(e){this.element=Wr(e),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},a.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},a}(),Go=function(){function a(e){this.rules=[],this.length=0}return a.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},a.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},a.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},a}(),qn=gn,Bo={isServer:!gn,useCSSOMInjection:!mo},Qr=function(){function a(e,t,r){e===void 0&&(e=tt),t===void 0&&(t={});var n=this;this.options=be(be({},Bo),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&gn&&qn&&(qn=!1,function(i){for(var o=document.querySelectorAll(jo),s=0,c=o.length;s<c;s++){var l=o[s];l&&l.getAttribute(et)!==Nr&&(Do(i,l),l.parentNode&&l.parentNode.removeChild(l))}}(this)),xn(this,function(){return function(i){for(var o=i.getTag(),s=o.length,c="",l=function(h){var v=function(y){return It.get(y)}(h);if(v===void 0)return"continue";var S=i.names.get(v),A=o.getGroup(h);if(S===void 0||A.length===0)return"continue";var C="".concat(et,".g").concat(h,'[id="').concat(v,'"]'),m="";S!==void 0&&S.forEach(function(y){y.length>0&&(m+="".concat(y,","))}),c+="".concat(A).concat(C,'{content:"').concat(m,'"}').concat(mn)},u=0;u<s;u++)l(u);return c}(n)})}return a.registerId=function(e){return _t(e)},a.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new a(be(be({},this.options),e),this.gs,t&&this.names||void 0)},a.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,n=t.target;return t.isServer?new Go(n):r?new No(n):new zo(n)}(this.options),new Po(e)));var e},a.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},a.prototype.registerName=function(e,t){if(_t(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},a.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(_t(e),r)},a.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},a.prototype.clearRules=function(e){this.getTag().clearGroup(_t(e)),this.clearNames(e)},a.prototype.clearTag=function(){this.tag=void 0},a}(),Uo=/&/g,Ho=/^\s*\/\/.*$/gm;function Xr(a,e){return a.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=Xr(t.children,e)),t})}function Vo(a){var e,t,r,n=tt,i=n.options,o=i===void 0?tt:i,s=n.plugins,c=s===void 0?zt:s,l=function(v,S,A){return A.startsWith(t)&&A.endsWith(t)&&A.replaceAll(t,"").length>0?".".concat(e):v},u=c.slice();u.push(function(v){v.type===Tr&&v.value.includes("&")&&(v.props[0]=v.props[0].replace(Uo,t).replace(r,l))}),o.prefix&&u.push(Mi),u.push(hi);var h=function(v,S,A,C){S===void 0&&(S=""),A===void 0&&(A=""),C===void 0&&(C="&"),e=C,t=S,r=new RegExp("\\".concat(t,"\\b"),"g");var m=v.replace(Ho,""),y=mi(A||S?"".concat(A," ").concat(S," { ").concat(m," }"):m);o.namespace&&(y=Xr(y,o.namespace));var _=[];return Mr(y,Ei(u.concat(Ti(function(T){return _.push(T)})))),_};return h.hash=c.length?c.reduce(function(v,S){return S.name||vt(15),Ye(v,S.name)},Br).toString():"",h}var Ko=new Qr,cn=Vo(),Yr=xe.createContext({shouldForwardProp:void 0,styleSheet:Ko,stylis:cn});Yr.Consumer;xe.createContext(void 0);function Wn(){return U.useContext(Yr)}var qo=function(){function a(e,t){var r=this;this.inject=function(n,i){i===void 0&&(i=cn);var o=r.name+i.hash;n.hasNameForId(r.id,o)||n.insertRules(r.id,o,i(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,xn(this,function(){throw vt(12,String(r.name))})}return a.prototype.getName=function(e){return e===void 0&&(e=cn),this.name+e.hash},a}(),Wo=function(a){return a>="A"&&a<="Z"};function Qn(a){for(var e="",t=0;t<a.length;t++){var r=a[t];if(t===1&&r==="-"&&a[0]==="-")return a;Wo(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var $r=function(a){return a==null||a===!1||a===""},Jr=function(a){var e,t,r=[];for(var n in a){var i=a[n];a.hasOwnProperty(n)&&!$r(i)&&(Array.isArray(i)&&i.isCss||nt(i)?r.push("".concat(Qn(n),":"),i,";"):ht(i)?r.push.apply(r,jt(jt(["".concat(n," {")],Jr(i),!1),["}"],!1)):r.push("".concat(Qn(n),": ").concat((e=n,(t=i)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in ho||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function He(a,e,t,r){if($r(a))return[];if(vn(a))return[".".concat(a.styledComponentId)];if(nt(a)){if(!nt(i=a)||i.prototype&&i.prototype.isReactComponent||!e)return[a];var n=a(e);return He(n,e,t,r)}var i;return a instanceof qo?t?(a.inject(t,r),[a.getName(r)]):[a]:ht(a)?Jr(a):Array.isArray(a)?Array.prototype.concat.apply(zt,a.map(function(o){return He(o,e,t,r)})):[a.toString()]}function Qo(a){for(var e=0;e<a.length;e+=1){var t=a[e];if(nt(t)&&!vn(t))return!1}return!0}var Xo=Ur(Nt),Yo=function(){function a(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Qo(e),this.componentId=t,this.baseHash=Ye(Xo,t),this.baseStyle=r,Qr.registerId(t)}return a.prototype.generateAndInjectStyles=function(e,t,r){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))n=Be(n,this.staticRulesId);else{var i=Kn(He(this.rules,e,t,r)),o=on(Ye(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var s=r(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,s)}n=Be(n,o),this.staticRulesId=o}else{for(var c=Ye(this.baseHash,r.hash),l="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")l+=h;else if(h){var v=Kn(He(h,e,t,r));c=Ye(c,v+u),l+=v}}if(l){var S=on(c>>>0);t.hasNameForId(this.componentId,S)||t.insertRules(this.componentId,S,r(l,".".concat(S),void 0,this.componentId)),n=Be(n,S)}}return n},a}(),Zr=xe.createContext(void 0);Zr.Consumer;var qt={};function $o(a,e,t){var r=vn(a),n=a,i=!Kt(a),o=e.attrs,s=o===void 0?zt:o,c=e.componentId,l=c===void 0?function(E,P){var x=typeof E!="string"?"sc":Gn(E);qt[x]=(qt[x]||0)+1;var k="".concat(x,"-").concat(wo(Nt+x+qt[x]));return P?"".concat(P,"-").concat(k):k}(e.displayName,e.parentComponentId):c,u=e.displayName,h=u===void 0?function(E){return Kt(E)?"styled.".concat(E):"Styled(".concat(So(E),")")}(a):u,v=e.displayName&&e.componentId?"".concat(Gn(e.displayName),"-").concat(e.componentId):e.componentId||l,S=r&&n.attrs?n.attrs.concat(s).filter(Boolean):s,A=e.shouldForwardProp;if(r&&n.shouldForwardProp){var C=n.shouldForwardProp;if(e.shouldForwardProp){var m=e.shouldForwardProp;A=function(E,P){return C(E,P)&&m(E,P)}}else A=C}var y=new Yo(t,v,r?n.componentStyle:void 0);function _(E,P){return function(x,k,d){var b=x.attrs,p=x.componentStyle,w=x.defaultProps,R=x.foldedComponentIds,F=x.styledComponentId,j=x.target,N=xe.useContext(Zr),I=Wn(),B=x.shouldForwardProp||I.shouldForwardProp,q=go(k,N,w)||tt,V=function(Re,_e,De){for(var z,f=be(be({},_e),{className:void 0,theme:De}),g=0;g<Re.length;g+=1){var M=nt(z=Re[g])?z(f):z;for(var L in M)f[L]=L==="className"?Be(f[L],M[L]):L==="style"?be(be({},f[L]),M[L]):M[L]}return _e.className&&(f.className=Be(f.className,_e.className)),f}(b,k,q),H=V.as||j,ae={};for(var te in V)V[te]===void 0||te[0]==="$"||te==="as"||te==="theme"&&V.theme===q||(te==="forwardedAs"?ae.as=V.forwardedAs:B&&!B(te,H)||(ae[te]=V[te]));var le=function(Re,_e){var De=Wn(),z=Re.generateAndInjectStyles(_e,De.styleSheet,De.stylis);return z}(p,V),Se=Be(R,F);return le&&(Se+=" "+le),V.className&&(Se+=" "+V.className),ae[Kt(H)&&!Gr.has(H)?"class":"className"]=Se,ae.ref=d,U.createElement(H,ae)}(T,E,P)}_.displayName=h;var T=xe.forwardRef(_);return T.attrs=S,T.componentStyle=y,T.displayName=h,T.shouldForwardProp=A,T.foldedComponentIds=r?Be(n.foldedComponentIds,n.styledComponentId):"",T.styledComponentId=v,T.target=r?n.target:a,Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?function(P){for(var x=[],k=1;k<arguments.length;k++)x[k-1]=arguments[k];for(var d=0,b=x;d<b.length;d++)sn(P,b[d],!0);return P}({},n.defaultProps,E):E}}),xn(T,function(){return".".concat(T.styledComponentId)}),i&&qr(T,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),T}function Xn(a,e){for(var t=[a[0]],r=0,n=e.length;r<n;r+=1)t.push(e[r],a[r+1]);return t}var Yn=function(a){return Object.assign(a,{isCss:!0})};function Jo(a){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(nt(a)||ht(a))return Yn(He(Xn(zt,jt([a],e,!0))));var r=a;return e.length===0&&r.length===1&&typeof r[0]=="string"?He(r):Yn(He(Xn(r,e)))}function ln(a,e,t){if(t===void 0&&(t=tt),!e)throw vt(1,e);var r=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return a(e,t,Jo.apply(void 0,jt([n],i,!1)))};return r.attrs=function(n){return ln(a,e,be(be({},t),{attrs:Array.prototype.concat(t.attrs,n).filter(Boolean)}))},r.withConfig=function(n){return ln(a,e,be(be({},t),n))},r}var ea=function(a){return ln($o,a)},yn=ea;Gr.forEach(function(a){yn[a]=ea(a)});const Zo=yn.div`
    //position: absolute;
    //width: 100vw;
    //height: 100vh;
    //top: 0;
    //left: 0;
    //z-index: 1;
    .clickBtn {
        position: absolute;
        left: 50%;
        transform: translate(-50%);
    }
`,es="/hengkang.guthub.io/images/mesh/b1.webp",ts="/hengkang.guthub.io/images/mesh/b2.webp",ns="/hengkang.guthub.io/images/mesh/b3.webp",rs="/hengkang.guthub.io/images/mesh/b4.webp",as="/hengkang.guthub.io/images/mesh/b5.webp",is="/hengkang.guthub.io/images/mesh/b6.webp",os="/hengkang.guthub.io/images/mesh/b7.webp",ss="/hengkang.guthub.io/images/mesh/b8.webp",cs="/hengkang.guthub.io/images/mesh/b9.webp",ls=[{src:es,color:"#26d6e9"},{src:ts,color:"#444c3c"},{src:ns,color:"#5d5d5d"},{src:rs,color:"#8a8a8a"},{src:as,color:"#3e3543"},{src:is,color:"#822817"},{src:os,color:"#354860"},{src:ss,color:"#273647"},{src:cs,color:"#121117"}],us=[{value:"tunnel",label:"su7"},{value:"carBody",label:"车身"},{value:"windDrag",label:"风阻"},{value:"radar",label:"雷达"}];function fs(){return D.jsx(D.Fragment,{children:D.jsxs("div",{className:"TopInfo-content",children:[D.jsx("img",{src:"/images/xiaomi_su7.webp",alt:"",style:{width:"40vmin",marginTop:"5vmin"}}),D.jsx("div",{className:"text",style:{marginTop:"2vmin"},children:"C级高性能 生态科技轿车"})]})})}function ds(){return D.jsx(D.Fragment,{children:D.jsxs("div",{className:"TopInfo-content",children:[D.jsx("div",{className:"text_2",children:"「外观设计」"}),D.jsx("div",{className:"text",children:"优雅与速度感并存经得起时间考验的设计"}),D.jsx("div",{className:"text_1",style:{marginTop:"1vmin"},children:"遵循「符合直觉」的美学设计理念，造就Xiaomi SU7 经典的流畅车身线条。"}),D.jsx("div",{className:"text_1",style:{marginTop:"1vmin"},children:"富有力量的车身线条与自然舒展的车身比例，让优雅与速度相得益彰。"})]})})}function ps(){return D.jsx(D.Fragment,{children:D.jsxs("div",{className:"TopInfo-content",children:[D.jsx("div",{className:"text",children:"出色的超低风阻系数"}),D.jsx("div",{className:"text_2",style:{marginTop:" 0.5vmin"},children:"Cd 0.195"}),D.jsx("div",{className:"text",style:{fontSize:"1.8vmin"},children:"风，就是最好的设计师。"}),D.jsx("div",{className:"text",style:{fontSize:"1.8vmin"},children:"经过 1000 次以上仿真实验和超过 300次油泥模型调整，不断寻找风道、车身曲线的最优解。"}),D.jsx("div",{className:"text",style:{fontSize:"1.8vmin"},children:"最终达成 Cd0.195 超低风阻系数，带来难以想象的低能耗和出色续航表现。"})]})})}function bs(){return D.jsx(D.Fragment,{children:D.jsxs("div",{className:"TopInfo-content",children:[D.jsx("div",{className:"text_2",children:"「智能驾驶」"}),D.jsx("div",{className:"text",children:"隆重介绍XiaomiPilot更聪明、更安全的智能驾驶系统"}),D.jsx("div",{className:"text",children:"搭载两颗 NVIDIA DRIVE Orin 芯片，综合算力高达 508 TOPS，感知硬件具备罕见的大范围探测能力；"}),D.jsx("div",{className:"text",children:"在此之上，以领先行业的智能驾驶算法深度赋能小米全栈自研的全场景智能辅助驾驶。"}),D.jsxs("div",{className:"addon",children:[D.jsx("div",{className:"content",children:D.jsxs("div",{children:["激光雷达 ",D.jsx("span",{className:"number",children:"x1"})]})}),D.jsx("div",{children:D.jsxs("div",{children:["高清摄像头 ",D.jsx("span",{className:"number",children:"x11"})]})}),D.jsx("div",{children:D.jsxs("div",{children:["毫米波雷达 ",D.jsx("span",{className:"number",children:"x3"})]})}),D.jsx("div",{children:D.jsxs("div",{children:["超声波雷达 ",D.jsx("span",{className:"number",children:"x12"})]})})]})]})})}const hs=yn.div`
   .container{
    position: fixed;
    left:50%;
    transform:translate(-50%);
    bottom:80px;
    background-color:#ccc3;
    border-radius: 30px;
    display: flex;
    align-items: center;
    z-index: 9;
   }

   .color-item::after{
    content: "";
    display: block;
    position:relative;
    left:50%;
    top:50%;  
    transform:translate(-50%,-50%);  
    width:38px;
    height:38px;
    border-radius:50%;
    border:2px solid #fff;
   }
    
    .StateTable-container {
        position: absolute;
        top: 25vmin;
        right: 0;
        height: 50vmin;
        width: 3rem;
        margin: 0 2% 0 0;
        justify-content: center;
        display: flex;
        align-items: center;
        opacity: 1;
        transition: all 0.2s ease 0.3s;
        z-index: 9;
    }
    .StateTable-content {
        position: relative;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
    }
    .backgroundLine {
        position: absolute;
        height: 100%;
        width: 1px;
        background-color: #ffffffa0;
    }
    .StateTable-content .item {
        position: relative;
        right: calc(.5rem - .5px);
        width: 1rem;
        height: 1rem;
        border-radius: 50%;
        background-color: #fff;
        transform: scale(0.8);
    }
    .StateTable-content .item-Line {
        content: "";
        position: absolute;
        top: -3px;
        left: -3px;
        width: calc(1rem + 6px);
        height: calc(1rem + 6px);
        border-radius: 50%;
        box-shadow: 0 0 0 1px #ff9245;
    }
    .StateTable-content  .tableName {
        -webkit-user-select: none;
        user-select: none;
        position: relative;
        height: 1rem;
        width: 1rem;
        top: -1px;
        left: -2rem;
        color: #ccc;
        display: flex;
        flex-direction: row-reverse;
        align-items: center;
    }
    .StateTable-content  .tableName div {
        font-size: 1.2rem;
        white-space: nowrap;
        transition: all .3s;
    }
    .StateTable-content .clickBox {
        cursor: pointer;
        position: absolute;
        top: -1.25rem;
        left: -3.5rem;
        height: 3rem;
        width: 5rem;
    }

    .StateTable-content .activeColor{
        color: rgb(255, 255, 255);
    }
    .StateTable-content .activeBg{
        background-color: rgb(255, 146, 69);
    }
    
    .TopInfo-container{
        position: absolute;
        top: 0;
        width: 100%;
        margin-top: 5vmin;
        pointer-events: none;
        z-index: 9;
        //opacity: 0;
    }
    .TopInfo-content{
        position: relative;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        color: #fff;
    }
    .TopInfo-content .text{
        margin-top: 1vmin; 
        color: rgb(255, 255, 255); 
        font-size: 1.8vmin;
    }
    .TopInfo-content .text_1{
        margin-top: 1.5vmin; 
        color: rgb(170, 170, 170); 
        font-size: 1.4vmin;
    }
    .TopInfo-content .text_2{
        margin-top: 2vmin; 
        color: rgb(240, 198, 159); 
        font-size: 2vmin;
    }
    .TopInfo-content .addon {
        position: absolute;
        bottom: -15vmin;
        left: 6rem;
        width: 14vmin;
        height: 12vmin;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        font-size: 2vmin;
        line-height: 32px;
    }
    .TopInfo-content .addon .content{
        margin-top: 10vmin;
    }
    .TopInfo-content .addon .number{color: rgb(255, 146, 69);}
`;function ms(){const a=U.useRef(null),e=U.useRef(null),t=U.useRef(null),r=U.useRef(!1),[n,i]=U.useState(0),[o,s]=U.useState(0);Te(()=>{J.set(e.current,{opacity:0}),J.to(e.current,{opacity:1,duration:.5,ease:"power2.in",onComplete:()=>{r.current=!0}})});function c(l,u){r.current&&(s(u),ge.setState({tabs:l}),J.killTweensOf(t.current),J.set(t.current,{opacity:0}),J.to(t.current,{opacity:2,duration:.5,ease:"power2.in"}))}return U.useEffect(()=>{bt.setState({controlDom:a.current})},[]),D.jsx(D.Fragment,{children:D.jsxs(hs,{className:"game",ref:e,children:[D.jsx("div",{className:"control",ref:a}),D.jsx("div",{className:"container",children:ls.map((l,u)=>D.jsx("div",{className:n===u?"color-item":"",style:{backgroundImage:`url(${l.src})`,width:"32px",height:"32px",borderRadius:"50%",margin:"8px",backgroundSize:"100% 100%",cursor:"pointer"},onClick:()=>{r.current&&(i(u),ge.setState({bodyColor:`${l.color}`}))}},u))}),D.jsxs("div",{className:"TopInfo-container",ref:t,children:[o===0&&D.jsx(fs,{}),o===1&&D.jsx(ds,{}),o===2&&D.jsx(ps,{}),o===3&&D.jsx(bs,{})]}),D.jsx("div",{className:"StateTable-container",children:D.jsxs("div",{className:"StateTable-content",children:[D.jsx("div",{className:"backgroundLine"}),us.map((l,u)=>D.jsxs("div",{id:l.value,className:`item ${o===u?"activeBg":""}`,children:[o===u&&D.jsx("div",{className:"item-Line"}),D.jsx("div",{className:"tableName",children:D.jsx("div",{className:o===u?"activeColor":"",children:l.label})}),D.jsx("div",{className:"clickBox",onClick:()=>c(l.value,u)})]},l.value))]})})]})})}const gs=U.memo(({emit:a})=>{const e=U.useRef(null),t=U.useRef(null),{contextSafe:r}=Te(),n=Fr(o=>o.ready);U.useLayoutEffect(()=>{bt.setState({progressDom:e.current})},[]),U.useEffect(()=>{n&&i()},[n]);const i=r(()=>{bt.setState({demand:!1}),J.to(t.current,{opacity:0,duration:.35,delay:1,ease:"none",onComplete:()=>{a("hide-load"),a("show-game"),t.current.classList.add("display-none")}})});return D.jsxs("div",{className:"loading-con",ref:t,children:[D.jsxs("div",{className:"loading",children:[D.jsx("div",{className:"loading-circle"}),D.jsx("div",{className:"progress",ref:e})]}),D.jsx("div",{className:"loading-complete display-none",children:D.jsxs("p",{children:["加载完成",D.jsx("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:D.jsx("path",{d:"M537.6 102.4c73.5744 0 142.336 20.6848 200.704 56.576 15.872 9.6256 16.7936 23.1424 2.9696 40.5504-14.08 16.2816-43.008 13.2608-86.8352-9.216l-0.0512 0.0512a318.1568 318.1568 0 1 0 104.8064 524.3904h0.3584c19.456-26.7776 40.5504-40.192 63.1296-40.2432l6.8096 0.4096c24.064 4.4032 30.4128 16.6912 19.0464 36.864l0.2048-0.3584-0.1536 0.1536-0.0512 0.2048h-0.1024l-7.936 10.5984A384 384 0 1 1 537.6 102.4z m332.288 201.0112a33.28 33.28 0 0 1 0 47.104l-276.48 276.48a31.2832 31.2832 0 0 1-0.512 0.4608l-3.584 3.584a30.72 30.72 0 0 1-43.4176 0l-1.8432-1.792-0.4096-0.512-135.3216-135.2704a30.72 30.72 0 0 1 0-43.4176l3.584-3.584a30.72 30.72 0 0 1 43.4688 0l112.2304 112.128 255.232-255.1808a33.28 33.28 0 0 1 47.104 0z",fill:"#ffffff"})})]})})]})});function vs(){const{game:a,load:e}=gi(i=>i.game),t=U.useRef(null),r=vi(),n=U.useCallback(i=>{i==="hide-load"&&r(xi({type:i})),i==="show-game"&&r(yi({type:i}))},[]);return D.jsx(D.Fragment,{children:D.jsxs(Zo,{ref:t,children:[a&&D.jsx(ms,{}),e&&D.jsx(gs,{emit:n})]})})}class xs{constructor(e=null){Z(this,"model");this.model=e}build(e){return this.model=e,this.model.scene.traverse(t=>{t.name==="body"&&(t.color=new ce("#26d6e9")),t.type==="Mesh"&&(t.material.envMapIntensity=10)}),this.model}}class ys{build(e){return e.mapping=va,e}MeshChildren(){}}var ws="uniform float uTime;uniform vec3 iResolution;uniform vec4 iMouse;varying vec2 vUv;void main(){vec3 p=position;gl_Position=projectionMatrix*modelViewMatrix*vec4(p,1.);vUv=uv;}",Ss=`vec2 hash(vec2 p){p=vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3)));return-1.+2.*fract(sin(p)*43758.5453123);}float noise(in vec2 p){const float K1=.366025404;const float K2=.211324865;vec2 i=floor(p+(p.x+p.y)*K1);vec2 a=p-i+(i.x+i.y)*K2;float m=step(a.y,a.x);vec2 o=vec2(m,1.-m);vec2 b=a-o+K2;vec2 c=a-1.+2.*K2;vec3 h=max(.5-vec3(dot(a,a),dot(b,b),dot(c,c)),0.);vec3 n=h*h*h*h*vec3(dot(a,hash(i+0.)),dot(b,hash(i+o)),dot(c,hash(i+1.)));return dot(n,vec3(70.));}
#ifndef RANDOM_SCALE
#if defined(RANDOM_HIGHER_RANGE)
#define RANDOM_SCALE vec4(.1031, .1030, .0973, .1099)
#else
#define RANDOM_SCALE vec4(443.897, 441.423, .0973, .1099)
#endif
#endif
#ifndef FNC_RANDOM
#define FNC_RANDOM
float random(in float x){
#if defined(RANDOM_SINLESS)
return fract(sin(x)*43758.5453);
#else
x=fract(x*RANDOM_SCALE.x);x*=x+33.33;x*=x+x;return fract(x);
#endif
}float random(in vec2 st){
#if defined(RANDOM_SINLESS)
vec3 p3=fract(vec3(st.xyx)*RANDOM_SCALE.xyz);p3+=dot(p3,p3.yzx+33.33);return fract((p3.x+p3.y)*p3.z);
#else
return fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453);
#endif
}float random(in vec3 pos){
#if defined(RANDOM_SINLESS)
pos=fract(pos*RANDOM_SCALE.xyz);pos+=dot(pos,pos.zyx+31.32);return fract((pos.x+pos.y)*pos.z);
#else
return fract(sin(dot(pos.xyz,vec3(70.9898,78.233,32.4355)))*43758.5453123);
#endif
}float random(in vec4 pos){
#if defined(RANDOM_SINLESS)
pos=fract(pos*RANDOM_SCALE);pos+=dot(pos,pos.wzxy+33.33);return fract((pos.x+pos.y)*(pos.z+pos.w));
#else
float dot_product=dot(pos,vec4(12.9898,78.233,45.164,94.673));return fract(sin(dot_product)*43758.5453);
#endif
}vec2 random2(float p){vec3 p3=fract(vec3(p)*RANDOM_SCALE.xyz);p3+=dot(p3,p3.yzx+19.19);return fract((p3.xx+p3.yz)*p3.zy);}vec2 random2(vec2 p){vec3 p3=fract(p.xyx*RANDOM_SCALE.xyz);p3+=dot(p3,p3.yzx+19.19);return fract((p3.xx+p3.yz)*p3.zy);}vec2 random2(vec3 p3){p3=fract(p3*RANDOM_SCALE.xyz);p3+=dot(p3,p3.yzx+19.19);return fract((p3.xx+p3.yz)*p3.zy);}vec3 random3(float p){vec3 p3=fract(vec3(p)*RANDOM_SCALE.xyz);p3+=dot(p3,p3.yzx+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 random3(vec2 p){vec3 p3=fract(vec3(p.xyx)*RANDOM_SCALE.xyz);p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 random3(vec3 p){p=fract(p*RANDOM_SCALE.xyz);p+=dot(p,p.yxz+19.19);return fract((p.xxy+p.yzz)*p.zyx);}vec4 random4(float p){vec4 p4=fract(p*RANDOM_SCALE);p4+=dot(p4,p4.wzxy+19.19);return fract((p4.xxyz+p4.yzzw)*p4.zywx);}vec4 random4(vec2 p){vec4 p4=fract(p.xyxy*RANDOM_SCALE);p4+=dot(p4,p4.wzxy+19.19);return fract((p4.xxyz+p4.yzzw)*p4.zywx);}vec4 random4(vec3 p){vec4 p4=fract(p.xyzx*RANDOM_SCALE);p4+=dot(p4,p4.wzxy+19.19);return fract((p4.xxyz+p4.yzzw)*p4.zywx);}vec4 random4(vec4 p4){p4=fract(p4*RANDOM_SCALE);p4+=dot(p4,p4.wzxy+19.19);return fract((p4.xxyz+p4.yzzw)*p4.zywx);}
#endif
#if !defined(FNC_SATURATE) && !defined(saturate)
#define FNC_SATURATE
#define saturate(x) clamp(x, 0.0, 1.0)
#endif
#if !defined(FNC_SATURATE) && !defined(saturate)
#define FNC_SATURATE
#define saturate(x) clamp(x, 0.0, 1.0)
#endif
#ifndef FNC_MAP
#define FNC_MAP
float map(float value,float inMin,float inMax){return saturate((value-inMin)/(inMax-inMin));}vec2 map(vec2 value,vec2 inMin,vec2 inMax){return saturate((value-inMin)/(inMax-inMin));}vec3 map(vec3 value,vec3 inMin,vec3 inMax){return saturate((value-inMin)/(inMax-inMin));}vec4 map(vec4 value,vec4 inMin,vec4 inMax){return saturate((value-inMin)/(inMax-inMin));}float map(in float value,in float inMin,in float inMax,in float outMin,in float outMax){return outMin+(outMax-outMin)*(value-inMin)/(inMax-inMin);}vec2 map(in vec2 value,in vec2 inMin,in vec2 inMax,in vec2 outMin,in vec2 outMax){return outMin+(outMax-outMin)*(value-inMin)/(inMax-inMin);}vec3 map(in vec3 value,in vec3 inMin,in vec3 inMax,in vec3 outMin,in vec3 outMax){return outMin+(outMax-outMin)*(value-inMin)/(inMax-inMin);}vec4 map(in vec4 value,in vec4 inMin,in vec4 inMax,in vec4 outMin,in vec4 outMax){return outMin+(outMax-outMin)*(value-inMin)/(inMax-inMin);}
#endif
#ifndef QTR_PI
#define QTR_PI 0.78539816339
#endif
#ifndef HALF_PI
#define HALF_PI 1.5707963267948966192313216916398
#endif
#ifndef PI
#define PI 3.1415926535897932384626433832795
#endif
#ifndef TWO_PI
#define TWO_PI 6.2831853071795864769252867665590
#endif
#ifndef TAU
#define TAU 6.2831853071795864769252867665590
#endif
#ifndef ONE_OVER_PI
#define ONE_OVER_PI 0.31830988618
#endif
#ifndef SQRT_HALF_PI
#define SQRT_HALF_PI 1.25331413732
#endif
#ifndef PHI
#define PHI 1.618033988749894848204586834
#endif
#ifndef EPSILON
#define EPSILON 0.0000001
#endif
#ifndef GOLDEN_RATIO
#define GOLDEN_RATIO 1.6180339887
#endif
#ifndef GOLDEN_RATIO_CONJUGATE
#define GOLDEN_RATIO_CONJUGATE 0.61803398875
#endif
#ifndef GOLDEN_ANGLE
#define GOLDEN_ANGLE 2.39996323
#endif
#ifndef FNC_PALETTE
#define FNC_PALETTE
vec3 palette(in float t,in vec3 a,in vec3 b,in vec3 c,in vec3 d){return a+b*cos(TAU*(c*t+d));}vec4 palette(in float t,in vec4 a,in vec4 b,in vec4 c,in vec4 d){return a+b*cos(TAU*(c*t+d));}
#endif
uniform float uTime;uniform vec3 iResolution;uniform vec4 iMouse;varying vec2 vUv;uniform float uSpeed;uniform float uOpacity;vec3 pos2col(vec2 i){i+=vec2(9.,0.);float r=random(i+vec2(12.,2.));float g=random(i+vec2(7.,5.));float b=random(i);vec3 col=vec3(r,g,b);return col;}vec3 colorNoise(vec2 uv){vec2 size=vec2(1.);vec2 pc=uv*size;vec2 base=floor(pc);vec3 v1=pos2col((base+vec2(0.,0.))/size);vec3 v2=pos2col((base+vec2(1.,0.))/size);vec3 v3=pos2col((base+vec2(0.,1.))/size);vec3 v4=pos2col((base+vec2(1.,1.))/size);vec2 f=fract(pc);f=smoothstep(0.,1.,f);vec3 px1=mix(v1,v2,f.x);vec3 px2=mix(v3,v4,f.x);vec3 v=mix(px1,px2,f.y);return v;}void main(){vec2 uv=vUv;vec2 noiseUv=uv;vec3 col=vec3(1.0);float mask=1.0;noiseUv.x+=-uTime*.1;float noiseValue=noise(noiseUv*vec2(3.0,100.0));mask=noiseValue;mask=1.0*(mask+1.0)/2.0;mask=pow(clamp(mask-0.03,0.0,1.0),13.0);mask=smoothstep(0.0,0.06,mask);col=colorNoise(noiseUv*vec2(10.,100.));col*=vec3(1.5,1.,400.);mask*=smoothstep(.02,0.5,uv.x)*smoothstep(.02,0.5,1.-uv.x);mask*=smoothstep(.01,.1,uv.y)*smoothstep(.01,.1,1.-uv.y);mask*=smoothstep(1.,10.,uSpeed)*5.;gl_FragColor=vec4(col,mask);}`;class _s{constructor(){Z(this,"model")}build(e){return this.model=e,e.scene.traverse(t=>{t.type==="Mesh"&&(t.material=new ze({transparent:!0,side:Dt,vertexShader:ws,fragmentShader:Ss,uniforms:{uOpacity:{value:0},uSpeed:{value:0},uTime:{value:0}}}))}),this.model}}function At(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ta={exports:{}};(function(a,e){(function(t){a.exports=t()})(function(){return function t(r,n,i){function o(l,u){if(!n[l]){if(!r[l]){var h=typeof At=="function"&&At;if(!u&&h)return h(l,!0);if(s)return s(l,!0);throw new Error("Cannot find module '"+l+"'")}u=n[l]={exports:{}},r[l][0].call(u.exports,function(v){var S=r[l][1][v];return o(S||v)},u,u.exports,t,r,n,i)}return n[l].exports}for(var s=typeof At=="function"&&At,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(t,r,n){(function(i,o,s,c,l,u,h,v,S){var A=t("crypto");function C(x,k){k=_(x,k);var d;return(d=k.algorithm!=="passthrough"?A.createHash(k.algorithm):new P).write===void 0&&(d.write=d.update,d.end=d.update),E(k,d).dispatch(x),d.update||d.end(""),d.digest?d.digest(k.encoding==="buffer"?void 0:k.encoding):(x=d.read(),k.encoding!=="buffer"?x.toString(k.encoding):x)}(n=r.exports=C).sha1=function(x){return C(x)},n.keys=function(x){return C(x,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(x){return C(x,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(x){return C(x,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var m=A.getHashes?A.getHashes().slice():["sha1","md5"],y=(m.push("passthrough"),["buffer","hex","binary","base64"]);function _(x,k){var d={};if(d.algorithm=(k=k||{}).algorithm||"sha1",d.encoding=k.encoding||"hex",d.excludeValues=!!k.excludeValues,d.algorithm=d.algorithm.toLowerCase(),d.encoding=d.encoding.toLowerCase(),d.ignoreUnknown=k.ignoreUnknown===!0,d.respectType=k.respectType!==!1,d.respectFunctionNames=k.respectFunctionNames!==!1,d.respectFunctionProperties=k.respectFunctionProperties!==!1,d.unorderedArrays=k.unorderedArrays===!0,d.unorderedSets=k.unorderedSets!==!1,d.unorderedObjects=k.unorderedObjects!==!1,d.replacer=k.replacer||void 0,d.excludeKeys=k.excludeKeys||void 0,x===void 0)throw new Error("Object argument required.");for(var b=0;b<m.length;++b)m[b].toLowerCase()===d.algorithm.toLowerCase()&&(d.algorithm=m[b]);if(m.indexOf(d.algorithm)===-1)throw new Error('Algorithm "'+d.algorithm+'"  not supported. supported values: '+m.join(", "));if(y.indexOf(d.encoding)===-1&&d.algorithm!=="passthrough")throw new Error('Encoding "'+d.encoding+'"  not supported. supported values: '+y.join(", "));return d}function T(x){if(typeof x=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(x))!=null}function E(x,k,d){d=d||[];function b(p){return k.update?k.update(p,"utf8"):k.write(p,"utf8")}return{dispatch:function(p){return this["_"+((p=x.replacer?x.replacer(p):p)===null?"null":typeof p)](p)},_object:function(p){var w,R=Object.prototype.toString.call(p),F=/\[object (.*)\]/i.exec(R);if(F=(F=F?F[1]:"unknown:["+R+"]").toLowerCase(),0<=(R=d.indexOf(p)))return this.dispatch("[CIRCULAR:"+R+"]");if(d.push(p),s!==void 0&&s.isBuffer&&s.isBuffer(p))return b("buffer:"),b(p);if(F==="object"||F==="function"||F==="asyncfunction")return R=Object.keys(p),x.unorderedObjects&&(R=R.sort()),x.respectType===!1||T(p)||R.splice(0,0,"prototype","__proto__","constructor"),x.excludeKeys&&(R=R.filter(function(j){return!x.excludeKeys(j)})),b("object:"+R.length+":"),w=this,R.forEach(function(j){w.dispatch(j),b(":"),x.excludeValues||w.dispatch(p[j]),b(",")});if(!this["_"+F]){if(x.ignoreUnknown)return b("["+F+"]");throw new Error('Unknown object type "'+F+'"')}this["_"+F](p)},_array:function(p,j){j=j!==void 0?j:x.unorderedArrays!==!1;var R=this;if(b("array:"+p.length+":"),!j||p.length<=1)return p.forEach(function(N){return R.dispatch(N)});var F=[],j=p.map(function(N){var I=new P,B=d.slice();return E(x,I,B).dispatch(N),F=F.concat(B.slice(d.length)),I.read().toString()});return d=d.concat(F),j.sort(),this._array(j,!1)},_date:function(p){return b("date:"+p.toJSON())},_symbol:function(p){return b("symbol:"+p.toString())},_error:function(p){return b("error:"+p.toString())},_boolean:function(p){return b("bool:"+p.toString())},_string:function(p){b("string:"+p.length+":"),b(p.toString())},_function:function(p){b("fn:"),T(p)?this.dispatch("[native]"):this.dispatch(p.toString()),x.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(p.name)),x.respectFunctionProperties&&this._object(p)},_number:function(p){return b("number:"+p.toString())},_xml:function(p){return b("xml:"+p.toString())},_null:function(){return b("Null")},_undefined:function(){return b("Undefined")},_regexp:function(p){return b("regex:"+p.toString())},_uint8array:function(p){return b("uint8array:"),this.dispatch(Array.prototype.slice.call(p))},_uint8clampedarray:function(p){return b("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(p))},_int8array:function(p){return b("int8array:"),this.dispatch(Array.prototype.slice.call(p))},_uint16array:function(p){return b("uint16array:"),this.dispatch(Array.prototype.slice.call(p))},_int16array:function(p){return b("int16array:"),this.dispatch(Array.prototype.slice.call(p))},_uint32array:function(p){return b("uint32array:"),this.dispatch(Array.prototype.slice.call(p))},_int32array:function(p){return b("int32array:"),this.dispatch(Array.prototype.slice.call(p))},_float32array:function(p){return b("float32array:"),this.dispatch(Array.prototype.slice.call(p))},_float64array:function(p){return b("float64array:"),this.dispatch(Array.prototype.slice.call(p))},_arraybuffer:function(p){return b("arraybuffer:"),this.dispatch(new Uint8Array(p))},_url:function(p){return b("url:"+p.toString())},_map:function(p){return b("map:"),p=Array.from(p),this._array(p,x.unorderedSets!==!1)},_set:function(p){return b("set:"),p=Array.from(p),this._array(p,x.unorderedSets!==!1)},_file:function(p){return b("file:"),this.dispatch([p.name,p.size,p.type,p.lastModfied])},_blob:function(){if(x.ignoreUnknown)return b("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return b("domwindow")},_bigint:function(p){return b("bigint:"+p.toString())},_process:function(){return b("process")},_timer:function(){return b("timer")},_pipe:function(){return b("pipe")},_tcp:function(){return b("tcp")},_udp:function(){return b("udp")},_tty:function(){return b("tty")},_statwatcher:function(){return b("statwatcher")},_securecontext:function(){return b("securecontext")},_connection:function(){return b("connection")},_zlib:function(){return b("zlib")},_context:function(){return b("context")},_nodescript:function(){return b("nodescript")},_httpparser:function(){return b("httpparser")},_dataview:function(){return b("dataview")},_signal:function(){return b("signal")},_fsevent:function(){return b("fsevent")},_tlswrap:function(){return b("tlswrap")}}}function P(){return{buf:"",write:function(x){this.buf+=x},end:function(x){this.buf+=x},read:function(){return this.buf}}}n.writeToStream=function(x,k,d){return d===void 0&&(d=k,k={}),E(k=_(x,k),d).dispatch(x)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,r,n){(function(i,o,s,c,l,u,h,v,S){(function(A){var C=typeof Uint8Array<"u"?Uint8Array:Array,m=43,y=47,_=48,T=97,E=65,P=45,x=95;function k(d){return d=d.charCodeAt(0),d===m||d===P?62:d===y||d===x?63:d<_?-1:d<_+10?d-_+26+26:d<E+26?d-E:d<T+26?d-T+26:void 0}A.toByteArray=function(d){var b,p;if(0<d.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var w=d.length,w=d.charAt(w-2)==="="?2:d.charAt(w-1)==="="?1:0,R=new C(3*d.length/4-w),F=0<w?d.length-4:d.length,j=0;function N(I){R[j++]=I}for(b=0;b<F;b+=4,0)N((16711680&(p=k(d.charAt(b))<<18|k(d.charAt(b+1))<<12|k(d.charAt(b+2))<<6|k(d.charAt(b+3))))>>16),N((65280&p)>>8),N(255&p);return w==2?N(255&(p=k(d.charAt(b))<<2|k(d.charAt(b+1))>>4)):w==1&&(N((p=k(d.charAt(b))<<10|k(d.charAt(b+1))<<4|k(d.charAt(b+2))>>2)>>8&255),N(255&p)),R},A.fromByteArray=function(d){var b,p,w,R,F=d.length%3,j="";function N(I){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(I)}for(b=0,w=d.length-F;b<w;b+=3)p=(d[b]<<16)+(d[b+1]<<8)+d[b+2],j+=N((R=p)>>18&63)+N(R>>12&63)+N(R>>6&63)+N(63&R);switch(F){case 1:j=(j+=N((p=d[d.length-1])>>2))+N(p<<4&63)+"==";break;case 2:j=(j=(j+=N((p=(d[d.length-2]<<8)+d[d.length-1])>>10))+N(p>>4&63))+N(p<<2&63)+"="}return j}})(n===void 0?this.base64js={}:n)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,r,n){(function(i,o,m,c,l,u,h,v,S){var A=t("base64-js"),C=t("ieee754");function m(f,g,M){if(!(this instanceof m))return new m(f,g,M);var L,O,G,X,ne=typeof f;if(g==="base64"&&ne=="string")for(f=(X=f).trim?X.trim():X.replace(/^\s+|\s+$/g,"");f.length%4!=0;)f+="=";if(ne=="number")L=q(f);else if(ne=="string")L=m.byteLength(f,g);else{if(ne!="object")throw new Error("First argument needs to be a number, array or string.");L=q(f.length)}if(m._useTypedArrays?O=m._augment(new Uint8Array(L)):((O=this).length=L,O._isBuffer=!0),m._useTypedArrays&&typeof f.byteLength=="number")O._set(f);else if(V(X=f)||m.isBuffer(X)||X&&typeof X=="object"&&typeof X.length=="number")for(G=0;G<L;G++)m.isBuffer(f)?O[G]=f.readUInt8(G):O[G]=f[G];else if(ne=="string")O.write(f,0,g);else if(ne=="number"&&!m._useTypedArrays&&!M)for(G=0;G<L;G++)O[G]=0;return O}function y(f,g,M,L){return m._charsWritten=le(function(O){for(var G=[],X=0;X<O.length;X++)G.push(255&O.charCodeAt(X));return G}(g),f,M,L)}function _(f,g,M,L){return m._charsWritten=le(function(O){for(var G,X,ne=[],ie=0;ie<O.length;ie++)X=O.charCodeAt(ie),G=X>>8,X=X%256,ne.push(X),ne.push(G);return ne}(g),f,M,L)}function T(f,g,M){var L="";M=Math.min(f.length,M);for(var O=g;O<M;O++)L+=String.fromCharCode(f[O]);return L}function E(f,g,M,G){G||(z(typeof M=="boolean","missing or invalid endian"),z(g!=null,"missing offset"),z(g+1<f.length,"Trying to read beyond buffer length"));var O,G=f.length;if(!(G<=g))return M?(O=f[g],g+1<G&&(O|=f[g+1]<<8)):(O=f[g]<<8,g+1<G&&(O|=f[g+1])),O}function P(f,g,M,G){G||(z(typeof M=="boolean","missing or invalid endian"),z(g!=null,"missing offset"),z(g+3<f.length,"Trying to read beyond buffer length"));var O,G=f.length;if(!(G<=g))return M?(g+2<G&&(O=f[g+2]<<16),g+1<G&&(O|=f[g+1]<<8),O|=f[g],g+3<G&&(O+=f[g+3]<<24>>>0)):(g+1<G&&(O=f[g+1]<<16),g+2<G&&(O|=f[g+2]<<8),g+3<G&&(O|=f[g+3]),O+=f[g]<<24>>>0),O}function x(f,g,M,L){if(L||(z(typeof M=="boolean","missing or invalid endian"),z(g!=null,"missing offset"),z(g+1<f.length,"Trying to read beyond buffer length")),!(f.length<=g))return L=E(f,g,M,!0),32768&L?-1*(65535-L+1):L}function k(f,g,M,L){if(L||(z(typeof M=="boolean","missing or invalid endian"),z(g!=null,"missing offset"),z(g+3<f.length,"Trying to read beyond buffer length")),!(f.length<=g))return L=P(f,g,M,!0),2147483648&L?-1*(4294967295-L+1):L}function d(f,g,M,L){return L||(z(typeof M=="boolean","missing or invalid endian"),z(g+3<f.length,"Trying to read beyond buffer length")),C.read(f,g,M,23,4)}function b(f,g,M,L){return L||(z(typeof M=="boolean","missing or invalid endian"),z(g+7<f.length,"Trying to read beyond buffer length")),C.read(f,g,M,52,8)}function p(f,g,M,L,O){if(O||(z(g!=null,"missing value"),z(typeof L=="boolean","missing or invalid endian"),z(M!=null,"missing offset"),z(M+1<f.length,"trying to write beyond buffer length"),Re(g,65535)),O=f.length,!(O<=M))for(var G=0,X=Math.min(O-M,2);G<X;G++)f[M+G]=(g&255<<8*(L?G:1-G))>>>8*(L?G:1-G)}function w(f,g,M,L,O){if(O||(z(g!=null,"missing value"),z(typeof L=="boolean","missing or invalid endian"),z(M!=null,"missing offset"),z(M+3<f.length,"trying to write beyond buffer length"),Re(g,4294967295)),O=f.length,!(O<=M))for(var G=0,X=Math.min(O-M,4);G<X;G++)f[M+G]=g>>>8*(L?G:3-G)&255}function R(f,g,M,L,O){O||(z(g!=null,"missing value"),z(typeof L=="boolean","missing or invalid endian"),z(M!=null,"missing offset"),z(M+1<f.length,"Trying to write beyond buffer length"),_e(g,32767,-32768)),f.length<=M||p(f,0<=g?g:65535+g+1,M,L,O)}function F(f,g,M,L,O){O||(z(g!=null,"missing value"),z(typeof L=="boolean","missing or invalid endian"),z(M!=null,"missing offset"),z(M+3<f.length,"Trying to write beyond buffer length"),_e(g,2147483647,-2147483648)),f.length<=M||w(f,0<=g?g:4294967295+g+1,M,L,O)}function j(f,g,M,L,O){O||(z(g!=null,"missing value"),z(typeof L=="boolean","missing or invalid endian"),z(M!=null,"missing offset"),z(M+3<f.length,"Trying to write beyond buffer length"),De(g,34028234663852886e22,-34028234663852886e22)),f.length<=M||C.write(f,g,M,L,23,4)}function N(f,g,M,L,O){O||(z(g!=null,"missing value"),z(typeof L=="boolean","missing or invalid endian"),z(M!=null,"missing offset"),z(M+7<f.length,"Trying to write beyond buffer length"),De(g,17976931348623157e292,-17976931348623157e292)),f.length<=M||C.write(f,g,M,L,52,8)}n.Buffer=m,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50,m.poolSize=8192,m._useTypedArrays=function(){try{var f=new ArrayBuffer(0),g=new Uint8Array(f);return g.foo=function(){return 42},g.foo()===42&&typeof g.subarray=="function"}catch{return!1}}(),m.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.isBuffer=function(f){return!(f==null||!f._isBuffer)},m.byteLength=function(f,g){var M;switch(f+="",g||"utf8"){case"hex":M=f.length/2;break;case"utf8":case"utf-8":M=ae(f).length;break;case"ascii":case"binary":case"raw":M=f.length;break;case"base64":M=te(f).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":M=2*f.length;break;default:throw new Error("Unknown encoding")}return M},m.concat=function(f,g){if(z(V(f),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),f.length===0)return new m(0);if(f.length===1)return f[0];if(typeof g!="number")for(O=g=0;O<f.length;O++)g+=f[O].length;for(var M=new m(g),L=0,O=0;O<f.length;O++){var G=f[O];G.copy(M,L),L+=G.length}return M},m.prototype.write=function(f,g,M,L){isFinite(g)?isFinite(M)||(L=M,M=void 0):(ie=L,L=g,g=M,M=ie),g=Number(g)||0;var O,G,X,ne,ie=this.length-g;switch((!M||ie<(M=Number(M)))&&(M=ie),L=String(L||"utf8").toLowerCase()){case"hex":O=function(ye,ue,fe,oe){fe=Number(fe)||0;var re=ye.length-fe;(!oe||re<(oe=Number(oe)))&&(oe=re),z((re=ue.length)%2==0,"Invalid hex string"),re/2<oe&&(oe=re/2);for(var Ke=0;Ke<oe;Ke++){var wn=parseInt(ue.substr(2*Ke,2),16);z(!isNaN(wn),"Invalid hex string"),ye[fe+Ke]=wn}return m._charsWritten=2*Ke,Ke}(this,f,g,M);break;case"utf8":case"utf-8":G=this,X=g,ne=M,O=m._charsWritten=le(ae(f),G,X,ne);break;case"ascii":case"binary":O=y(this,f,g,M);break;case"base64":G=this,X=g,ne=M,O=m._charsWritten=le(te(f),G,X,ne);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":O=_(this,f,g,M);break;default:throw new Error("Unknown encoding")}return O},m.prototype.toString=function(f,g,M){var L,O,G,X,ne=this;if(f=String(f||"utf8").toLowerCase(),g=Number(g)||0,(M=M!==void 0?Number(M):ne.length)===g)return"";switch(f){case"hex":L=function(ie,ye,ue){var fe=ie.length;(!ye||ye<0)&&(ye=0),(!ue||ue<0||fe<ue)&&(ue=fe);for(var oe="",re=ye;re<ue;re++)oe+=H(ie[re]);return oe}(ne,g,M);break;case"utf8":case"utf-8":L=function(ie,ye,ue){var fe="",oe="";ue=Math.min(ie.length,ue);for(var re=ye;re<ue;re++)ie[re]<=127?(fe+=Se(oe)+String.fromCharCode(ie[re]),oe=""):oe+="%"+ie[re].toString(16);return fe+Se(oe)}(ne,g,M);break;case"ascii":case"binary":L=T(ne,g,M);break;case"base64":O=ne,X=M,L=(G=g)===0&&X===O.length?A.fromByteArray(O):A.fromByteArray(O.slice(G,X));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":L=function(ie,ye,ue){for(var fe=ie.slice(ye,ue),oe="",re=0;re<fe.length;re+=2)oe+=String.fromCharCode(fe[re]+256*fe[re+1]);return oe}(ne,g,M);break;default:throw new Error("Unknown encoding")}return L},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.copy=function(f,g,M,L){if(g=g||0,(L=L||L===0?L:this.length)!==(M=M||0)&&f.length!==0&&this.length!==0){z(M<=L,"sourceEnd < sourceStart"),z(0<=g&&g<f.length,"targetStart out of bounds"),z(0<=M&&M<this.length,"sourceStart out of bounds"),z(0<=L&&L<=this.length,"sourceEnd out of bounds"),L>this.length&&(L=this.length);var O=(L=f.length-g<L-M?f.length-g+M:L)-M;if(O<100||!m._useTypedArrays)for(var G=0;G<O;G++)f[G+g]=this[G+M];else f._set(this.subarray(M,M+O),g)}},m.prototype.slice=function(f,g){var M=this.length;if(f=B(f,M,0),g=B(g,M,M),m._useTypedArrays)return m._augment(this.subarray(f,g));for(var L=g-f,O=new m(L,void 0,!0),G=0;G<L;G++)O[G]=this[G+f];return O},m.prototype.get=function(f){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(f)},m.prototype.set=function(f,g){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(f,g)},m.prototype.readUInt8=function(f,g){if(g||(z(f!=null,"missing offset"),z(f<this.length,"Trying to read beyond buffer length")),!(f>=this.length))return this[f]},m.prototype.readUInt16LE=function(f,g){return E(this,f,!0,g)},m.prototype.readUInt16BE=function(f,g){return E(this,f,!1,g)},m.prototype.readUInt32LE=function(f,g){return P(this,f,!0,g)},m.prototype.readUInt32BE=function(f,g){return P(this,f,!1,g)},m.prototype.readInt8=function(f,g){if(g||(z(f!=null,"missing offset"),z(f<this.length,"Trying to read beyond buffer length")),!(f>=this.length))return 128&this[f]?-1*(255-this[f]+1):this[f]},m.prototype.readInt16LE=function(f,g){return x(this,f,!0,g)},m.prototype.readInt16BE=function(f,g){return x(this,f,!1,g)},m.prototype.readInt32LE=function(f,g){return k(this,f,!0,g)},m.prototype.readInt32BE=function(f,g){return k(this,f,!1,g)},m.prototype.readFloatLE=function(f,g){return d(this,f,!0,g)},m.prototype.readFloatBE=function(f,g){return d(this,f,!1,g)},m.prototype.readDoubleLE=function(f,g){return b(this,f,!0,g)},m.prototype.readDoubleBE=function(f,g){return b(this,f,!1,g)},m.prototype.writeUInt8=function(f,g,M){M||(z(f!=null,"missing value"),z(g!=null,"missing offset"),z(g<this.length,"trying to write beyond buffer length"),Re(f,255)),g>=this.length||(this[g]=f)},m.prototype.writeUInt16LE=function(f,g,M){p(this,f,g,!0,M)},m.prototype.writeUInt16BE=function(f,g,M){p(this,f,g,!1,M)},m.prototype.writeUInt32LE=function(f,g,M){w(this,f,g,!0,M)},m.prototype.writeUInt32BE=function(f,g,M){w(this,f,g,!1,M)},m.prototype.writeInt8=function(f,g,M){M||(z(f!=null,"missing value"),z(g!=null,"missing offset"),z(g<this.length,"Trying to write beyond buffer length"),_e(f,127,-128)),g>=this.length||(0<=f?this.writeUInt8(f,g,M):this.writeUInt8(255+f+1,g,M))},m.prototype.writeInt16LE=function(f,g,M){R(this,f,g,!0,M)},m.prototype.writeInt16BE=function(f,g,M){R(this,f,g,!1,M)},m.prototype.writeInt32LE=function(f,g,M){F(this,f,g,!0,M)},m.prototype.writeInt32BE=function(f,g,M){F(this,f,g,!1,M)},m.prototype.writeFloatLE=function(f,g,M){j(this,f,g,!0,M)},m.prototype.writeFloatBE=function(f,g,M){j(this,f,g,!1,M)},m.prototype.writeDoubleLE=function(f,g,M){N(this,f,g,!0,M)},m.prototype.writeDoubleBE=function(f,g,M){N(this,f,g,!1,M)},m.prototype.fill=function(f,g,M){if(g=g||0,M=M||this.length,z(typeof(f=typeof(f=f||0)=="string"?f.charCodeAt(0):f)=="number"&&!isNaN(f),"value is not a number"),z(g<=M,"end < start"),M!==g&&this.length!==0){z(0<=g&&g<this.length,"start out of bounds"),z(0<=M&&M<=this.length,"end out of bounds");for(var L=g;L<M;L++)this[L]=f}},m.prototype.inspect=function(){for(var f=[],g=this.length,M=0;M<g;M++)if(f[M]=H(this[M]),M===n.INSPECT_MAX_BYTES){f[M+1]="...";break}return"<Buffer "+f.join(" ")+">"},m.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(m._useTypedArrays)return new m(this).buffer;for(var f=new Uint8Array(this.length),g=0,M=f.length;g<M;g+=1)f[g]=this[g];return f.buffer};var I=m.prototype;function B(f,g,M){return typeof f!="number"?M:g<=(f=~~f)?g:0<=f||0<=(f+=g)?f:0}function q(f){return(f=~~Math.ceil(+f))<0?0:f}function V(f){return(Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"})(f)}function H(f){return f<16?"0"+f.toString(16):f.toString(16)}function ae(f){for(var g=[],M=0;M<f.length;M++){var L=f.charCodeAt(M);if(L<=127)g.push(f.charCodeAt(M));else for(var O=M,G=(55296<=L&&L<=57343&&M++,encodeURIComponent(f.slice(O,M+1)).substr(1).split("%")),X=0;X<G.length;X++)g.push(parseInt(G[X],16))}return g}function te(f){return A.toByteArray(f)}function le(f,g,M,L){for(var O=0;O<L&&!(O+M>=g.length||O>=f.length);O++)g[O+M]=f[O];return O}function Se(f){try{return decodeURIComponent(f)}catch{return"�"}}function Re(f,g){z(typeof f=="number","cannot write a non-number as a number"),z(0<=f,"specified a negative value for writing an unsigned value"),z(f<=g,"value is larger than maximum value for type"),z(Math.floor(f)===f,"value has a fractional component")}function _e(f,g,M){z(typeof f=="number","cannot write a non-number as a number"),z(f<=g,"value larger than maximum allowed value"),z(M<=f,"value smaller than minimum allowed value"),z(Math.floor(f)===f,"value has a fractional component")}function De(f,g,M){z(typeof f=="number","cannot write a non-number as a number"),z(f<=g,"value larger than maximum allowed value"),z(M<=f,"value smaller than minimum allowed value")}function z(f,g){if(!f)throw new Error(g||"Failed assertion")}m._augment=function(f){return f._isBuffer=!0,f._get=f.get,f._set=f.set,f.get=I.get,f.set=I.set,f.write=I.write,f.toString=I.toString,f.toLocaleString=I.toString,f.toJSON=I.toJSON,f.copy=I.copy,f.slice=I.slice,f.readUInt8=I.readUInt8,f.readUInt16LE=I.readUInt16LE,f.readUInt16BE=I.readUInt16BE,f.readUInt32LE=I.readUInt32LE,f.readUInt32BE=I.readUInt32BE,f.readInt8=I.readInt8,f.readInt16LE=I.readInt16LE,f.readInt16BE=I.readInt16BE,f.readInt32LE=I.readInt32LE,f.readInt32BE=I.readInt32BE,f.readFloatLE=I.readFloatLE,f.readFloatBE=I.readFloatBE,f.readDoubleLE=I.readDoubleLE,f.readDoubleBE=I.readDoubleBE,f.writeUInt8=I.writeUInt8,f.writeUInt16LE=I.writeUInt16LE,f.writeUInt16BE=I.writeUInt16BE,f.writeUInt32LE=I.writeUInt32LE,f.writeUInt32BE=I.writeUInt32BE,f.writeInt8=I.writeInt8,f.writeInt16LE=I.writeInt16LE,f.writeInt16BE=I.writeInt16BE,f.writeInt32LE=I.writeInt32LE,f.writeInt32BE=I.writeInt32BE,f.writeFloatLE=I.writeFloatLE,f.writeFloatBE=I.writeFloatBE,f.writeDoubleLE=I.writeDoubleLE,f.writeDoubleBE=I.writeDoubleBE,f.fill=I.fill,f.inspect=I.inspect,f.toArrayBuffer=I.toArrayBuffer,f}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,r,n){(function(i,o,A,c,l,u,h,v,S){var A=t("buffer").Buffer,C=4,m=new A(C);m.fill(0),r.exports={hash:function(y,_,T,E){for(var P=_(function(p,w){p.length%C!=0&&(R=p.length+(C-p.length%C),p=A.concat([p,m],R));for(var R,F=[],j=w?p.readInt32BE:p.readInt32LE,N=0;N<p.length;N+=C)F.push(j.call(p,N));return F}(y=A.isBuffer(y)?y:new A(y),E),8*y.length),_=E,x=new A(T),k=_?x.writeInt32BE:x.writeInt32LE,d=0;d<P.length;d++)k.call(x,P[d],4*d,!0);return x}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,r,n){(function(i,o,A,c,l,u,h,v,S){var A=t("buffer").Buffer,C=t("./sha"),m=t("./sha256"),y=t("./rng"),_={sha1:C,sha256:m,md5:t("./md5")},T=64,E=new A(T);function P(p,w){var R=_[p=p||"sha1"],F=[];return R||x("algorithm:",p,"is not yet supported"),{update:function(j){return A.isBuffer(j)||(j=new A(j)),F.push(j),j.length,this},digest:function(j){var N=A.concat(F),N=w?function(I,B,q){A.isBuffer(B)||(B=new A(B)),A.isBuffer(q)||(q=new A(q)),B.length>T?B=I(B):B.length<T&&(B=A.concat([B,E],T));for(var V=new A(T),H=new A(T),ae=0;ae<T;ae++)V[ae]=54^B[ae],H[ae]=92^B[ae];return q=I(A.concat([V,q])),I(A.concat([H,q]))}(R,w,N):R(N);return F=null,j?N.toString(j):N}}}function x(){var p=[].slice.call(arguments).join(" ");throw new Error([p,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}E.fill(0),n.createHash=function(p){return P(p)},n.createHmac=P,n.randomBytes=function(p,w){if(!w||!w.call)return new A(y(p));try{w.call(this,void 0,new A(y(p)))}catch(R){w(R)}};var k,d=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],b=function(p){n[p]=function(){x("sorry,",p,"is not implemented yet")}};for(k in d)b(d[k])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,r,n){(function(i,o,s,c,l,u,h,v,S){var A=t("./helpers");function C(x,k){x[k>>5]|=128<<k%32,x[14+(k+64>>>9<<4)]=k;for(var d=1732584193,b=-271733879,p=-1732584194,w=271733878,R=0;R<x.length;R+=16){var F=d,j=b,N=p,I=w,d=y(d,b,p,w,x[R+0],7,-680876936),w=y(w,d,b,p,x[R+1],12,-389564586),p=y(p,w,d,b,x[R+2],17,606105819),b=y(b,p,w,d,x[R+3],22,-1044525330);d=y(d,b,p,w,x[R+4],7,-176418897),w=y(w,d,b,p,x[R+5],12,1200080426),p=y(p,w,d,b,x[R+6],17,-1473231341),b=y(b,p,w,d,x[R+7],22,-45705983),d=y(d,b,p,w,x[R+8],7,1770035416),w=y(w,d,b,p,x[R+9],12,-1958414417),p=y(p,w,d,b,x[R+10],17,-42063),b=y(b,p,w,d,x[R+11],22,-1990404162),d=y(d,b,p,w,x[R+12],7,1804603682),w=y(w,d,b,p,x[R+13],12,-40341101),p=y(p,w,d,b,x[R+14],17,-1502002290),d=_(d,b=y(b,p,w,d,x[R+15],22,1236535329),p,w,x[R+1],5,-165796510),w=_(w,d,b,p,x[R+6],9,-1069501632),p=_(p,w,d,b,x[R+11],14,643717713),b=_(b,p,w,d,x[R+0],20,-373897302),d=_(d,b,p,w,x[R+5],5,-701558691),w=_(w,d,b,p,x[R+10],9,38016083),p=_(p,w,d,b,x[R+15],14,-660478335),b=_(b,p,w,d,x[R+4],20,-405537848),d=_(d,b,p,w,x[R+9],5,568446438),w=_(w,d,b,p,x[R+14],9,-1019803690),p=_(p,w,d,b,x[R+3],14,-187363961),b=_(b,p,w,d,x[R+8],20,1163531501),d=_(d,b,p,w,x[R+13],5,-1444681467),w=_(w,d,b,p,x[R+2],9,-51403784),p=_(p,w,d,b,x[R+7],14,1735328473),d=T(d,b=_(b,p,w,d,x[R+12],20,-1926607734),p,w,x[R+5],4,-378558),w=T(w,d,b,p,x[R+8],11,-2022574463),p=T(p,w,d,b,x[R+11],16,1839030562),b=T(b,p,w,d,x[R+14],23,-35309556),d=T(d,b,p,w,x[R+1],4,-1530992060),w=T(w,d,b,p,x[R+4],11,1272893353),p=T(p,w,d,b,x[R+7],16,-155497632),b=T(b,p,w,d,x[R+10],23,-1094730640),d=T(d,b,p,w,x[R+13],4,681279174),w=T(w,d,b,p,x[R+0],11,-358537222),p=T(p,w,d,b,x[R+3],16,-722521979),b=T(b,p,w,d,x[R+6],23,76029189),d=T(d,b,p,w,x[R+9],4,-640364487),w=T(w,d,b,p,x[R+12],11,-421815835),p=T(p,w,d,b,x[R+15],16,530742520),d=E(d,b=T(b,p,w,d,x[R+2],23,-995338651),p,w,x[R+0],6,-198630844),w=E(w,d,b,p,x[R+7],10,1126891415),p=E(p,w,d,b,x[R+14],15,-1416354905),b=E(b,p,w,d,x[R+5],21,-57434055),d=E(d,b,p,w,x[R+12],6,1700485571),w=E(w,d,b,p,x[R+3],10,-1894986606),p=E(p,w,d,b,x[R+10],15,-1051523),b=E(b,p,w,d,x[R+1],21,-2054922799),d=E(d,b,p,w,x[R+8],6,1873313359),w=E(w,d,b,p,x[R+15],10,-30611744),p=E(p,w,d,b,x[R+6],15,-1560198380),b=E(b,p,w,d,x[R+13],21,1309151649),d=E(d,b,p,w,x[R+4],6,-145523070),w=E(w,d,b,p,x[R+11],10,-1120210379),p=E(p,w,d,b,x[R+2],15,718787259),b=E(b,p,w,d,x[R+9],21,-343485551),d=P(d,F),b=P(b,j),p=P(p,N),w=P(w,I)}return Array(d,b,p,w)}function m(x,k,d,b,p,w){return P((k=P(P(k,x),P(b,w)))<<p|k>>>32-p,d)}function y(x,k,d,b,p,w,R){return m(k&d|~k&b,x,k,p,w,R)}function _(x,k,d,b,p,w,R){return m(k&b|d&~b,x,k,p,w,R)}function T(x,k,d,b,p,w,R){return m(k^d^b,x,k,p,w,R)}function E(x,k,d,b,p,w,R){return m(d^(k|~b),x,k,p,w,R)}function P(x,k){var d=(65535&x)+(65535&k);return(x>>16)+(k>>16)+(d>>16)<<16|65535&d}r.exports=function(x){return A.hash(x,C,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,r,n){(function(i,o,s,c,l,u,h,v,S){r.exports=function(A){for(var C,m=new Array(A),y=0;y<A;y++)!(3&y)&&(C=4294967296*Math.random()),m[y]=C>>>((3&y)<<3)&255;return m}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,r,n){(function(i,o,s,c,l,u,h,v,S){var A=t("./helpers");function C(_,T){_[T>>5]|=128<<24-T%32,_[15+(T+64>>9<<4)]=T;for(var E,P,x,k=Array(80),d=1732584193,b=-271733879,p=-1732584194,w=271733878,R=-1009589776,F=0;F<_.length;F+=16){for(var j=d,N=b,I=p,B=w,q=R,V=0;V<80;V++){k[V]=V<16?_[F+V]:y(k[V-3]^k[V-8]^k[V-14]^k[V-16],1);var H=m(m(y(d,5),(H=b,P=p,x=w,(E=V)<20?H&P|~H&x:!(E<40)&&E<60?H&P|H&x|P&x:H^P^x)),m(m(R,k[V]),(E=V)<20?1518500249:E<40?1859775393:E<60?-1894007588:-899497514)),R=w,w=p,p=y(b,30),b=d,d=H}d=m(d,j),b=m(b,N),p=m(p,I),w=m(w,B),R=m(R,q)}return Array(d,b,p,w,R)}function m(_,T){var E=(65535&_)+(65535&T);return(_>>16)+(T>>16)+(E>>16)<<16|65535&E}function y(_,T){return _<<T|_>>>32-T}r.exports=function(_){return A.hash(_,C,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,r,n){(function(i,o,s,c,l,u,h,v,S){function A(T,E){var P=(65535&T)+(65535&E);return(T>>16)+(E>>16)+(P>>16)<<16|65535&P}function C(T,E){var P,x=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),k=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),d=new Array(64);T[E>>5]|=128<<24-E%32,T[15+(E+64>>9<<4)]=E;for(var b,p,w=0;w<T.length;w+=16){for(var R=k[0],F=k[1],j=k[2],N=k[3],I=k[4],B=k[5],q=k[6],V=k[7],H=0;H<64;H++)d[H]=H<16?T[H+w]:A(A(A((p=d[H-2],y(p,17)^y(p,19)^_(p,10)),d[H-7]),(p=d[H-15],y(p,7)^y(p,18)^_(p,3))),d[H-16]),P=A(A(A(A(V,y(p=I,6)^y(p,11)^y(p,25)),I&B^~I&q),x[H]),d[H]),b=A(y(b=R,2)^y(b,13)^y(b,22),R&F^R&j^F&j),V=q,q=B,B=I,I=A(N,P),N=j,j=F,F=R,R=A(P,b);k[0]=A(R,k[0]),k[1]=A(F,k[1]),k[2]=A(j,k[2]),k[3]=A(N,k[3]),k[4]=A(I,k[4]),k[5]=A(B,k[5]),k[6]=A(q,k[6]),k[7]=A(V,k[7])}return k}var m=t("./helpers"),y=function(T,E){return T>>>E|T<<32-E},_=function(T,E){return T>>>E};r.exports=function(T){return m.hash(T,C,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,r,n){(function(i,o,s,c,l,u,h,v,S){n.read=function(A,C,m,y,w){var T,E,P=8*w-y-1,x=(1<<P)-1,k=x>>1,d=-7,b=m?w-1:0,p=m?-1:1,w=A[C+b];for(b+=p,T=w&(1<<-d)-1,w>>=-d,d+=P;0<d;T=256*T+A[C+b],b+=p,d-=8);for(E=T&(1<<-d)-1,T>>=-d,d+=y;0<d;E=256*E+A[C+b],b+=p,d-=8);if(T===0)T=1-k;else{if(T===x)return E?NaN:1/0*(w?-1:1);E+=Math.pow(2,y),T-=k}return(w?-1:1)*E*Math.pow(2,T-y)},n.write=function(A,C,m,y,_,R){var E,P,x=8*R-_-1,k=(1<<x)-1,d=k>>1,b=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=y?0:R-1,w=y?1:-1,R=C<0||C===0&&1/C<0?1:0;for(C=Math.abs(C),isNaN(C)||C===1/0?(P=isNaN(C)?1:0,E=k):(E=Math.floor(Math.log(C)/Math.LN2),C*(y=Math.pow(2,-E))<1&&(E--,y*=2),2<=(C+=1<=E+d?b/y:b*Math.pow(2,1-d))*y&&(E++,y/=2),k<=E+d?(P=0,E=k):1<=E+d?(P=(C*y-1)*Math.pow(2,_),E+=d):(P=C*Math.pow(2,d-1)*Math.pow(2,_),E=0));8<=_;A[m+p]=255&P,p+=w,P/=256,_-=8);for(E=E<<_|P,x+=_;0<x;A[m+p]=255&E,p+=w,E/=256,x-=8);A[m+p-w]|=128*R}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,r,n){(function(i,o,s,c,l,u,h,v,S){var A,C,m;function y(){}(i=r.exports={}).nextTick=(C=typeof window<"u"&&window.setImmediate,m=typeof window<"u"&&window.postMessage&&window.addEventListener,C?function(_){return window.setImmediate(_)}:m?(A=[],window.addEventListener("message",function(_){var T=_.source;T!==window&&T!==null||_.data!=="process-tick"||(_.stopPropagation(),0<A.length&&A.shift()())},!0),function(_){A.push(_),window.postMessage("process-tick","*")}):function(_){setTimeout(_,0)}),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.binding=function(_){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(_){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(ta);var As=ta.exports;const Es=Ft(As);var na=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"],Ts=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"],ra=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],Ms=na,Rs=Ms.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"]),un=ra;un=un.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)});var ks=un.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]),Cs=Gs,Ps=na,$n=Ts,Ls=ra,js=Rs,Is=ks,we=999,Jn=9999,Wt=0,Qt=1,Zn=2,er=3,tr=4,at=5,Os=6,Ds=7,Fs=8,nr=9,Ns=10,rr=11,zs=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function Gs(a){var e=0,t=0,r=we,n,i,o=[],s=[],c=1,l=0,u=0,h=!1,v=!1,S="",A;a=a||{};var C=Ls,m=Ps;a.version==="300 es"&&(C=Is,m=js);for(var y={},_={},e=0;e<C.length;e++)y[C[e]]=!0;for(var e=0;e<m.length;e++)_[m[e]]=!0;return function(B){return s=[],B!==null?E(B):P()};function T(B){B.length&&s.push({type:zs[r],data:B,position:u,line:c,column:l})}function E(B){e=0,B.toString&&(B=B.toString()),S+=B.replace(/\r\n/g,`
`),A=S.length;for(var q;n=S[e],e<A;){switch(q=e,r){case Wt:e=p();break;case Qt:e=b();break;case Zn:e=d();break;case er:e=w();break;case tr:e=j();break;case rr:e=F();break;case at:e=N();break;case Jn:e=I();break;case nr:e=k();break;case we:e=x();break}if(q!==e)switch(S[q]){case`
`:l=0,++c;break;default:++l;break}}return t+=e,S=S.slice(e),s}function P(B){return o.length&&T(o.join("")),r=Ns,T("(eof)"),s}function x(){return o=o.length?[]:o,i==="/"&&n==="*"?(u=t+e-1,r=Wt,i=n,e+1):i==="/"&&n==="/"?(u=t+e-1,r=Qt,i=n,e+1):n==="#"?(r=Zn,u=t+e,e):/\s/.test(n)?(r=nr,u=t+e,e):(h=/\d/.test(n),v=/[^\w_]/.test(n),u=t+e,r=h?tr:v?er:Jn,e)}function k(){return/[^\s]/g.test(n)?(T(o.join("")),r=we,e):(o.push(n),i=n,e+1)}function d(){return(n==="\r"||n===`
`)&&i!=="\\"?(T(o.join("")),r=we,e):(o.push(n),i=n,e+1)}function b(){return d()}function p(){return n==="/"&&i==="*"?(o.push(n),T(o.join("")),r=we,e+1):(o.push(n),i=n,e+1)}function w(){if(i==="."&&/\d/.test(n))return r=at,e;if(i==="/"&&n==="*")return r=Wt,e;if(i==="/"&&n==="/")return r=Qt,e;if(n==="."&&o.length){for(;R(o););return r=at,e}if(n===";"||n===")"||n==="("){if(o.length)for(;R(o););return T(n),r=we,e+1}var B=o.length===2&&n!=="=";if(/[\w_\d\s]/.test(n)||B){for(;R(o););return r=we,e}return o.push(n),i=n,e+1}function R(B){var q=0,V,H;do{if(V=$n.indexOf(B.slice(0,B.length+q).join("")),H=$n[V],V===-1){if(q--+B.length>0)continue;H=B.slice(0,1).join("")}return T(H),u+=H.length,o=o.slice(H.length),o.length}while(!0)}function F(){return/[^a-fA-F0-9]/.test(n)?(T(o.join("")),r=we,e):(o.push(n),i=n,e+1)}function j(){return n==="."||/[eE]/.test(n)?(o.push(n),r=at,i=n,e+1):n==="x"&&o.length===1&&o[0]==="0"?(r=rr,o.push(n),i=n,e+1):/[^\d]/.test(n)?(T(o.join("")),r=we,e):(o.push(n),i=n,e+1)}function N(){return n==="f"&&(o.push(n),i=n,e+=1),/[eE]/.test(n)||(n==="-"||n==="+")&&/[eE]/.test(i)?(o.push(n),i=n,e+1):/[^\d]/.test(n)?(T(o.join("")),r=we,e):(o.push(n),i=n,e+1)}function I(){if(/[^\d\w_]/.test(n)){var B=o.join("");return _[B]?r=Fs:y[B]?r=Ds:r=Os,T(o.join("")),r=we,e}return o.push(n),i=n,e+1}}var Bs=Cs,Us=Hs;function Hs(a,e){var t=Bs(e),r=[];return r=r.concat(t(a)),r=r.concat(t(null)),r}const Vs=Ft(Us);var Ks=qs;function qs(a){for(var e=[],t=0;t<a.length;t++)a[t].type!=="eof"&&e.push(a[t].data);return e.join("")}const ar=Ft(Ks);var Ws=Qs;function Qs(a){var e=null,t=null,r=0,n=0,i=0,o=0,s=0,c=[],l,u,h;for(l=0,u;l<a.length;l++)if(h=a[l],h.data==="{"){if(r&&r++||(u=S(l,Ce(")"),Ce()),u<0)||(o=u,u=S(u,Ce("("),Ce(")")),u<0)||(s=u,u=S(u,it),u<0)||a[u].type!=="ident"||(t=a[u].data,u=S(u,it),u<0))continue;r=1,n=l,e=a[u].data,i=u;var v=S(u,it);switch(a[v]&&a[v].data){case"lowp":case"highp":case"mediump":i=v}}else if(r&&h.data==="}"){if(--r)continue;c.push({name:t,type:e,body:[n+1,l],args:[s,o+1],outer:[i,l+1]})}for(l=0;l<a.length;l++)if(h=a[l],h.data===";"){if(u=S(l,Ce(")"),Ce()),u<0||(o=u,u=S(u,Ce("("),Ce(")")),u<0)||(s=u,u=S(u,it),u<0)||a[u].type!=="ident"||(t=a[u].data,u=S(u,it),u<0)||a[u].type==="operator"||a[u].data==="return")continue;e=a[u].data,c.push({name:t,type:e,body:!1,args:[s,o+1],outer:[u,l+1]})}return c.sort(function(A,C){return A.outer[0]-C.outer[0]});function S(A,C,m){for(var y=A-1;y>=0;y--){if(C(a[y]))return y;if(m&&m(a[y]))return-1}return-1}}function Ce(a){return function(e){return e.type==="operator"&&(!a||e.data===a)}}function it(a){return a.type!=="whitespace"}const Xs=Ft(Ws);function Ys(a,e){if(typeof a!="object"||a===null)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function aa(a){var e=Ys(a,"string");return typeof e=="symbol"?e:String(e)}function $(a,e,t){return e=aa(e),e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function ir(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),t.push.apply(t,r)}return t}function We(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ir(Object(t),!0).forEach(function(r){$(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):ir(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function $s(a,e){if(a==null)return{};var t={},r=Object.keys(a),n,i;for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&(t[n]=a[n]);return t}function Js(a,e){if(a==null)return{};var t=$s(a,e),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);for(n=0;n<i.length;n++)r=i[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(t[r]=a[r])}return t}function Zs(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function ec(a,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,aa(r.key),r)}}function tc(a,e,t){return e&&ec(a.prototype,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function ia(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function fn(a,e){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},fn(a,e)}function nc(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&fn(a,e)}function Ot(a){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ot(a)}function rc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ac(a,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ia(a)}function ic(a){var e=rc();return function(){var r=Ot(a),n;if(e){var i=Ot(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ac(this,n)}}var K={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive",ao:"csm_AO",bump:"csm_Bump",depthAlpha:"csm_DepthAlpha"},de,Qe,oc=(de={},$(de,"".concat(K.normal),{"#include <beginnormal_vertex>":`
    vec3 objectNormal = `.concat(K.normal,`;
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `)}),$(de,"".concat(K.position),{"#include <begin_vertex>":`
    vec3 transformed = `.concat(K.position,`;
  `)}),$(de,"".concat(K.positionRaw),{"#include <begin_vertex>":`
    vec4 csm_internal_positionUnprojected = `.concat(K.positionRaw,`;
    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;
    #endif
    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;
    vec3 transformed = csm_internal_positionUnprojected.xyz;
  `)}),$(de,"".concat(K.pointSize),{"gl_PointSize = size;":`
    gl_PointSize = `.concat(K.pointSize,`;
    `)}),$(de,"".concat(K.diffuseColor),{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = `.concat(K.diffuseColor,`;
  `)}),$(de,"".concat(K.fragColor),{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = `.concat(K.fragColor,`;
  `)}),$(de,"".concat(K.emissive),{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = `.concat(K.emissive,`;
    `)}),$(de,"".concat(K.roughness),{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = `.concat(K.roughness,`;
    `)}),$(de,"".concat(K.metalness),{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = `.concat(K.metalness,`;
    `)}),$(de,"".concat(K.ao),{"#include <aomap_fragment>":`
    #include <aomap_fragment>
    reflectedLight.indirectDiffuse *= 1. - `.concat(K.ao,`;
    `)}),$(de,"".concat(K.bump),{"#include <normal_fragment_maps>":`
    #include <normal_fragment_maps>

    vec3 csm_internal_orthogonal = `.concat(K.bump," - (dot(").concat(K.bump,`, normal) * normal);
    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;
    normal = normalize(normal - csm_internal_projectedbump);
    `)}),$(de,"".concat(K.depthAlpha),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":`
      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * `.concat(K.depthAlpha,` );
    `),"gl_FragColor = packDepthToRGBA( fragCoordZ );":`
      gl_FragColor = packDepthToRGBA( fragCoordZ );
      gl_FragColor.a *= `.concat(K.depthAlpha,`;
    `)}),de),sc=(Qe={},$(Qe,"".concat(K.position),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( `.concat(K.position,`, 1.0 );
  `)}),$(Qe,"".concat(K.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = `.concat(K.position,`;
  `)}),$(Qe,"".concat(K.diffuseColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(K.diffuseColor,`;
  `)}),$(Qe,"".concat(K.fragColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(K.fragColor,`;
  `)}),Qe),cc=`

#ifdef IS_VERTEX
    // csm_Position & csm_PositionRaw
    #ifdef IS_UNKNOWN
        vec3 csm_Position = vec3(0.0);
        vec4 csm_PositionRaw = vec4(0.0);
        vec3 csm_Normal = vec3(0.0);
    #else
        vec3 csm_Position = position;
        vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);
        vec3 csm_Normal = normal;
    #endif

    // csm_PointSize
    #ifdef IS_POINTSMATERIAL
        float csm_PointSize = size;
    #endif
#else
    // csm_DiffuseColor & csm_FragColor
    #if defined IS_UNKNOWN || defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_SHADOWMATERIAL
        vec4 csm_DiffuseColor = vec4(1.0, 0.0, 1.0, 1.0);
        vec4 csm_FragColor = vec4(1.0, 0.0, 1.0, 1.0);
    #else
        #ifdef USE_MAP
            vec4 _csm_sampledDiffuseColor = texture2D(map, vMapUv);

            #ifdef DECODE_VIDEO_TEXTURE
            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)
            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);
            #endif

            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
        #else
            vec4 csm_DiffuseColor = vec4(diffuse, opacity);
            vec4 csm_FragColor = vec4(diffuse, opacity);
        #endif
    #endif

    // csm_Emissive, csm_Roughness, csm_Metalness
    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL
        vec3 csm_Emissive = emissive;
        float csm_Roughness = roughness;
        float csm_Metalness = metalness;
    #endif

    // csm_AO
    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL
        float csm_AO = 0.0;
    #endif

    // csm_Bump
    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL 
        vec3 csm_Bump = vec3(0.0);
    #endif

    float csm_DepthAlpha = 1.0;
#endif
`,lc=`
    varying mat4 csm_internal_vModelViewMatrix;
`,uc=`
    csm_internal_vModelViewMatrix = modelViewMatrix;
`,fc=`
    varying mat4 csm_internal_vModelViewMatrix;
`,dc=`
    
`,pe,pc=(pe={},$(pe,"".concat(K.position),"*"),$(pe,"".concat(K.positionRaw),"*"),$(pe,"".concat(K.normal),"*"),$(pe,"".concat(K.pointSize),["PointsMaterial"]),$(pe,"".concat(K.diffuseColor),"*"),$(pe,"".concat(K.fragColor),"*"),$(pe,"".concat(K.emissive),["MeshStandardMaterial","MeshPhysicalMaterial"]),$(pe,"".concat(K.roughness),["MeshStandardMaterial","MeshPhysicalMaterial"]),$(pe,"".concat(K.metalness),["MeshStandardMaterial","MeshPhysicalMaterial"]),$(pe,"".concat(K.ao),["MeshStandardMaterial","MeshPhysicalMaterial","MeshBasicMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial"]),$(pe,"".concat(K.bump),["MeshLambertMaterial","MeshMatcapMaterial","MeshNormalMaterial","MeshPhongMaterial","MeshPhysicalMaterial","MeshStandardMaterial","MeshToonMaterial","ShadowMaterial"]),$(pe,"".concat(K.depthAlpha),"*"),pe),bc=["baseMaterial","fragmentShader","vertexShader","uniforms","patchMap","cacheKey","silent"],hc=function(e,t,r){return e.split(t).join(r)},mc=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},gc=function(e,t){return new RegExp("\\b".concat(mc(t),"\\b")).test(e)};function vc(a){try{new a}catch(e){if(e.message.indexOf("is not a constructor")>=0)return!1}return!0}function xc(a,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object.assign(a,e);var r=Object.getPrototypeOf(e);Object.entries(Object.getOwnPropertyDescriptors(r)).filter(function(n){var i=typeof n[1].get=="function",o=typeof n[1].set=="function",s=typeof n[1].value=="function",c=n[0]==="constructor";return(i||o||s)&&!c}).forEach(function(n){if(typeof a[n[0]]=="function"){t||console.warn("Function ".concat(n[0]," already exists on CSM, renaming to base_").concat(n[0]));var i="base_".concat(n[0]);a[i]=n[1].value.bind(a);return}Object.defineProperty(a,n[0],n[1])})}function yc(a){var e=a.toString().trim(),t=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));return t.trim().length===0}function or(a){return a.replace(/\s/g,"")}function wc(a,e,t){var r=a.lastIndexOf(e);return r===-1?a:a.substring(0,r)+t+a.substring(r+e.length)}var Sc=function(a){nc(t,a);var e=ic(t);function t(r){var n,i=r.baseMaterial,o=r.fragmentShader,s=r.vertexShader,c=r.uniforms,l=r.patchMap,u=r.cacheKey,h=r.silent,v=Js(r,bc);Zs(this,t);var S;if(vc(i)?S=new i(v):(S=i,Object.assign(S,v)),S.type==="RawShaderMaterial")throw new Error("CustomShaderMaterial does not support RawShaderMaterial");n=e.call(this),xc(ia(n),S,h),n.__csm={patchMap:l||{},fragmentShader:o||"",vertexShader:s||"",cacheKey:u,baseMaterial:i,instanceID:Ct.generateUUID(),type:S.type,isAlreadyExtended:!yc(S.onBeforeCompile),cacheHash:"",silent:h},n.uniforms=We(We({},n.uniforms||{}),c||{});{var A=n.__csm,C=A.fragmentShader,m=A.vertexShader,y=n.uniforms;n.__csm.cacheHash=n.getCacheHash(),n.generateMaterial(C,m,y)}return n}return tc(t,[{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.uniforms=n.uniforms||this.uniforms,Object.assign(this.__csm,n);var i=this.__csm,o=i.fragmentShader,s=i.vertexShader,c=this.uniforms,l=this.getCacheHash();this.__csm.cacheHash=l,this.generateMaterial(o,s,c)}},{key:"clone",value:function(){var n={baseMaterial:this.__csm.baseMaterial,fragmentShader:this.__csm.fragmentShader,vertexShader:this.__csm.vertexShader,uniforms:this.uniforms,silent:this.__csm.silent,patchMap:this.__csm.patchMap,cacheKey:this.__csm.cacheKey},i=new this.constructor(n);return Object.assign(this,i),i}},{key:"getCacheHash",value:function(){var n=this.__csm,i=n.fragmentShader,o=n.vertexShader,s=this.uniforms,c=Object.values(s).reduce(function(u,h){var v=h.value;return u+JSON.stringify(v)},""),l=or(i)+or(o)+c;return l.trim().length>0?Es(l):this.customProgramCacheKey()}},{key:"generateMaterial",value:function(n,i,o){var s=this,c=this.parseShader(n),l=this.parseShader(i);this.uniforms=o||{},this.customProgramCacheKey=function(){return s.__csm.cacheHash};var u=function(S){try{if(c){var A=s.patchShader(c,S.fragmentShader,!0);S.fragmentShader=s.getMaterialDefine()+A}if(l){var C=s.patchShader(l,S.vertexShader);S.vertexShader=`#define IS_VERTEX;
`+C,S.vertexShader=s.getMaterialDefine()+S.vertexShader}S.uniforms=We(We({},S.uniforms),s.uniforms),s.uniforms=S.uniforms}catch(m){console.error(m)}};if(this.__csm.isAlreadyExtended){var h=this.onBeforeCompile;this.onBeforeCompile=function(v,S){h(v,S),u(v)}}else this.onBeforeCompile=u;this.needsUpdate=!0}},{key:"patchShader",value:function(n,i,o){var s=this,c=i,l=We(We({},this.getPatchMapForMaterial()),this.__csm.patchMap);Object.keys(l).forEach(function(v){Object.keys(l[v]).forEach(function(S){var A=pc[v],C=s.__csm.type;if(v==="*"||gc(n.main,v))if(!A||Array.isArray(A)&&A.includes(C)||A==="*")c=hc(c,S,l[v][S]);else throw new Error("CSM: ".concat(v," is not available in ").concat(C,". Shader cannot compile."))})}),c=c.replace("void main() {",`
        #ifndef CSM_IS_HEAD_DEFAULTS_DEFINED
          `.concat(o?fc:lc,`
          #define CSM_IS_HEAD_DEFAULTS_DEFINED 1
        #endif

        `).concat(n.header,`
        
        void main() {
          #ifndef CSM_IS_DEFAULTS_DEFINED
            `).concat(cc,`
            #define CSM_IS_DEFAULTS_DEFINED 1
          #endif
          
          #ifndef CSM_IS_MAIN_DEFAULTS_DEFINED
            `).concat(o?dc:uc,`
            #define CSM_IS_MAIN_DEFAULTS_DEFINED 1
          #endif

          // CSM_START
      `));var u=this.__csm.isAlreadyExtended,h=c.includes("// CSM_END");return u&&h?c=wc(c,"// CSM_END",`
          // CSM_END
          `.concat(n.main,`
          // CSM_END
        `)):c=c.replace("// CSM_START",`
        // CSM_START
        `.concat(n.main,`
        // CSM_END
          `)),c=n.defines+c,c}},{key:"parseShader",value:function(n){if(n){var i=n.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,""),o=Vs(i),s=Xs(o),c=s.map(function(h){return h.name}).indexOf("main"),l=ar(o.slice(0,c>=0?s[c].outer[0]:void 0)),u=c>=0?this.getShaderFromIndex(o,s[c].body):"";return{defines:"",header:l,main:u}}}},{key:"getMaterialDefine",value:function(){var n=this.__csm.type;return n?"#define IS_".concat(n.toUpperCase(),`;
`):`#define IS_UNKNOWN;
`}},{key:"getPatchMapForMaterial",value:function(){switch(this.__csm.type){case"ShaderMaterial":return sc;default:return oc}}},{key:"getShaderFromIndex",value:function(n,i){return ar(n.slice(i[0],i[1]))}}]),t}(Tt),_c="varying vec2 vUv;varying vec4 v_WorldPosition;void main(){vec3 p=position;csm_Position=p;vUv=uv;v_WorldPosition=modelMatrix*vec4(p,1);}",Ac=`#ifndef FNC_POW5
#define FNC_POW5
float pow5(const in float x){float x2=x*x;return x2*x2*x;}vec2 pow5(const in vec2 x){vec2 x2=x*x;return x2*x2*x;}vec3 pow5(const in vec3 x){vec3 x2=x*x;return x2*x2*x;}vec4 pow5(const in vec4 x){vec4 x2=x*x;return x2*x2*x;}
#endif
#ifndef FNC_SCHLICK
#define FNC_SCHLICK
vec3 schlick(const in vec3 f0,const in float f90,const in float VoH){float f=pow5(1.0-VoH);return f+f0*(f90-f);}vec3 schlick(const in vec3 f0,const in vec3 f90,const in float VoH){return f0+(f90-f0)*pow5(1.0-VoH);}float schlick(const in float f0,const in float f90,const in float VoH){return f0+(f90-f0)*pow5(1.0-VoH);}
#endif
#if !defined(FNC_SATURATE) && !defined(saturate)
#define FNC_SATURATE
#define saturate(x) clamp(x, 0.0, 1.0)
#endif
#ifndef FNC_FRESNEL
#define FNC_FRESNEL
vec3 fresnel(vec3 f0,vec3 normal,vec3 view){return schlick(f0,1.0,dot(view,normal));}vec3 fresnel(const in vec3 f0,const in float NoV){
#if defined(TARGET_MOBILE) || defined(PLATFORM_RPI)
return schlick(f0,1.0,NoV);
#else
float f90=saturate(dot(f0,vec3(50.0*0.33)));return schlick(f0,f90,NoV);
#endif
}float fresnel(const in float f0,const in float NoV){return schlick(f0,1.0,NoV);}
#endif
#ifndef SAMPLER_FNC
#if __VERSION__ >= 300
#define SAMPLER_FNC(TEX, UV) texture(TEX, UV)
#else
#define SAMPLER_FNC(TEX, UV) texture2D(TEX, UV)
#endif
#endif
#ifndef FNC_SAMPLEBICUBIC
#define FNC_SAMPLEBICUBIC
vec4 sampleBicubic(float v){vec4 n=vec4(1.0,2.0,3.0,4.0)-v;vec4 s=n*n*n;vec4 o;o.x=s.x;o.y=s.y-4.0*s.x;o.z=s.z-4.0*s.y+6.0*s.x;o.w=6.0-o.x-o.y-o.z;return o;}vec4 sampleBicubic(sampler2D tex,vec2 st,vec2 texResolution){vec2 pixel=1.0/texResolution;st=st*texResolution-0.5;vec2 fxy=fract(st);st-=fxy;vec4 xcubic=sampleBicubic(fxy.x);vec4 ycubic=sampleBicubic(fxy.y);vec4 c=st.xxyy+vec2(-0.5,1.5).xyxy;vec4 s=vec4(xcubic.xz+xcubic.yw,ycubic.xz+ycubic.yw);vec4 offset=c+vec4(xcubic.yw,ycubic.yw)/s;offset*=pixel.xxyy;vec4 sample0=SAMPLER_FNC(tex,offset.xz);vec4 sample1=SAMPLER_FNC(tex,offset.yz);vec4 sample2=SAMPLER_FNC(tex,offset.xw);vec4 sample3=SAMPLER_FNC(tex,offset.yw);float sx=s.x/(s.x+s.y);float sy=s.z/(s.z+s.w);return mix(mix(sample3,sample2,sx),mix(sample1,sample0,sx),sy);}
#endif
vec4 packedTexture2DLOD(sampler2D tex,vec2 uv,int level,vec2 originalPixelSize){float floatLevel=float(level);vec2 atlasSize;atlasSize.x=floor(originalPixelSize.x*1.5);atlasSize.y=originalPixelSize.y;float maxLevel=min(floor(log2(originalPixelSize.x)),floor(log2(originalPixelSize.y)));floatLevel=min(floatLevel,maxLevel);vec2 currentPixelDimensions=floor(originalPixelSize/pow(2.,floatLevel));vec2 pixelOffset=vec2(floatLevel>0.?originalPixelSize.x:0.,floatLevel>0.?currentPixelDimensions.y:0.);vec2 minPixel=pixelOffset;vec2 maxPixel=pixelOffset+currentPixelDimensions;vec2 samplePoint=mix(minPixel,maxPixel,uv);samplePoint/=atlasSize;vec2 halfPixelSize=1./(2.*atlasSize);samplePoint=min(samplePoint,maxPixel/atlasSize-halfPixelSize);samplePoint=max(samplePoint,minPixel/atlasSize+halfPixelSize);return sampleBicubic(tex,samplePoint,originalPixelSize);}vec4 packedTexture2DLOD(sampler2D tex,vec2 uv,float level,vec2 originalPixelSize){float ratio=mod(level,1.);int minLevel=int(floor(level));int maxLevel=int(ceil(level));vec4 minValue=packedTexture2DLOD(tex,uv,minLevel,originalPixelSize);vec4 maxValue=packedTexture2DLOD(tex,uv,maxLevel,originalPixelSize);return mix(minValue,maxValue,ratio);}varying vec2 vUv;varying vec4 v_WorldPosition;uniform vec3 uColor;uniform mat4 uReflectMatrix;uniform sampler2D uReflectTexture;uniform float uReflectIntensity;uniform float uIntensity;uniform float uLevel;uniform vec2 uResolution;uniform float uTime;void main(){vec3 worldPos=v_WorldPosition.xyz;worldPos.x-=uTime*0.1;vec3 surfaceNormal=texture2D(normalMap,worldPos.xz).xyz*2.0-1.0;surfaceNormal=surfaceNormal.rbg;surfaceNormal=normalize(surfaceNormal);vec3 viewDir=vViewPosition;float d=length(viewDir);viewDir=normalize(viewDir);vec2 distortion=surfaceNormal.xz*(0.001+1./d);vec4 reflectPoint=uReflectMatrix*v_WorldPosition;reflectPoint=reflectPoint/reflectPoint.w;vec2 uv=reflectPoint.xy+distortion*uIntensity;vec3 reflectionSample=packedTexture2DLOD(uReflectTexture,uv,uLevel,uResolution).xyz;reflectionSample*=uReflectIntensity;vec3 strength=fresnel(vec3(0.),vNormal,viewDir);vec3 col=uColor;col=mix(col,reflectionSample,strength);csm_DiffuseColor=vec4(col,1.);}`;class Ec{constructor(e=null){Z(this,"model");Z(this,"groundLoader");Z(this,"uniforms");this.model=e,this.uniforms={uColor:{value:new ce("#fff")},uReflectMatrix:{value:new Ve},uReflectTexture:{value:new en},uReflectIntensity:{value:15},uIntensity:{value:0},uLevel:{value:0},uResolution:{value:new ft},uTime:{value:0}}}build(e){return this.model=e,this.model.scene.traverse(t=>{if(t.name==="ReflecFloor"){const r=new Xe().load("textures/t_floor_normal.webp"),n=new Xe().load("textures/t_floor_roughness.webp"),i=new Xe().load("textures/t_startroom_light.raw.jpg"),o=new Xe().load("textures/t_startroom_ao.raw.jpg");n.colorSpace=he,n.wrapS=n.wrapT=pt,r.colorSpace=he,r.wrapS=r.wrapT=pt,o.channel=1,o.flipY=!1,o.colorSpace=he,i.channel=1,i.flipY=!1,i.colorSpace=Oe;const s=t.material;s.roughnessMap=n,s.normalMap=r,s.aoMap=o,s.lightMap=i,s.envMapIntensity=.5,t.material=new Sc({baseMaterial:s,uniforms:this.uniforms,vertexShader:_c,fragmentShader:Ac,silent:!0}),this.groundLoader=t}t.type==="Mesh"&&(t.castShadow=!0,t.receiveShadow=!0)}),this.model}}var Tc="varying vec2 vUv;void main(){vUv=uv;vec4 mvPosition=modelViewMatrix*vec4(position,1.);gl_Position=projectionMatrix*mvPosition;}",Mc=`uniform float vTime;uniform vec3 color;uniform float opacity;varying vec2 vUv;varying vec4 vCoord;uniform float random;
#define S smoothstep
#define IS(x,y,z) (1. - smoothstep(x,y,z))
vec3 draw_line(vec2 uv,vec3 color,float shift,float freq){float line_thickness=0.14;float amp_coef=0.9;uv.y-=IS(1.1,1.9,abs(uv.x))*sin(uv.x+shift*freq)*amp_coef*sin(uv.x+shift);return IS(0.,line_thickness*S(-0.9,.9,abs(uv.x)),abs(uv.y*1.2))*color;}void main(){float speed=0.5;float freq_coef=1.5;vec2 uv=vUv*2.-1.;float shift=vTime*speed;float vProgress=smoothstep(-1.,1.,sin(vUv.x*12.+vTime*6.*random));float hideCorners=smoothstep(1.,0.9,vUv.x);float hideCorners1=smoothstep(0.,0.1,vUv.x);vec3 color=vec3(0.);for(float idx=0.;idx<4.;idx+=1.){color+=draw_line(uv,vec3(0.2,0.3,0.6),shift+idx,1.+freq_coef);}vec3 finalColor=mix(color,color*0.25,vProgress);gl_FragColor=vec4(finalColor,opacity*hideCorners*hideCorners1);}`;class Rc{constructor(){Z(this,"model")}build(e){return this.model=e,e.scene.traverse(t=>{t.isMesh&&(t.material=new ze({side:Dt,uniforms:{vTime:{value:0},color:{value:new ce(1,0,.13)},vProgress:{value:1},opacity:{value:0},random:{value:Math.random()}},transparent:!0,depthWrite:!1,blending:xa,vertexShader:Tc,fragmentShader:Mc}))}),this.model}MeshChildren(){}}class kc{constructor(){Z(this,"car");Z(this,"env");Z(this,"tunnel");Z(this,"room");Z(this,"windLine");Z(this,"model");this.car=new xs,this.env=new ys,this.tunnel=new _s,this.room=new Ec,this.windLine=new Rc}build(e){const t=this.car.build(e.carLoad),r=this.room.build(e.startRoom),n=this.tunnel.build(e.tunnelLoader),i=this.windLine.build(e.windLine),o=e.cubeGround,s=e.roadLoader;this.model={carLoad:t,startRoom:r,tunnelLoader:n,cubeGround:o,windLine:i,roadLoader:s}}}function sr(a,e){if(e===ya)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),a;if(e===tn||e===gr){let t=a.getIndex();if(t===null){const o=[],s=a.getAttribute("position");if(s!==void 0){for(let c=0;c<s.count;c++)o.push(c);a.setIndex(o),t=a.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a}const r=t.count-2,n=[];if(e===tn)for(let o=1;o<=r;o++)n.push(t.getX(0)),n.push(t.getX(o)),n.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(n.push(t.getX(o)),n.push(t.getX(o+1)),n.push(t.getX(o+2))):(n.push(t.getX(o+2)),n.push(t.getX(o+1)),n.push(t.getX(o)));n.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=a.clone();return i.setIndex(n),i.clearGroups(),i}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),a}class cr extends vr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Ic(t)}),this.register(function(t){return new Hc(t)}),this.register(function(t){return new Vc(t)}),this.register(function(t){return new Kc(t)}),this.register(function(t){return new Dc(t)}),this.register(function(t){return new Fc(t)}),this.register(function(t){return new Nc(t)}),this.register(function(t){return new zc(t)}),this.register(function(t){return new jc(t)}),this.register(function(t){return new Gc(t)}),this.register(function(t){return new Oc(t)}),this.register(function(t){return new Uc(t)}),this.register(function(t){return new Bc(t)}),this.register(function(t){return new Pc(t)}),this.register(function(t){return new qc(t)}),this.register(function(t){return new Wc(t)})}load(e,t,r,n){const i=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const l=ct.extractUrlBase(e);o=ct.resolveURL(l,this.path)}else o=ct.extractUrlBase(e);this.manager.itemStart(e);const s=function(l){n?n(l):console.error(l),i.manager.itemError(e),i.manager.itemEnd(e)},c=new Lt(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(l){try{i.parse(l,o,function(u){t(u),i.manager.itemEnd(e)},s)}catch(u){s(u)}},r,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,n){let i;const o={},s={},c=new TextDecoder;if(typeof e=="string")i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(c.decode(new Uint8Array(e,0,4))===oa){try{o[Q.KHR_BINARY_GLTF]=new Qc(e)}catch(h){n&&n(h);return}i=JSON.parse(o[Q.KHR_BINARY_GLTF].content)}else i=JSON.parse(c.decode(e));else i=e;if(i.asset===void 0||i.asset.version[0]<2){n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new sl(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](l);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[h.name]=h,o[h.name]=!0}if(i.extensionsUsed)for(let u=0;u<i.extensionsUsed.length;++u){const h=i.extensionsUsed[u],v=i.extensionsRequired||[];switch(h){case Q.KHR_MATERIALS_UNLIT:o[h]=new Lc;break;case Q.KHR_DRACO_MESH_COMPRESSION:o[h]=new Xc(i,this.dracoLoader);break;case Q.KHR_TEXTURE_TRANSFORM:o[h]=new Yc;break;case Q.KHR_MESH_QUANTIZATION:o[h]=new $c;break;default:v.indexOf(h)>=0&&s[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(s),l.parse(r,n)}parseAsync(e,t){const r=this;return new Promise(function(n,i){r.parse(e,t,n,i)})}}function Cc(){let a={};return{get:function(e){return a[e]},add:function(e,t){a[e]=t},remove:function(e){delete a[e]},removeAll:function(){a={}}}}const Q={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Pc{constructor(e){this.parser=e,this.name=Q.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,n=t.length;r<n;r++){const i=t[r];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let n=t.cache.get(r);if(n)return n;const i=t.json,c=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let l;const u=new ce(16777215);c.color!==void 0&&u.setRGB(c.color[0],c.color[1],c.color[2],he);const h=c.range!==void 0?c.range:0;switch(c.type){case"directional":l=new _a(u),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new Sa(u),l.distance=h;break;case"spot":l=new wa(u),l.distance=h,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,l.angle=c.spot.outerConeAngle,l.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return l.position.set(0,0,0),l.decay=2,Ie(l,c),c.intensity!==void 0&&(l.intensity=c.intensity),l.name=t.createUniqueName(c.name||"light_"+e),n=Promise.resolve(l),t.cache.add(r,n),n}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,i=r.json.nodes[e],s=(i.extensions&&i.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(c){return r._getNodeRef(t.cache,s,c)})}}class Lc{constructor(){this.name=Q.KHR_MATERIALS_UNLIT}getMaterialType(){return Ge}extendParams(e,t,r){const n=[];e.color=new ce(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const o=i.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],he),e.opacity=o[3]}i.baseColorTexture!==void 0&&n.push(r.assignTexture(e,"map",i.baseColorTexture,Oe))}return Promise.all(n)}}class jc{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name].emissiveStrength;return i!==void 0&&(t.emissiveIntensity=i),Promise.resolve()}}class Ic{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Me}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&i.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&i.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(i.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const s=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ft(s,s)}return Promise.all(i)}}class Oc{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Me}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&i.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&i.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(i)}}class Dc{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Me}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new ce(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=n.extensions[this.name];if(o.sheenColorFactor!==void 0){const s=o.sheenColorFactor;t.sheenColor.setRGB(s[0],s[1],s[2],he)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&i.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Oe)),o.sheenRoughnessTexture!==void 0&&i.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(i)}}class Fc{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Me}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&i.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(i)}}class Nc{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Me}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&i.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const s=o.attenuationColor||[1,1,1];return t.attenuationColor=new ce().setRGB(s[0],s[1],s[2],he),Promise.all(i)}}class zc{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Me}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return t.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class Gc{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Me}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&i.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const s=o.specularColorFactor||[1,1,1];return t.specularColor=new ce().setRGB(s[0],s[1],s[2],he),o.specularColorTexture!==void 0&&i.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Oe)),Promise.all(i)}}class Bc{constructor(e){this.parser=e,this.name=Q.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Me}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&i.push(r.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(i)}}class Uc{constructor(e){this.parser=e,this.name=Q.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Me}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=[],o=n.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&i.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(i)}}class Hc{constructor(e){this.parser=e,this.name=Q.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,n=r.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const i=n.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,o)}}class Vc{constructor(e){this.parser=e,this.name=Q.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,n=r.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;const o=i.extensions[t],s=n.images[o.source];let c=r.textureLoader;if(s.uri){const l=r.options.manager.getHandler(s.uri);l!==null&&(c=l)}return this.detectSupport().then(function(l){if(l)return r.loadTextureImage(e,o.source,c);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Kc{constructor(e){this.parser=e,this.name=Q.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,n=r.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;const o=i.extensions[t],s=n.images[o.source];let c=r.textureLoader;if(s.uri){const l=r.options.manager.getHandler(s.uri);l!==null&&(c=l)}return this.detectSupport().then(function(l){if(l)return r.loadTextureImage(e,o.source,c);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class qc{constructor(e){this.name=Q.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const n=r.extensions[this.name],i=this.parser.getDependency("buffer",n.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(s){const c=n.byteOffset||0,l=n.byteLength||0,u=n.count,h=n.byteStride,v=new Uint8Array(s,c,l);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,h,v,n.mode,n.filter).then(function(S){return S.buffer}):o.ready.then(function(){const S=new ArrayBuffer(u*h);return o.decodeGltfBuffer(new Uint8Array(S),u,h,v,n.mode,n.filter),S})})}else return null}}class Wc{constructor(e){this.name=Q.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const n=t.meshes[r.mesh];for(const l of n.primitives)if(l.mode!==ve.TRIANGLES&&l.mode!==ve.TRIANGLE_STRIP&&l.mode!==ve.TRIANGLE_FAN&&l.mode!==void 0)return null;const o=r.extensions[this.name].attributes,s=[],c={};for(const l in o)s.push(this.parser.getDependency("accessor",o[l]).then(u=>(c[l]=u,c[l])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(l=>{const u=l.pop(),h=u.isGroup?u.children:[u],v=l[0].count,S=[];for(const A of h){const C=new Ve,m=new se,y=new Pt,_=new se(1,1,1),T=new Aa(A.geometry,A.material,v);for(let E=0;E<v;E++)c.TRANSLATION&&m.fromBufferAttribute(c.TRANSLATION,E),c.ROTATION&&y.fromBufferAttribute(c.ROTATION,E),c.SCALE&&_.fromBufferAttribute(c.SCALE,E),T.setMatrixAt(E,C.compose(m,y,_));for(const E in c)if(E==="_COLOR_0"){const P=c[E];T.instanceColor=new Ea(P.array,P.itemSize,P.normalized)}else E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&A.geometry.setAttribute(E,c[E]);xr.prototype.copy.call(T,A),this.parser.assignFinalMaterial(T),S.push(T)}return u.isGroup?(u.clear(),u.add(...S),u):S[0]}))}}const oa="glTF",ot=12,lr={JSON:1313821514,BIN:5130562};class Qc{constructor(e){this.name=Q.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,ot),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==oa)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-ot,i=new DataView(e,ot);let o=0;for(;o<n;){const s=i.getUint32(o,!0);o+=4;const c=i.getUint32(o,!0);if(o+=4,c===lr.JSON){const l=new Uint8Array(e,ot+o,s);this.content=r.decode(l)}else if(c===lr.BIN){const l=ot+o;this.body=e.slice(l,l+s)}o+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Xc{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Q.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,s={},c={},l={};for(const u in o){const h=dn[u]||u.toLowerCase();s[h]=o[u]}for(const u in e.attributes){const h=dn[u]||u.toLowerCase();if(o[u]!==void 0){const v=r.accessors[e.attributes[u]],S=Je[v.componentType];l[h]=S.name,c[h]=v.normalized===!0}}return t.getDependency("bufferView",i).then(function(u){return new Promise(function(h,v){n.decodeDracoFile(u,function(S){for(const A in S.attributes){const C=S.attributes[A],m=c[A];m!==void 0&&(C.normalized=m)}h(S)},s,l,he,v)})})}}class Yc{constructor(){this.name=Q.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class $c{constructor(){this.name=Q.KHR_MESH_QUANTIZATION}}class sa extends Ya{constructor(e,t,r,n){super(e,t,r,n)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n*3+n;for(let o=0;o!==n;o++)t[o]=r[i+o];return t}interpolate_(e,t,r,n){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,c=s*2,l=s*3,u=n-t,h=(r-t)/u,v=h*h,S=v*h,A=e*l,C=A-l,m=-2*S+3*v,y=S-v,_=1-m,T=y-v+h;for(let E=0;E!==s;E++){const P=o[C+E+s],x=o[C+E+c]*u,k=o[A+E+s],d=o[A+E]*u;i[E]=_*P+T*x+m*k+y*d}return i}}const Jc=new Pt;class Zc extends sa{interpolate_(e,t,r,n){const i=super.interpolate_(e,t,r,n);return Jc.fromArray(i).normalize().toArray(i),i}}const ve={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Je={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ur={9728:dt,9729:Ze,9984:Ga,9985:Ba,9986:Ua,9987:yr},fr={33071:Ha,33648:Va,10497:pt},Xt={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},dn={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Pe={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},el={CUBICSPLINE:void 0,LINEAR:_r,STEP:Ka},Yt={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function tl(a){return a.DefaultMaterial===void 0&&(a.DefaultMaterial=new wr({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qa})),a.DefaultMaterial}function Ne(a,e,t){for(const r in t.extensions)a[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Ie(a,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(a.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function nl(a,e,t){let r=!1,n=!1,i=!1;for(let l=0,u=e.length;l<u;l++){const h=e[l];if(h.POSITION!==void 0&&(r=!0),h.NORMAL!==void 0&&(n=!0),h.COLOR_0!==void 0&&(i=!0),r&&n&&i)break}if(!r&&!n&&!i)return Promise.resolve(a);const o=[],s=[],c=[];for(let l=0,u=e.length;l<u;l++){const h=e[l];if(r){const v=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):a.attributes.position;o.push(v)}if(n){const v=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):a.attributes.normal;s.push(v)}if(i){const v=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):a.attributes.color;c.push(v)}}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(c)]).then(function(l){const u=l[0],h=l[1],v=l[2];return r&&(a.morphAttributes.position=u),n&&(a.morphAttributes.normal=h),i&&(a.morphAttributes.color=v),a.morphTargetsRelative=!0,a})}function rl(a,e){if(a.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)a.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(a.morphTargetInfluences.length===t.length){a.morphTargetDictionary={};for(let r=0,n=t.length;r<n;r++)a.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function al(a){let e;const t=a.extensions&&a.extensions[Q.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+$t(t.attributes):e=a.indices+":"+$t(a.attributes)+":"+a.mode,a.targets!==void 0)for(let r=0,n=a.targets.length;r<n;r++)e+=":"+$t(a.targets[r]);return e}function $t(a){let e="";const t=Object.keys(a).sort();for(let r=0,n=t.length;r<n;r++)e+=t[r]+":"+a[t[r]]+";";return e}function pn(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function il(a){return a.search(/\.jpe?g($|\?)/i)>0||a.search(/^data\:image\/jpeg/)===0?"image/jpeg":a.search(/\.webp($|\?)/i)>0||a.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const ol=new Ve;class sl{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Cc,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,n=!1,i=-1;typeof navigator<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,n=navigator.userAgent.indexOf("Firefox")>-1,i=n?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||n&&i<98?this.textureLoader=new Xe(this.options.manager):this.textureLoader=new Ta(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Lt(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,n=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const s={scene:o[0][n.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:n.asset,parser:r,userData:{}};return Ne(i,s,n),Ie(s,n),Promise.all(r._invokeAll(function(c){return c.afterRoot&&c.afterRoot(s)})).then(function(){e(s)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let n=0,i=t.length;n<i;n++){const o=t[n].joints;for(let s=0,c=o.length;s<c;s++)e[o[s]].isBone=!0}for(let n=0,i=e.length;n<i;n++){const o=e[n];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const n=r.clone(),i=(o,s)=>{const c=this.associations.get(o);c!=null&&this.associations.set(s,c);for(const[l,u]of o.children.entries())i(u,s.children[l])};return i(r,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const n=e(t[r]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let n=0;n<t.length;n++){const i=e(t[n]);i&&r.push(i)}return r}getDependency(e,t){const r=e+":"+t;let n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne(function(i){return i.loadNode&&i.loadNode(t)});break;case"mesh":n=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(t)});break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(t)});break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(t)});break;case"texture":n=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(t)});break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(t)});break;case"camera":n=this.loadCamera(t);break;default:if(n=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(e,t)}),!n)throw new Error("Unknown type: "+e);break}this.cache.add(r,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,n=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(n.map(function(i,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Q.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(i,o){r.load(ct.resolveURL(t.uri,n.path),i,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const n=t.byteLength||0,i=t.byteOffset||0;return r.slice(i,i+n)})}loadAccessor(e){const t=this,r=this.json,n=this.json.accessors[e];if(n.bufferView===void 0&&n.sparse===void 0){const o=Xt[n.type],s=Je[n.componentType],c=n.normalized===!0,l=new s(n.count*o);return Promise.resolve(new lt(l,o,c))}const i=[];return n.bufferView!==void 0?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),n.sparse!==void 0&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then(function(o){const s=o[0],c=Xt[n.type],l=Je[n.componentType],u=l.BYTES_PER_ELEMENT,h=u*c,v=n.byteOffset||0,S=n.bufferView!==void 0?r.bufferViews[n.bufferView].byteStride:void 0,A=n.normalized===!0;let C,m;if(S&&S!==h){const y=Math.floor(v/S),_="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+y+":"+n.count;let T=t.cache.get(_);T||(C=new l(s,y*S,n.count*S/u),T=new Ma(C,S/u),t.cache.add(_,T)),m=new Wa(T,c,v%S/u,A)}else s===null?C=new l(n.count*c):C=new l(s,v,n.count*c),m=new lt(C,c,A);if(n.sparse!==void 0){const y=Xt.SCALAR,_=Je[n.sparse.indices.componentType],T=n.sparse.indices.byteOffset||0,E=n.sparse.values.byteOffset||0,P=new _(o[1],T,n.sparse.count*y),x=new l(o[2],E,n.sparse.count*c);s!==null&&(m=new lt(m.array.slice(),m.itemSize,m.normalized));for(let k=0,d=P.length;k<d;k++){const b=P[k];if(m.setX(b,x[k*c]),c>=2&&m.setY(b,x[k*c+1]),c>=3&&m.setZ(b,x[k*c+2]),c>=4&&m.setW(b,x[k*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m})}loadTexture(e){const t=this.json,r=this.options,i=t.textures[e].source,o=t.images[i];let s=this.textureLoader;if(o.uri){const c=r.manager.getHandler(o.uri);c!==null&&(s=c)}return this.loadTextureImage(e,i,s)}loadTextureImage(e,t,r){const n=this,i=this.json,o=i.textures[e],s=i.images[t],c=(s.uri||s.bufferView)+":"+o.sampler;if(this.textureCache[c])return this.textureCache[c];const l=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||s.name||"",u.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(u.name=s.uri);const v=(i.samplers||{})[o.sampler]||{};return u.magFilter=ur[v.magFilter]||Ze,u.minFilter=ur[v.minFilter]||yr,u.wrapS=fr[v.wrapS]||pt,u.wrapT=fr[v.wrapT]||pt,n.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[c]=l,l}loadImageSource(e,t){const r=this,n=this.json,i=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=n.images[e],s=self.URL||self.webkitURL;let c=o.uri||"",l=!1;if(o.bufferView!==void 0)c=r.getDependency("bufferView",o.bufferView).then(function(h){l=!0;const v=new Blob([h],{type:o.mimeType});return c=s.createObjectURL(v),c});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(c).then(function(h){return new Promise(function(v,S){let A=v;t.isImageBitmapLoader===!0&&(A=function(C){const m=new en(C);m.needsUpdate=!0,v(m)}),t.load(ct.resolveURL(h,i.path),A,void 0,S)})}).then(function(h){return l===!0&&s.revokeObjectURL(c),h.userData.mimeType=o.mimeType||il(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),h});return this.sourceCache[e]=u,u}assignTexture(e,t,r,n){const i=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),i.extensions[Q.KHR_TEXTURE_TRANSFORM]){const s=r.extensions!==void 0?r.extensions[Q.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const c=i.associations.get(o);o=i.extensions[Q.KHR_TEXTURE_TRANSFORM].extendTexture(o,s),i.associations.set(o,c)}}return n!==void 0&&(o.colorSpace=n),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const n=t.attributes.tangent===void 0,i=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+r.uuid;let c=this.cache.get(s);c||(c=new Ra,Tt.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,c.sizeAttenuation=!1,this.cache.add(s,c)),r=c}else if(e.isLine){const s="LineBasicMaterial:"+r.uuid;let c=this.cache.get(s);c||(c=new ka,Tt.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,this.cache.add(s,c)),r=c}if(n||i||o){let s="ClonedMaterial:"+r.uuid+":";n&&(s+="derivative-tangents:"),i&&(s+="vertex-colors:"),o&&(s+="flat-shading:");let c=this.cache.get(s);c||(c=r.clone(),i&&(c.vertexColors=!0),o&&(c.flatShading=!0),n&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(s,c),this.associations.set(c,this.associations.get(r))),r=c}e.material=r}getMaterialType(){return wr}loadMaterial(e){const t=this,r=this.json,n=this.extensions,i=r.materials[e];let o;const s={},c=i.extensions||{},l=[];if(c[Q.KHR_MATERIALS_UNLIT]){const h=n[Q.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),l.push(h.extendParams(s,i,t))}else{const h=i.pbrMetallicRoughness||{};if(s.color=new ce(1,1,1),s.opacity=1,Array.isArray(h.baseColorFactor)){const v=h.baseColorFactor;s.color.setRGB(v[0],v[1],v[2],he),s.opacity=v[3]}h.baseColorTexture!==void 0&&l.push(t.assignTexture(s,"map",h.baseColorTexture,Oe)),s.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,s.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(l.push(t.assignTexture(s,"metalnessMap",h.metallicRoughnessTexture)),l.push(t.assignTexture(s,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(v){return v.getMaterialType&&v.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(v){return v.extendMaterialParams&&v.extendMaterialParams(e,s)})))}i.doubleSided===!0&&(s.side=Dt);const u=i.alphaMode||Yt.OPAQUE;if(u===Yt.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,u===Yt.MASK&&(s.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&o!==Ge&&(l.push(t.assignTexture(s,"normalMap",i.normalTexture)),s.normalScale=new ft(1,1),i.normalTexture.scale!==void 0)){const h=i.normalTexture.scale;s.normalScale.set(h,h)}if(i.occlusionTexture!==void 0&&o!==Ge&&(l.push(t.assignTexture(s,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&o!==Ge){const h=i.emissiveFactor;s.emissive=new ce().setRGB(h[0],h[1],h[2],he)}return i.emissiveTexture!==void 0&&o!==Ge&&l.push(t.assignTexture(s,"emissiveMap",i.emissiveTexture,Oe)),Promise.all(l).then(function(){const h=new o(s);return i.name&&(h.name=i.name),Ie(h,i),t.associations.set(h,{materials:e}),i.extensions&&Ne(n,h,i),h})}createUniqueName(e){const t=Ca.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,n=this.primitiveCache;function i(s){return r[Q.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,t).then(function(c){return dr(c,s,t)})}const o=[];for(let s=0,c=e.length;s<c;s++){const l=e[s],u=al(l),h=n[u];if(h)o.push(h.promise);else{let v;l.extensions&&l.extensions[Q.KHR_DRACO_MESH_COMPRESSION]?v=i(l):v=dr(new Sr,l,t),n[u]={primitive:l,promise:v},o.push(v)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,n=this.extensions,i=r.meshes[e],o=i.primitives,s=[];for(let c=0,l=o.length;c<l;c++){const u=o[c].material===void 0?tl(this.cache):this.getDependency("material",o[c].material);s.push(u)}return s.push(t.loadGeometries(o)),Promise.all(s).then(function(c){const l=c.slice(0,c.length-1),u=c[c.length-1],h=[];for(let S=0,A=u.length;S<A;S++){const C=u[S],m=o[S];let y;const _=l[S];if(m.mode===ve.TRIANGLES||m.mode===ve.TRIANGLE_STRIP||m.mode===ve.TRIANGLE_FAN||m.mode===void 0)y=i.isSkinnedMesh===!0?new Pa(C,_):new mr(C,_),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),m.mode===ve.TRIANGLE_STRIP?y.geometry=sr(y.geometry,gr):m.mode===ve.TRIANGLE_FAN&&(y.geometry=sr(y.geometry,tn));else if(m.mode===ve.LINES)y=new La(C,_);else if(m.mode===ve.LINE_STRIP)y=new ja(C,_);else if(m.mode===ve.LINE_LOOP)y=new Ia(C,_);else if(m.mode===ve.POINTS)y=new Oa(C,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);Object.keys(y.geometry.morphAttributes).length>0&&rl(y,i),y.name=t.createUniqueName(i.name||"mesh_"+e),Ie(y,i),m.extensions&&Ne(n,y,m),t.assignFinalMaterial(y),h.push(y)}for(let S=0,A=h.length;S<A;S++)t.associations.set(h[S],{meshes:e,primitives:S});if(h.length===1)return i.extensions&&Ne(n,h[0],i),h[0];const v=new Et;i.extensions&&Ne(n,v,i),t.associations.set(v,{meshes:e});for(let S=0,A=h.length;S<A;S++)v.add(h[S]);return v})}loadCamera(e){let t;const r=this.json.cameras[e],n=r[r.type];if(!n){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new hr(Ct.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):r.type==="orthographic"&&(t=new Da(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Ie(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let n=0,i=t.joints.length;n<i;n++)r.push(this._loadNodeShallow(t.joints[n]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(n){const i=n.pop(),o=n,s=[],c=[];for(let l=0,u=o.length;l<u;l++){const h=o[l];if(h){s.push(h);const v=new Ve;i!==null&&v.fromArray(i.array,l*16),c.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[l])}return new Fa(s,c)})}loadAnimation(e){const t=this.json,r=this,n=t.animations[e],i=n.name?n.name:"animation_"+e,o=[],s=[],c=[],l=[],u=[];for(let h=0,v=n.channels.length;h<v;h++){const S=n.channels[h],A=n.samplers[S.sampler],C=S.target,m=C.node,y=n.parameters!==void 0?n.parameters[A.input]:A.input,_=n.parameters!==void 0?n.parameters[A.output]:A.output;C.node!==void 0&&(o.push(this.getDependency("node",m)),s.push(this.getDependency("accessor",y)),c.push(this.getDependency("accessor",_)),l.push(A),u.push(C))}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(c),Promise.all(l),Promise.all(u)]).then(function(h){const v=h[0],S=h[1],A=h[2],C=h[3],m=h[4],y=[];for(let _=0,T=v.length;_<T;_++){const E=v[_],P=S[_],x=A[_],k=C[_],d=m[_];if(E===void 0)continue;E.updateMatrix&&E.updateMatrix();const b=r._createAnimationTracks(E,P,x,k,d);if(b)for(let p=0;p<b.length;p++)y.push(b[p])}return new Na(i,void 0,y)})}createNodeMesh(e){const t=this.json,r=this,n=t.nodes[e];return n.mesh===void 0?null:r.getDependency("mesh",n.mesh).then(function(i){const o=r._getNodeRef(r.meshCache,n.mesh,i);return n.weights!==void 0&&o.traverse(function(s){if(s.isMesh)for(let c=0,l=n.weights.length;c<l;c++)s.morphTargetInfluences[c]=n.weights[c]}),o})}loadNode(e){const t=this.json,r=this,n=t.nodes[e],i=r._loadNodeShallow(e),o=[],s=n.children||[];for(let l=0,u=s.length;l<u;l++)o.push(r.getDependency("node",s[l]));const c=n.skin===void 0?Promise.resolve(null):r.getDependency("skin",n.skin);return Promise.all([i,Promise.all(o),c]).then(function(l){const u=l[0],h=l[1],v=l[2];v!==null&&u.traverse(function(S){S.isSkinnedMesh&&S.bind(v,ol)});for(let S=0,A=h.length;S<A;S++)u.add(h[S]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,n=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const i=t.nodes[e],o=i.name?n.createUniqueName(i.name):"",s=[],c=n._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(e)});return c&&s.push(c),i.camera!==void 0&&s.push(n.getDependency("camera",i.camera).then(function(l){return n._getNodeRef(n.cameraCache,i.camera,l)})),n._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(e)}).forEach(function(l){s.push(l)}),this.nodeCache[e]=Promise.all(s).then(function(l){let u;if(i.isBone===!0?u=new za:l.length>1?u=new Et:l.length===1?u=l[0]:u=new xr,u!==l[0])for(let h=0,v=l.length;h<v;h++)u.add(l[h]);if(i.name&&(u.userData.name=i.name,u.name=o),Ie(u,i),i.extensions&&Ne(r,u,i),i.matrix!==void 0){const h=new Ve;h.fromArray(i.matrix),u.applyMatrix4(h)}else i.translation!==void 0&&u.position.fromArray(i.translation),i.rotation!==void 0&&u.quaternion.fromArray(i.rotation),i.scale!==void 0&&u.scale.fromArray(i.scale);return n.associations.has(u)||n.associations.set(u,{}),n.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],n=this,i=new Et;r.name&&(i.name=n.createUniqueName(r.name)),Ie(i,r),r.extensions&&Ne(t,i,r);const o=r.nodes||[],s=[];for(let c=0,l=o.length;c<l;c++)s.push(n.getDependency("node",o[c]));return Promise.all(s).then(function(c){for(let u=0,h=c.length;u<h;u++)i.add(c[u]);const l=u=>{const h=new Map;for(const[v,S]of n.associations)(v instanceof Tt||v instanceof en)&&h.set(v,S);return u.traverse(v=>{const S=n.associations.get(v);S!=null&&h.set(v,S)}),h};return n.associations=l(i),i})}_createAnimationTracks(e,t,r,n,i){const o=[],s=e.name?e.name:e.uuid,c=[];Pe[i.path]===Pe.weights?e.traverse(function(v){v.morphTargetInfluences&&c.push(v.name?v.name:v.uuid)}):c.push(s);let l;switch(Pe[i.path]){case Pe.weights:l=Mn;break;case Pe.rotation:l=Rn;break;case Pe.position:case Pe.scale:l=Tn;break;default:switch(r.itemSize){case 1:l=Mn;break;case 2:case 3:default:l=Tn;break}break}const u=n.interpolation!==void 0?el[n.interpolation]:_r,h=this._getArrayFromAccessor(r);for(let v=0,S=c.length;v<S;v++){const A=new l(c[v]+"."+Pe[i.path],t.array,h,u);n.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(A),o.push(A)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=pn(t.constructor),n=new Float32Array(t.length);for(let i=0,o=t.length;i<o;i++)n[i]=t[i]*r;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const n=this instanceof Rn?Zc:sa;return new n(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function cl(a,e,t){const r=e.attributes,n=new Qa;if(r.POSITION!==void 0){const s=t.json.accessors[r.POSITION],c=s.min,l=s.max;if(c!==void 0&&l!==void 0){if(n.set(new se(c[0],c[1],c[2]),new se(l[0],l[1],l[2])),s.normalized){const u=pn(Je[s.componentType]);n.min.multiplyScalar(u),n.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=e.targets;if(i!==void 0){const s=new se,c=new se;for(let l=0,u=i.length;l<u;l++){const h=i[l];if(h.POSITION!==void 0){const v=t.json.accessors[h.POSITION],S=v.min,A=v.max;if(S!==void 0&&A!==void 0){if(c.setX(Math.max(Math.abs(S[0]),Math.abs(A[0]))),c.setY(Math.max(Math.abs(S[1]),Math.abs(A[1]))),c.setZ(Math.max(Math.abs(S[2]),Math.abs(A[2]))),v.normalized){const C=pn(Je[v.componentType]);c.multiplyScalar(C)}s.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(s)}a.boundingBox=n;const o=new Xa;n.getCenter(o.center),o.radius=n.min.distanceTo(n.max)/2,a.boundingSphere=o}function dr(a,e,t){const r=e.attributes,n=[];function i(o,s){return t.getDependency("accessor",o).then(function(c){a.setAttribute(s,c)})}for(const o in r){const s=dn[o]||o.toLowerCase();s in a.attributes||n.push(i(r[o],s))}if(e.indices!==void 0&&!a.index){const o=t.getDependency("accessor",e.indices).then(function(s){a.setIndex(s)});n.push(o)}return En.workingColorSpace!==he&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${En.workingColorSpace}" not supported.`),Ie(a,e),cl(a,e,t),Promise.all(n).then(function(){return e.targets!==void 0?nl(a,e.targets,t):a})}const Jt=new WeakMap;class ll extends vr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,n){const i=new Lt(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,o=>{this.parse(o,t,n)},r,n)}parse(e,t,r=()=>{}){this.decodeDracoFile(e,t,null,null,Oe).catch(r)}decodeDracoFile(e,t,r,n,i=he,o=()=>{}){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r,vertexColorSpace:i};return this.decodeGeometry(e,s).then(t).catch(o)}decodeGeometry(e,t){const r=JSON.stringify(t);if(Jt.has(e)){const c=Jt.get(e);if(c.key===r)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n;const i=this.workerNextTaskID++,o=e.byteLength,s=this._getWorker(i,o).then(c=>(n=c,new Promise((l,u)=>{n._callbacks[i]={resolve:l,reject:u},n.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return s.catch(()=>!0).then(()=>{n&&i&&this._releaseTask(n,i)}),Jt.set(e,{key:r,promise:s}),s}_createGeometry(e){const t=new Sr;e.index&&t.setIndex(new lt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const n=e.attributes[r],i=n.name,o=n.array,s=n.itemSize,c=new lt(o,s);i==="color"&&(this._assignVertexColorSpace(c,n.vertexColorSpace),c.normalized=!(o instanceof Float32Array)),t.setAttribute(i,c)}return t}_assignVertexColorSpace(e,t){if(t!==Oe)return;const r=new ce;for(let n=0,i=e.count;n<i;n++)r.fromBufferAttribute(e,n).convertSRGBToLinear(),e.setXYZ(n,r.r,r.g,r.b)}_loadLibrary(e,t){const r=new Lt(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((n,i)=>{r.load(e,n,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const n=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const i=ul.toString(),o=["/* draco decoder */",n,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:this.decoderConfig}),n.onmessage=function(i){const o=i.data;switch(o.type){case"decode":n._callbacks[o.id].resolve(o);break;case"error":n._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,i){return n._taskLoad>i._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function ul(){let a,e;onmessage=function(o){const s=o.data;switch(s.type){case"init":a=s.decoderConfig,e=new Promise(function(u){a.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(a)});break;case"decode":const c=s.buffer,l=s.taskConfig;e.then(u=>{const h=u.draco,v=new h.Decoder;try{const S=t(h,v,new Int8Array(c),l),A=S.attributes.map(C=>C.array.buffer);S.index&&A.push(S.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:S},A)}catch(S){console.error(S),self.postMessage({type:"error",id:s.id,error:S.message})}finally{h.destroy(v)}});break}};function t(o,s,c,l){const u=l.attributeIDs,h=l.attributeTypes;let v,S;const A=s.GetEncodedGeometryType(c);if(A===o.TRIANGULAR_MESH)v=new o.Mesh,S=s.DecodeArrayToMesh(c,c.byteLength,v);else if(A===o.POINT_CLOUD)v=new o.PointCloud,S=s.DecodeArrayToPointCloud(c,c.byteLength,v);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!S.ok()||v.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+S.error_msg());const C={index:null,attributes:[]};for(const m in u){const y=self[h[m]];let _,T;if(l.useUniqueIDs)T=u[m],_=s.GetAttributeByUniqueId(v,T);else{if(T=s.GetAttributeId(v,o[u[m]]),T===-1)continue;_=s.GetAttribute(v,T)}const E=n(o,s,v,m,y,_);m==="color"&&(E.vertexColorSpace=l.vertexColorSpace),C.attributes.push(E)}return A===o.TRIANGULAR_MESH&&(C.index=r(o,s,v)),o.destroy(v),C}function r(o,s,c){const u=c.num_faces()*3,h=u*4,v=o._malloc(h);s.GetTrianglesUInt32Array(c,h,v);const S=new Uint32Array(o.HEAPF32.buffer,v,u).slice();return o._free(v),{array:S,itemSize:1}}function n(o,s,c,l,u,h){const v=h.num_components(),A=c.num_points()*v,C=A*u.BYTES_PER_ELEMENT,m=i(o,u),y=o._malloc(C);s.GetAttributeDataArrayForAllPoints(c,h,m,C,y);const _=new u(o.HEAPF32.buffer,y,A).slice();return o._free(y),{name:l,array:_,itemSize:v}}function i(o,s){switch(s){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}class fl extends $a{constructor(e){super(e),this.type=xt}parse(e){const o=function(d,b){switch(d){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(b||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(b||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(b||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(b||""))}},u=`
`,h=function(d,b,p){b=b||1024;let R=d.pos,F=-1,j=0,N="",I=String.fromCharCode.apply(null,new Uint16Array(d.subarray(R,R+128)));for(;0>(F=I.indexOf(u))&&j<b&&R<d.byteLength;)N+=I,j+=I.length,R+=128,I+=String.fromCharCode.apply(null,new Uint16Array(d.subarray(R,R+128)));return-1<F?(d.pos+=j+F+1,N+I.slice(0,F)):!1},v=function(d){const b=/^#\?(\S+)/,p=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,w=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*FORMAT=(\S+)\s*$/,F=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,j={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let N,I;for((d.pos>=d.byteLength||!(N=h(d)))&&o(1,"no header found"),(I=N.match(b))||o(3,"bad initial token"),j.valid|=1,j.programtype=I[1],j.string+=N+`
`;N=h(d),N!==!1;){if(j.string+=N+`
`,N.charAt(0)==="#"){j.comments+=N+`
`;continue}if((I=N.match(p))&&(j.gamma=parseFloat(I[1])),(I=N.match(w))&&(j.exposure=parseFloat(I[1])),(I=N.match(R))&&(j.valid|=2,j.format=I[1]),(I=N.match(F))&&(j.valid|=4,j.height=parseInt(I[1],10),j.width=parseInt(I[2],10)),j.valid&2&&j.valid&4)break}return j.valid&2||o(3,"missing format specifier"),j.valid&4||o(3,"missing image size specifier"),j},S=function(d,b,p){const w=b;if(w<8||w>32767||d[0]!==2||d[1]!==2||d[2]&128)return new Uint8Array(d);w!==(d[2]<<8|d[3])&&o(3,"wrong scanline width");const R=new Uint8Array(4*b*p);R.length||o(4,"unable to allocate buffer space");let F=0,j=0;const N=4*w,I=new Uint8Array(4),B=new Uint8Array(N);let q=p;for(;q>0&&j<d.byteLength;){j+4>d.byteLength&&o(1),I[0]=d[j++],I[1]=d[j++],I[2]=d[j++],I[3]=d[j++],(I[0]!=2||I[1]!=2||(I[2]<<8|I[3])!=w)&&o(3,"bad rgbe scanline format");let V=0,H;for(;V<N&&j<d.byteLength;){H=d[j++];const te=H>128;if(te&&(H-=128),(H===0||V+H>N)&&o(3,"bad scanline data"),te){const le=d[j++];for(let Se=0;Se<H;Se++)B[V++]=le}else B.set(d.subarray(j,j+H),V),V+=H,j+=H}const ae=w;for(let te=0;te<ae;te++){let le=0;R[F]=B[te+le],le+=w,R[F+1]=B[te+le],le+=w,R[F+2]=B[te+le],le+=w,R[F+3]=B[te+le],F+=4}q--}return R},A=function(d,b,p,w){const R=d[b+3],F=Math.pow(2,R-128)/255;p[w+0]=d[b+0]*F,p[w+1]=d[b+1]*F,p[w+2]=d[b+2]*F,p[w+3]=1},C=function(d,b,p,w){const R=d[b+3],F=Math.pow(2,R-128)/255;p[w+0]=yt.toHalfFloat(Math.min(d[b+0]*F,65504)),p[w+1]=yt.toHalfFloat(Math.min(d[b+1]*F,65504)),p[w+2]=yt.toHalfFloat(Math.min(d[b+2]*F,65504)),p[w+3]=yt.toHalfFloat(1)},m=new Uint8Array(e);m.pos=0;const y=v(m),_=y.width,T=y.height,E=S(m.subarray(m.pos),_,T);let P,x,k;switch(this.type){case Gt:k=E.length/4;const d=new Float32Array(k*4);for(let p=0;p<k;p++)A(E,p*4,d,p*4);P=d,x=Gt;break;case xt:k=E.length/4;const b=new Uint16Array(k*4);for(let p=0;p<k;p++)C(E,p*4,b,p*4);P=b,x=xt;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:_,height:T,data:P,header:y.string,gamma:y.gamma,exposure:y.exposure,type:x}}setDataType(e){return this.type=e,this}load(e,t,r,n){function i(o,s){switch(o.type){case Gt:case xt:o.colorSpace=he,o.minFilter=Ze,o.magFilter=Ze,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,s)}return super.load(e,i,r,n)}}var dl=function(){var a="b9H79Tebbbe8Fv9Gbb9Gvuuuuueu9Giuuub9Geueu9Giuuueuikqbeeedddillviebeoweuec:q;iekr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbeY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVbdE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbiL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtblK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbol79IV9Rbrq:P8Yqdbk;3sezu8Jjjjjbcj;eb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Radz1jjjbhwcj;abad9UhoaicefhldnadTmbaoc;WFbGgocjdaocjd6EhDcbhqinaqae9pmeaDaeaq9RaqaDfae6Egkcsfgocl4cifcd4hxdndndndnaoc9WGgmTmbcbhPcehsawcjdfhzalhHinaraH9Rax6midnaraHaxfgl9RcK6mbczhoinawcj;cbfaogifgoc9WfhOdndndndndnaHaic9WfgAco4fRbbaAci4coG4ciGPlbedibkaO9cb83ibaOcwf9cb83ibxikaOalRblalRbbgAco4gCaCciSgCE86bbaocGfalclfaCfgORbbaAcl4ciGgCaCciSgCE86bbaocVfaOaCfgORbbaAcd4ciGgCaCciSgCE86bbaoc7faOaCfgORbbaAciGgAaAciSgAE86bbaoctfaOaAfgARbbalRbegOco4gCaCciSgCE86bbaoc91faAaCfgARbbaOcl4ciGgCaCciSgCE86bbaoc4faAaCfgARbbaOcd4ciGgCaCciSgCE86bbaoc93faAaCfgARbbaOciGgOaOciSgOE86bbaoc94faAaOfgARbbalRbdgOco4gCaCciSgCE86bbaoc95faAaCfgARbbaOcl4ciGgCaCciSgCE86bbaoc96faAaCfgARbbaOcd4ciGgCaCciSgCE86bbaoc97faAaCfgARbbaOciGgOaOciSgOE86bbaoc98faAaOfgORbbalRbiglco4gAaAciSgAE86bbaoc99faOaAfgORbbalcl4ciGgAaAciSgAE86bbaoc9:faOaAfgORbbalcd4ciGgAaAciSgAE86bbaocufaOaAfgoRbbalciGglalciSglE86bbaoalfhlxdkaOalRbwalRbbgAcl4gCaCcsSgCE86bbaocGfalcwfaCfgORbbaAcsGgAaAcsSgAE86bbaocVfaOaAfgORbbalRbegAcl4gCaCcsSgCE86bbaoc7faOaCfgORbbaAcsGgAaAcsSgAE86bbaoctfaOaAfgORbbalRbdgAcl4gCaCcsSgCE86bbaoc91faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc4faOaAfgORbbalRbigAcl4gCaCcsSgCE86bbaoc93faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc94faOaAfgORbbalRblgAcl4gCaCcsSgCE86bbaoc95faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc96faOaAfgORbbalRbvgAcl4gCaCcsSgCE86bbaoc97faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc98faOaAfgORbbalRbogAcl4gCaCcsSgCE86bbaoc99faOaCfgORbbaAcsGgAaAcsSgAE86bbaoc9:faOaAfgORbbalRbrglcl4gAaAcsSgAE86bbaocufaOaAfgoRbbalcsGglalcsSglE86bbaoalfhlxekaOal8Pbb83bbaOcwfalcwf8Pbb83bbalczfhlkdnaiam9pmbaiczfhoaral9RcL0mekkaiam6mialTmidnakTmbawaPfRbbhOcbhoazhiinaiawcj;cbfaofRbbgAce4cbaAceG9R7aOfgO86bbaiadfhiaocefgoak9hmbkkazcefhzaPcefgPad6hsalhHaPad9hmexvkkcbhlasceGmdxikalaxad2fhCdnakTmbcbhHcehsawcjdfhminaral9Rax6mialTmdalaxfhlawaHfRbbhOcbhoamhiinaiawcj;cbfaofRbbgAce4cbaAceG9R7aOfgO86bbaiadfhiaocefgoak9hmbkamcefhmaHcefgHad6hsaHad9hmbkaChlxikcbhocehsinaral9Rax6mdalTmealaxfhlaocefgoad6hsadao9hmbkaChlxdkcbhlasceGTmekc9:hoxikabaqad2fawcjdfakad2z1jjjb8Aawawcjdfakcufad2fadz1jjjb8Aakaqfhqalmbkc9:hoxekcbc99aral9Radcaadca0ESEhokavcj;ebf8Kjjjjbaok;yzeHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecjez:jjjjb8AavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhodnaeTmbcmcsaDceSEhkcbhxcbhmcbhDcbhicbhlindnaoaq9nmbc9:hoxikdndnawRbbgrc;Ve0mbavc;abfalarcl4cu7fcsGcitfgPydlhsaPydbhzdnarcsGgPak9pmbavaiarcu7fcsGcdtfydbaxaPEhraPThPdndnadcd9hmbabaDcetfgHaz87ebaHcdfas87ebaHclfar87ebxekabaDcdtfgHazBdbaHclfasBdbaHcwfarBdbkaxaPfhxavc;abfalcitfgHarBdbaHasBdlavaicdtfarBdbavc;abfalcefcsGglcitfgHazBdbaHarBdlaiaPfhialcefhlxdkdndnaPcsSmbamaPfaPc987fcefhmxekaocefhrao8SbbgPcFeGhHdndnaPcu9mmbarhoxekaocvfhoaHcFbGhHcrhPdninar8SbbgOcFbGaPtaHVhHaOcu9kmearcefhraPcrfgPc8J9hmbxdkkarcefhokaHce4cbaHceG9R7amfhmkdndnadcd9hmbabaDcetfgraz87ebarcdfas87ebarclfam87ebxekabaDcdtfgrazBdbarclfasBdbarcwfamBdbkavc;abfalcitfgramBdbarasBdlavaicdtfamBdbavc;abfalcefcsGglcitfgrazBdbaramBdlaicefhialcefhlxekdnarcpe0mbaxcefgOavaiaqarcsGfRbbgPcl49RcsGcdtfydbaPcz6gHEhravaiaP9RcsGcdtfydbaOaHfgsaPcsGgOEhPaOThOdndnadcd9hmbabaDcetfgzax87ebazcdfar87ebazclfaP87ebxekabaDcdtfgzaxBdbazclfarBdbazcwfaPBdbkavaicdtfaxBdbavc;abfalcitfgzarBdbazaxBdlavaicefgicsGcdtfarBdbavc;abfalcefcsGcitfgzaPBdbazarBdlavaiaHfcsGgicdtfaPBdbavc;abfalcdfcsGglcitfgraxBdbaraPBdlalcefhlaiaOfhiasaOfhxxekaxcbaoRbbgzEgAarc;:eSgrfhsazcsGhCazcl4hXdndnazcs0mbascefhOxekashOavaiaX9RcsGcdtfydbhskdndnaCmbaOcefhxxekaOhxavaiaz9RcsGcdtfydbhOkdndnarTmbaocefhrxekaocdfhrao8SbegHcFeGhPdnaHcu9kmbaocofhAaPcFbGhPcrhodninar8SbbgHcFbGaotaPVhPaHcu9kmearcefhraocrfgoc8J9hmbkaAhrxekarcefhrkaPce4cbaPceG9R7amfgmhAkdndnaXcsSmbarhPxekarcefhPar8SbbgocFeGhHdnaocu9kmbarcvfhsaHcFbGhHcrhodninaP8SbbgrcFbGaotaHVhHarcu9kmeaPcefhPaocrfgoc8J9hmbkashPxekaPcefhPkaHce4cbaHceG9R7amfgmhskdndnaCcsSmbaPhoxekaPcefhoaP8SbbgrcFeGhHdnarcu9kmbaPcvfhOaHcFbGhHcrhrdninao8SbbgPcFbGartaHVhHaPcu9kmeaocefhoarcrfgrc8J9hmbkaOhoxekaocefhokaHce4cbaHceG9R7amfgmhOkdndnadcd9hmbabaDcetfgraA87ebarcdfas87ebarclfaO87ebxekabaDcdtfgraABdbarclfasBdbarcwfaOBdbkavc;abfalcitfgrasBdbaraABdlavaicdtfaABdbavc;abfalcefcsGcitfgraOBdbarasBdlavaicefgicsGcdtfasBdbavc;abfalcdfcsGcitfgraABdbaraOBdlavaiazcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhialcifhlkawcefhwalcsGhlaicsGhiaDcifgDae6mbkkcbc99aoaqSEhokavc;aef8Kjjjjbaok:llevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:Lvoeue99dud99eud99dndnadcl9hmbaeTmeindndnabcdfgd8Sbb:Yab8Sbbgi:Ygl:l:tabcefgv8Sbbgo:Ygr:l:tgwJbb;:9cawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai86bbdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad86bbdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad86bbabclfhbaecufgembxdkkaeTmbindndnabclfgd8Ueb:Yab8Uebgi:Ygl:l:tabcdfgv8Uebgo:Ygr:l:tgwJb;:FSawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai87ebdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad87ebdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad87ebabcwfhbaecufgembkkk;siliui99iue99dnaeTmbcbhiabhlindndnJ;Zl81Zalcof8UebgvciV:Y:vgoal8Ueb:YNgrJb;:FSNJbbbZJbbb:;arJbbbb9GEMgw:lJbbb9p9DTmbaw:OhDxekcjjjj94hDkalclf8Uebhqalcdf8UebhkabavcefciGaiVcetfaD87ebdndnaoak:YNgwJb;:FSNJbbbZJbbb:;awJbbbb9GEMgx:lJbbb9p9DTmbax:Ohkxekcjjjj94hkkabavcdfciGaiVcetfak87ebdndnaoaq:YNgoJb;:FSNJbbbZJbbb:;aoJbbbb9GEMgx:lJbbb9p9DTmbax:Ohqxekcjjjj94hqkabavcufciGaiVcetfaq87ebdndnJbbjZararN:tawawN:taoaoN:tgrJbbbbarJbbbb9GE:rJb;:FSNJbbbZMgr:lJbbb9p9DTmbar:Ohqxekcjjjj94hqkabavciGaiVcetfaq87ebalcwfhlaiclfhiaecufgembkkk9mbdnadcd4ae2geTmbinababydbgdcwtcw91:Yadce91cjjj;8ifcjjj98G::NUdbabclfhbaecufgembkkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik;LeeeudndnaeabVciGTmbabhixekdndnadcz9pmbabhixekabhiinaiaeydbBdbaiclfaeclfydbBdbaicwfaecwfydbBdbaicxfaecxfydbBdbaiczfhiaeczfheadc9Wfgdcs0mbkkadcl6mbinaiaeydbBdbaeclfheaiclfhiadc98fgdci0mbkkdnadTmbinaiaeRbb86bbaicefhiaecefheadcufgdmbkkabk;aeedudndnabciGTmbabhixekaecFeGc:b:c:ew2hldndnadcz9pmbabhixekabhiinaialBdbaicxfalBdbaicwfalBdbaiclfalBdbaiczfhiadc9Wfgdcs0mbkkadcl6mbinaialBdbaiclfhiadc98fgdci0mbkkdnadTmbinaiae86bbaicefhiadcufgdmbkkabkkkebcjwklz9Kbb",e="b9H79TebbbeKl9Gbb9Gvuuuuueu9Giuuub9Geueuikqbbebeedddilve9Weeeviebeoweuec:q;Aekr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbdY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVblE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtboK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbrL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbwl79IV9RbDq;t9tqlbzik9:evu8Jjjjjbcz9Rhbcbheincbhdcbhiinabcwfadfaicjuaead4ceGglE86bbaialfhiadcefgdcw9hmbkaec:q:yjjbfai86bbaecitc:q1jjbfab8Piw83ibaecefgecjd9hmbkk;h8JlHud97euo978Jjjjjbcj;kb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Rad;8qbbcj;abad9UhoaicefhldnadTmbaoc;WFbGgocjdaocjd6EhwcbhDinaDae9pmeawaeaD9RaDawfae6Egqcsfgoc9WGgkci2hxakcethmaocl4cifcd4hPabaDad2fhscbhzdnincehHalhOcbhAdninaraO9RaP6miavcj;cbfaAak2fhCaOaPfhlcbhidnakc;ab6mbaral9Rc;Gb6mbcbhoinaCaofhidndndndndnaOaoco4fRbbgXciGPlbedibkaipxbbbbbbbbbbbbbbbbpklbxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklbalczfhlkdndndndndnaXcd4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklzxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklzalczfhlkdndndndndnaXcl4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklaxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaialpbbbpklaalczfhlkdndndndndnaXco4Plbedibkaipxbbbbbbbbbbbbbbbbpkl8WxikaialpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WalclfaYpQbfaXc:q:yjjbfRbbfhlxdkaialpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WalcwfaYpQbfaXc:q:yjjbfRbbfhlxekaialpbbbpkl8Walczfhlkaoc;abfhiaocjefak0meaihoaral9Rc;Fb0mbkkdndnaiak9pmbaici4hoinaral9RcK6mdaCaifhXdndndndndnaOaico4fRbbaocoG4ciGPlbedibkaXpxbbbbbbbbbbbbbbbbpklbxikaXalpbblalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalclfaYpQbfaKc:q:yjjbfRbbfhlxdkaXalpbbwalpbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbalcwfaYpQbfaKc:q:yjjbfRbbfhlxekaXalpbbbpklbalczfhlkaocdfhoaiczfgiak6mbkkalTmbaAci6hHalhOaAcefgohAaoclSmdxekkcbhlaHceGmdkdnakTmbavcjdfazfhiavazfpbdbhYcbhXinaiavcj;cbfaXfgopblbgLcep9TaLpxeeeeeeeeeeeeeeeegQp9op9Hp9rgLaoakfpblbg8Acep9Ta8AaQp9op9Hp9rg8ApmbzeHdOiAlCvXoQrLgEaoamfpblbg3cep9Ta3aQp9op9Hp9rg3aoaxfpblbg5cep9Ta5aQp9op9Hp9rg5pmbzeHdOiAlCvXoQrLg8EpmbezHdiOAlvCXorQLgQaQpmbedibedibedibediaYp9UgYp9AdbbaiadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaEa8EpmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaLa8ApmwKDYq8AkEx3m5P8Es8FgLa3a5pmwKDYq8AkEx3m5P8Es8Fg8ApmbezHdiOAlvCXorQLgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfgoaYaLa8ApmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaoadfgoaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaoadfgoaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaoadfgoaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaoadfhiaXczfgXak6mbkkazclfgzad6mbkasavcjdfaqad2;8qbbavavcjdfaqcufad2fad;8qbbaqaDfhDc9:hoalmexikkc9:hoxekcbc99aral9Radcaadca0ESEhokavcj;kbf8Kjjjjbaokwbz:bjjjbk;uzeHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecje;8kbavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhodnaeTmbcmcsaDceSEhkcbhxcbhmcbhDcbhicbhlindnaoaq9nmbc9:hoxikdndnawRbbgrc;Ve0mbavc;abfalarcl4cu7fcsGcitfgPydlhsaPydbhzdnarcsGgPak9pmbavaiarcu7fcsGcdtfydbaxaPEhraPThPdndnadcd9hmbabaDcetfgHaz87ebaHcdfas87ebaHclfar87ebxekabaDcdtfgHazBdbaHclfasBdbaHcwfarBdbkaxaPfhxavc;abfalcitfgHarBdbaHasBdlavaicdtfarBdbavc;abfalcefcsGglcitfgHazBdbaHarBdlaiaPfhialcefhlxdkdndnaPcsSmbamaPfaPc987fcefhmxekaocefhrao8SbbgPcFeGhHdndnaPcu9mmbarhoxekaocvfhoaHcFbGhHcrhPdninar8SbbgOcFbGaPtaHVhHaOcu9kmearcefhraPcrfgPc8J9hmbxdkkarcefhokaHce4cbaHceG9R7amfhmkdndnadcd9hmbabaDcetfgraz87ebarcdfas87ebarclfam87ebxekabaDcdtfgrazBdbarclfasBdbarcwfamBdbkavc;abfalcitfgramBdbarasBdlavaicdtfamBdbavc;abfalcefcsGglcitfgrazBdbaramBdlaicefhialcefhlxekdnarcpe0mbaxcefgOavaiaqarcsGfRbbgPcl49RcsGcdtfydbaPcz6gHEhravaiaP9RcsGcdtfydbaOaHfgsaPcsGgOEhPaOThOdndnadcd9hmbabaDcetfgzax87ebazcdfar87ebazclfaP87ebxekabaDcdtfgzaxBdbazclfarBdbazcwfaPBdbkavaicdtfaxBdbavc;abfalcitfgzarBdbazaxBdlavaicefgicsGcdtfarBdbavc;abfalcefcsGcitfgzaPBdbazarBdlavaiaHfcsGgicdtfaPBdbavc;abfalcdfcsGglcitfgraxBdbaraPBdlalcefhlaiaOfhiasaOfhxxekaxcbaoRbbgzEgAarc;:eSgrfhsazcsGhCazcl4hXdndnazcs0mbascefhOxekashOavaiaX9RcsGcdtfydbhskdndnaCmbaOcefhxxekaOhxavaiaz9RcsGcdtfydbhOkdndnarTmbaocefhrxekaocdfhrao8SbegHcFeGhPdnaHcu9kmbaocofhAaPcFbGhPcrhodninar8SbbgHcFbGaotaPVhPaHcu9kmearcefhraocrfgoc8J9hmbkaAhrxekarcefhrkaPce4cbaPceG9R7amfgmhAkdndnaXcsSmbarhPxekarcefhPar8SbbgocFeGhHdnaocu9kmbarcvfhsaHcFbGhHcrhodninaP8SbbgrcFbGaotaHVhHarcu9kmeaPcefhPaocrfgoc8J9hmbkashPxekaPcefhPkaHce4cbaHceG9R7amfgmhskdndnaCcsSmbaPhoxekaPcefhoaP8SbbgrcFeGhHdnarcu9kmbaPcvfhOaHcFbGhHcrhrdninao8SbbgPcFbGartaHVhHaPcu9kmeaocefhoarcrfgrc8J9hmbkaOhoxekaocefhokaHce4cbaHceG9R7amfgmhOkdndnadcd9hmbabaDcetfgraA87ebarcdfas87ebarclfaO87ebxekabaDcdtfgraABdbarclfasBdbarcwfaOBdbkavc;abfalcitfgrasBdbaraABdlavaicdtfaABdbavc;abfalcefcsGcitfgraOBdbarasBdlavaicefgicsGcdtfasBdbavc;abfalcdfcsGcitfgraABdbaraOBdlavaiazcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhialcifhlkawcefhwalcsGhlaicsGhiaDcifgDae6mbkkcbc99aoaqSEhokavc;aef8Kjjjjbaok:llevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaicd4cbaice4ceG9R7avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:EPliuo97eue978Jjjjjbca9Rhidndnadcl9hmbdnaec98GglTmbcbhvabhdinadadpbbbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpkbbadczfhdavclfgval6mbkkalae9pmeaiaeciGgvcdtgdVcbczad9R;8kbaiabalcdtfglad;8qbbdnavTmbaiaipblbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpklbkalaiad;8qbbskdnaec98GgxTmbcbhvabhdinadczfglalpbbbgopxbbbbbbFFbbbbbbFFgkp9oadpbbbgDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eaDaopmbediwDqkzHOAKY8AEgoczp:Sep;6egrp;Geaoczp:Reczp:Sep;6egwp;Gep;Kep;Legopxb;:FSb;:FSb;:FSb;:FSawaopxbbbbbbbbbbbbbbbbp:2egqawpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegwawp;Meaoaop;Mearaqaramp9op9rp;Kegoaop;Mep;Kep;Kep;Jep;Negrp;Mepxbbn0bbn0bbn0bbn0gqp;Keczp:Reawarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9op9qgwaoarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogopmwDKYqk8AExm35Ps8E8Fp9qpkbbadaDakp9oawaopmbezHdiOAlvCXorQLp9qpkbbadcafhdavclfgvax6mbkkaxae9pmbaiaeciGgvcitgdfcbcaad9R;8kbaiabaxcitfglad;8qbbdnavTmbaiaipblzgopxbbbbbbFFbbbbbbFFgkp9oaipblbgDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eaDaopmbediwDqkzHOAKY8AEgoczp:Sep;6egrp;Geaoczp:Reczp:Sep;6egwp;Gep;Kep;Legopxb;:FSb;:FSb;:FSb;:FSawaopxbbbbbbbbbbbbbbbbp:2egqawpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegwawp;Meaoaop;Mearaqaramp9op9rp;Kegoaop;Mep;Kep;Kep;Jep;Negrp;Mepxbbn0bbn0bbn0bbn0gqp;Keczp:Reawarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9op9qgwaoarp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogopmwDKYqk8AExm35Ps8E8Fp9qpklzaiaDakp9oawaopmbezHdiOAlvCXorQLp9qpklbkalaiad;8qbbkk;4wllue97euv978Jjjjjbc8W9Rhidnaec98GglTmbcbhvabhoinaiaopbbbgraoczfgwpbbbgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklbaopxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaqakp;Mearp;Keczp:ReaDakp;Mearp;Keamp9op9qgkpmbezHdiOAlvCXorQLgrp5baipblbpEb:T:j83ibaocwfarp5eaipblbpEe:T:j83ibawaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblbpEd:T:j83ibaocKfakp5eaipblbpEi:T:j83ibaocafhoavclfgval6mbkkdnalae9pmbaiaeciGgvcitgofcbcaao9R;8kbaiabalcitfgwao;8qbbdnavTmbaiaipblbgraipblzgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklaaipxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaqakp;Mearp;Keczp:ReaDakp;Mearp;Keamp9op9qgkpmbezHdiOAlvCXorQLgrp5baipblapEb:T:j83ibaiarp5eaipblapEe:T:j83iwaiaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblapEd:T:j83izaiakp5eaipblapEi:T:j83iKkawaiao;8qbbkk:Pddiue978Jjjjjbc;ab9Rhidnadcd4ae2glc98GgvTmbcbhdabheinaeaepbbbgocwp:Recwp:Sep;6eaocep:SepxbbjZbbjZbbjZbbjZp:UepxbbjFbbjFbbjFbbjFp9op;Mepkbbaeczfheadclfgdav6mbkkdnaval9pmbaialciGgdcdtgeVcbc;abae9R;8kbaiabavcdtfgvae;8qbbdnadTmbaiaipblbgocwp:Recwp:Sep;6eaocep:SepxbbjZbbjZbbjZbbjZp:UepxbbjFbbjFbbjFbbjFp9op;Mepklbkavaiae;8qbbkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaikkkebcjwklz9Tbb",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var n=WebAssembly.validate(t)?e:a,i,o=WebAssembly.instantiate(s(n),{}).then(function(y){i=y.instance,i.exports.__wasm_call_ctors()});function s(y){for(var _=new Uint8Array(y.length),T=0;T<y.length;++T){var E=y.charCodeAt(T);_[T]=E>96?E-97:E>64?E-39:E+4}for(var P=0,T=0;T<y.length;++T)_[P++]=_[T]<60?r[_[T]]:(_[T]-60)*64+_[++T];return _.buffer.slice(0,P)}function c(y,_,T,E,P,x){var k=i.exports.sbrk,d=T+3&-4,b=k(d*E),p=k(P.length),w=new Uint8Array(i.exports.memory.buffer);w.set(P,p);var R=y(b,T,E,p,P.length);if(R==0&&x&&x(b,d,E),_.set(w.subarray(b,b+T*E)),k(b-k(0)),R!=0)throw new Error("Malformed buffer data: "+R)}var l={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"},h=[],v=0;function S(y){var _={object:new Worker(y),pending:0,requests:{}};return _.object.onmessage=function(T){var E=T.data;_.pending-=E.count,_.requests[E.id][E.action](E.value),delete _.requests[E.id]},_}function A(y){for(var _="var instance; var ready = WebAssembly.instantiate(new Uint8Array(["+new Uint8Array(s(n))+"]), {}).then(function(result) { instance = result.instance; instance.exports.__wasm_call_ctors(); });self.onmessage = workerProcess;"+c.toString()+m.toString(),T=new Blob([_],{type:"text/javascript"}),E=URL.createObjectURL(T),P=0;P<y;++P)h[P]=S(E);URL.revokeObjectURL(E)}function C(y,_,T,E,P){for(var x=h[0],k=1;k<h.length;++k)h[k].pending<x.pending&&(x=h[k]);return new Promise(function(d,b){var p=new Uint8Array(T),w=v++;x.pending+=y,x.requests[w]={resolve:d,reject:b},x.object.postMessage({id:w,count:y,size:_,source:p,mode:E,filter:P},[p.buffer])})}function m(y){o.then(function(){var _=y.data;try{var T=new Uint8Array(_.count*_.size);c(i.exports[_.mode],T,_.count,_.size,_.source,i.exports[_.filter]),self.postMessage({id:_.id,count:_.count,action:"resolve",value:T},[T.buffer])}catch(E){self.postMessage({id:_.id,count:_.count,action:"reject",value:E})}})}return{ready:o,supported:!0,useWorkers:function(y){A(y)},decodeVertexBuffer:function(y,_,T,E,P){c(i.exports.meshopt_decodeVertexBuffer,y,_,T,E,i.exports[l[P]])},decodeIndexBuffer:function(y,_,T,E){c(i.exports.meshopt_decodeIndexBuffer,y,_,T,E)},decodeIndexSequence:function(y,_,T,E){c(i.exports.meshopt_decodeIndexSequence,y,_,T,E)},decodeGltfBuffer:function(y,_,T,E,P,x){c(i.exports[u[P]],y,_,T,E,i.exports[l[x]])},decodeGltfBufferAsync:function(y,_,T,E,P){return h.length>0?C(y,_,T,u[E],l[P]):o.then(function(){var x=new Uint8Array(y*_);return c(i.exports[u[E]],x,y,_,T,i.exports[l[P]]),x})}}}(),Ae=(a=>(a.Texture="Texture",a.GLTF="GLTF",a.GLB="glb",a.RGBE="RGBE",a))(Ae||{});class pl{constructor(){Z(this,"resources");Z(this,"total");Z(this,"totalSuccess");Z(this,"totalFail");Z(this,"fileLoaded");Z(this,"loadEnd");Z(this,"gltfLoader");Z(this,"glbLoader");Z(this,"rgbeLoader");Z(this,"textureLoader");this.resources={},this.total=0,this.totalSuccess=0,this.totalFail=0,this.fileLoaded=null,this.loadEnd=null;const e=new ll;e.setDecoderPath("libs/draco/");const t=new cr;t.setDRACOLoader(e),this.glbLoader=t,this.rgbeLoader=new fl,this.textureLoader=new Xe;const r=new cr;r.setMeshoptDecoder(dl),this.gltfLoader=r}load(e){this.total+=e.length;for(const t of e)this.loadResource(t)}onFileLoaded(e){this.fileLoaded=e}onLoadEnd(e){this.loadEnd=e}loadResource(e){const t=e.type;if(!t){console.warn("type is required");return}let r=this.textureLoader;switch(t){case"GLTF":r=this.gltfLoader;break;case"glb":r=this.glbLoader;break;case"Texture":r=this.textureLoader;break;case"RGBE":r=this.rgbeLoader;break;default:r=this.textureLoader}r.load(e.path,n=>{this.loadSuccess(e,n)},void 0,n=>{this.loadFail(e,n)})}loadSuccess(e,t){this.totalSuccess++;const r=e.name;this.resources[r]=t,this.fileLoaded&&this.fileLoaded(r,t),this.total===this.totalSuccess+this.totalFail&&this.loadEnd&&this.loadEnd(this.resources)}loadFail(e,t){console.warn(`resource ${e.name} load fail`,t),this.totalFail++,this.total===this.totalSuccess+this.totalFail&&this.loadEnd(this.resources)}}var bl={BASE_URL:"/hengkang.guthub.io",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Le=bl.VITE_SUB_DOMAIN||"",hl=[{name:"otherCarLoad",type:Ae.GLB,path:Le+"models/gltf/otherCar.glb"},{name:"windLine",type:Ae.GLB,path:Le+"models/gltf/wind_line.glb"},{name:"carLoad",type:Ae.GLB,path:Le+"models/gltf/su7-car_edit.glb"},{name:"startRoom",type:Ae.GLTF,path:Le+"models/sm_startroom.raw.gltf"},{name:"tunnelLoader",type:Ae.GLTF,path:Le+"models/sm_speedup.gltf"},{name:"carCurveLoad",type:Ae.GLB,path:Le+"models/gltf/xiedu.glb"},{name:"cubeGround",type:Ae.GLB,path:Le+"models/gltf/cubeGround.glb"},{name:"roadLoader",type:Ae.GLB,path:Le+"models/gltf/road.glb"}],pr=new kc,st=new pl;st.load(hl);function ml(){return D.jsx(D.Fragment,{children:D.jsx("div",{children:D.jsx(Dr,{tip:"Loading",size:"small"})})})}function _l(){const a=bt(i=>i.demand),e=bt(i=>i.progressDom),[t,r]=U.useState(void 0);st.onFileLoaded(()=>{const i=st.totalSuccess/st.total*100;e.textContent=`加载场景模型: ${parseInt(i.toString())} %`}),st.onLoadEnd(i=>{pr.build(i),r([pr.model])});const n=(i,o)=>{i.target instanceof HTMLCanvasElement&&ge.setState({touch:o})};return D.jsxs("div",{className:"ThreeContainer",children:[D.jsx(vs,{}),D.jsx(pa,{onPointerDown:i=>n(i,!0),onPointerUp:i=>n(i,!1),frameloop:a?"never":"always",dpr:[1,2],gl:{antialias:!0,toneMapping:Ja},camera:{fov:75,near:.1,far:500,position:[-.0908,.8,-3.9976]},children:D.jsx(U.Suspense,{fallback:D.jsx(ml,{}),children:t!==void 0&&D.jsx(bo,{model:t})})})]})}export{_l as default};
